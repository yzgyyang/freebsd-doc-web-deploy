<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD 7.1-RELEASE 发行说明</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD 7.1-RELEASE 发行说明</a></h1>

<h3 class="CORPAUTHOR">The FreeBSD Project</h3>

<p class="COPYRIGHT">版权 &copy; 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 The
FreeBSD Documentation Project</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/zh_CN.GB2312/relnotes/article.sgml,v
1.1.2.6.2.3 2009/01/01 06:43:16 hrs Exp $<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD 是 FreeBSD基金会的注册商标</p>

<p>IBM、 AIX、 EtherJet、 Netfinity、 OS/2、 PowerPC、 PS/2、 S/390 以及 ThinkPad
是国际商用机器公司在美国和其他国家的注册商标或商标。</p>

<p>IEEE, POSIX, 和 802 是 Institute of Electrical and Electronics Engineers, Inc.
在美国的注册商标。</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium, 和 Xeon 是 Intel
Corporation 及其分支机构在美国和其他国家的商标或注册商标。</p>

<p>Sparc, Sparc64, SPARCEngine, 以及 UltraSPARC 是 SPARC International, Inc
在美国和其他国家的商标。 包含 SPARC 商标的产品基于 Sun Microsystems, Inc.
开发的架构。</p>

<p>许多制造商和经销商使用一些称为商标的图案或文字设计来彰显自己的产品。 本文档中出现的，
为 FreeBSD Project 所知晓的商标，后面将以 '&trade;' 或 '&reg;' 符号来标注。</p>
</div>

<div>
<div class="ABSTRACT"><a id="AEN24" name="AEN24"></a>
<p>这份 FreeBSD 7.1-RELEASE 的发行说明， 概括了 FreeBSD 基本系统在 7.1-STABLE
开发线上所做的改动。 本文档列举了自前一发行版本以来所有适用的安全公告， 以及对于 FreeBSD
内核以及系统附带的应用程序所做的重要修改。 对在升级时需要注意的一些问题，
也进行了简略的介绍。</p>
</div>
</div>

<hr />
</div>

<div class="TOC">
<dl>
<dt><b>目录</b></dt>

<dt>1 <a href="#INTRO">简介</a></dt>

<dt>2 <a href="#NEW">最新变动</a></dt>

<dd>
<dl>
<dt>2.1 <a href="#SECURITY">安全公告</a></dt>

<dt>2.2 <a href="#KERNEL">对内核的改动</a></dt>

<dd>
<dl>
<dt>2.2.1 <a href="#BOOT">引导加载器的变化</a></dt>

<dt>2.2.2 <a href="#PROC">硬件支持</a></dt>

<dt>2.2.3 <a href="#NET-PROTO">网络协议</a></dt>

<dt>2.2.4 <a href="#DISKS">磁盘和存储</a></dt>

<dt>2.2.5 <a href="#FS">文件系统</a></dt>
</dl>
</dd>

<dt>2.3 <a href="#USERLAND">用户环境变动</a></dt>

<dd>
<dl>
<dt>2.3.1 <a href="#RC-SCRIPTS"><tt class="FILENAME">/etc/rc.d</tt> 脚本</a></dt>
</dl>
</dd>

<dt>2.4 <a href="#CONTRIB">基本系统中的第三方软件</a></dt>

<dt>2.5 <a href="#RELENG">发布工程与系统集成</a></dt>
</dl>
</dd>

<dt>3 <a href="#UPGRADE">从先前版本的 FreeBSD 升级</a></dt>
</dl>
</div>

<div class="SECT1">
<h2 class="SECT1"><a id="INTRO" name="INTRO">1 简介</a></h2>

<p>这篇文档包括了 FreeBSD 7.1-RELEASE 的发行说明。 它描述了最近刚刚加入、 修改或删除了的
FreeBSD 特性的说明。 同时， 它也将给出如何从先前的 FreeBSD 版本完成升级的说明。</p>

<p>这是一份 FreeBSD 7.1-RELEASE 的 release 发布包。 您可以从 <a
href="ftp://ftp.FreeBSD.org/" target="_top">ftp://ftp.FreeBSD.org/</a>
或其他镜像那里得到它的副本。 关于这个 (或其他) release 发布包的更多信息，可以在 <a
href="../../../../doc/en_US.ISO8859-1/books/handbook/" target="_top">FreeBSD 手册</a>
中的 <a href="../../../../doc/en_US.ISO8859-1/books/handbook/mirrors.html"
target="_top">“如何获得 FreeBSD” 附录</a> 中找到。</p>

<p>我们鼓励所有的用户在开始安装 FreeBSD 之前首先参考这一版本所对应的勘误信息。
勘误文档将随时更新，以便为用户提供在发布工程后期或该版本发布之后 “新发现的”
问题和相关信息。 通常，这包括已知的 bug，安全公告，以及对于文档的修订内容。 最新的
FreeBSD 7.1-RELEASE 勘误信息可以从 FreeBSD 网站获得。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="NEW" name="NEW">2 最新变动</a></h2>

<p>这一节描述了 FreeBSD 自从 7.0-RELEASE 以来最明显的新功能和变化。</p>

<p>发行说明中的绝大多数条目是在说明自从 7.0-RELEASE
以来的安全公告、新的驱动程序或硬件支持、新的命令或是选项、
重要的错误修补，以及基本系统中来自第三方的软件升级。 重要的 ports 和 packages
变动，或关于交付工程的变动也会在这份文档中体现。 显而易见地，发行说明不可能涵盖 FreeBSD
版本之间的每一个微小变动； 这篇文档主要关注的，仍然是安全公告，用户可以察觉的修改，
以及重要的架构改良。</p>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="SECURITY" name="SECURITY">2.1 安全公告</a></h3>

<p>下列安全公告所描述的问题均已在这一版本中进行了修正。 如欲了解进一步的信息， 请参阅位于
<a href="http://security.FreeBSD.org/" target="_top">http://security.FreeBSD.org/</a>
的安全公告全文。</p>

<div class="INFORMALTABLE"><a id="AEN44" name="AEN44"></a>
<table border="0" frame="void" class="CALSTABLE">
<col width="1*" />
<col width="1*" />
<col width="3*" />
<thead>
<tr>
<th>公告</th>
<th>日期</th>
<th>主题</th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:05.openssh.asc"
target="_top">SA-08:05.openssh</a></td>
<td>2008&nbsp;年&nbsp;4&nbsp;月&nbsp;17&nbsp;日</td>
<td>
<p>OpenSSH X11-转发特权提升问题</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:06.bind.asc"
target="_top">SA-08:06.bind</a></td>
<td>2008&nbsp;年&nbsp;7&nbsp;月&nbsp;13&nbsp;日</td>
<td>
<p>DNS 缓存投毒问题</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:07.amd64.asc"
target="_top">SA-08:07.amd64</a></td>
<td>2008&nbsp;年&nbsp;9&nbsp;月&nbsp;3&nbsp;日</td>
<td>
<p>amd64 swapgs 本地特权提升问题</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:08.nmount.asc"
target="_top">SA-08:08.nmount</a></td>
<td>2008&nbsp;年&nbsp;9&nbsp;月&nbsp;3&nbsp;日</td>
<td>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=nmount&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">nmount</span>(2)</span></a>
本地任意代码执行问题</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:09.icmp6.asc"
target="_top">SA-08:09.icmp6</a></td>
<td>2008&nbsp;年&nbsp;9&nbsp;月&nbsp;3&nbsp;日</td>
<td>
<p>IPv6 连接导致的远程内核崩溃问题</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:10.nd6.asc"
target="_top">SA-08:10.nd6</a></td>
<td>2008&nbsp;年&nbsp;10&nbsp;月&nbsp;1&nbsp;日</td>
<td>
<p>IPv6 邻居发现协议 (NDP) 路由漏洞</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:11.arc4random.asc"
target="_top">SA-08:11.arc4random</a></td>
<td>2008&nbsp;年&nbsp;11&nbsp;月&nbsp;24&nbsp;日</td>
<td>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=arc4random&sektion=9&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">arc4random</span>(9)</span></a>
可预测序列漏洞</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:12.ftpd.asc"
target="_top">SA-08:12.ftpd</a></td>
<td>2008&nbsp;年&nbsp;12&nbsp;月&nbsp;23&nbsp;日</td>
<td>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ftpd</span>(8)</span></a>
跨站请求伪造问题</p>
</td>
</tr>

<tr>
<td><a href="http://security.freebsd.org/advisories/FreeBSD-SA-08:13.protosw.asc"
target="_top">SA-08:13.protosw</a></td>
<td>2008&nbsp;年&nbsp;12&nbsp;月&nbsp;23&nbsp;日</td>
<td>
<p>netgraph / bluetooth 特权提升问题</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="KERNEL" name="KERNEL">2.2 对内核的改动</a></h3>

<p>为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=clock_gettime&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">clock_gettime</span>(2)</span></a>
和相关系统调用新增了符合 POSIX 的时钟 ID <tt
class="LITERAL">CLOCK_THREAD_CPUTIME_ID</tt>。</p>

<p>新增了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cpuset&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cpuset</span>(2)</span></a>
系统调用。 这是用于将线程与 CPU 及 CPU 资源组进行绑定和分配的 API。</p>

<p>从 OpenSolaris 引入了 DTrace， 一套完整的动态跟踪框架以及 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dtrace&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dtrace</span>(1)</span></a>
用户态工具。 DTrace 为管理员、
开发人员以及支持工程师提供了用于回答操作系统和用户程序各类问题的强大的基础设施。</p>

<p>为内核调试器 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a>
新增了输出捕捉机制。 来自 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a>
的输入和输出内容会自动捕捉到一个内存缓冲区， 以便在随后通过 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysctl</span>(8)</span></a> 或
textdump 来读取和分析。 新增的 <tt class="COMMAND">capture</tt>
命令可以控制这个功能。</p>

<p>为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a>
调试器新增了简单的脚本机制支持， 使其能够支持一组经过命名的包含一系列 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a>
命令的脚本。 这些脚本可以在 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a> 中，
或通过新增的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(8)</span></a>
来进行配置。 更多详情请参见联机手册 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a>。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a> 的 <tt
class="COMMAND">ex</tt> 命令新增了 <code class="OPTION">/S</code> 模式，
用于将指定的符号解析成地址并打印其值。 例如 <kbd class="USERINPUT">ex /S <tt
class="REPLACEABLE"><i>aio_swake</i></tt></kbd> 可以显示出当前通过 <tt
class="REPLACEABLE"><i>aio_swake</i></tt> 挂钩注册的地址。</p>

<p>为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ddb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ddb</span>(4)</span></a> 新增了
<tt class="COMMAND">show conifhk</tt> 命令。 它能够列出在 <code
class="FUNCTION">run_interrupt_driven_config_hooks()</code> 中等待的挂钩。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fcntl&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fcntl</span>(2)</span></a>
系统调用新增了 <tt class="LITERAL">F_DUP2FD</tt> 命令的支持。 它与 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dup&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dup</span>(2)</span></a>
作用相同， 并与 Sun Solaris 和 IBM AIX 兼容。</p>

<p>FreeBSD 的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=linux&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">linux</span>(4)</span></a> ABI
支持使用真正的 CPU 绑定配置原语实现了 <code class="FUNCTION">sched_setaffinity()</code>
和 <code class="FUNCTION">sched_getaffinity()</code>。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rpc.lockd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rpc.lockd</span>(8)</span></a>
客户端的功能在 FreeBSD 内核中重新进行了实现。 这个实现提供了正确的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=flock&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">flock</span>(2)</span></a>
风格的锁语义， 后者在命令行工具 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=lockf&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">lockf</span>(1)</span></a>
和库函数 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pidfile&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pidfile</span>(3)</span></a>
中有所使用。 它同时还提供了服务器重启时的恢复能力，
并能够确保修改过的数据块在获得锁之前写入服务器
(这使得多个不同的客户端能够安全地利用文件上锁来共享数据)。 此外， 新增了内核选项 <tt
class="LITERAL">options NFSLOCKD</tt> 并默认启用。 如果启用了内核支持， 则 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rpc.lockd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rpc.lockd</span>(8)</span></a>
会自动检测并使用这一功能。</p>

<p>内核新增了 textdump 格式的主存内容转存能力。 与传统主存内容转存方式不同， textdump
通过一系列机械化的生成/提取调试输出来提供高一级的信息。
这个机制即使在内核没有包含调试符号， 或源代码与内核不完全同步的情况下，
仍然能够提供简明但内容丰富的调试信息。 关于这一机制的进一步详情请参见联机手册 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=textdump&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">textdump</span>(4)</span></a>。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=wait4&sektion=2&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">wait4</span>(2)</span></a>
系统调用新增了 <code class="OPTION">WNOWAIT</code> 标志以保持进程的可等待状态， 以及与
<code class="OPTION">WUNTRACED</code> 等价的 <code class="OPTION">WSTOPPED</code>
标志。</p>

<p>[amd64, i386, sparc64] FreeBSD 内核支持将中断与 CPU 绑定了。</p>

<p>[amd64, i386] ULE 调度器成为了 <tt class="FILENAME">GENERIC</tt>
内核的默认进程调度器。</p>

<p>新增了与内核选项 <tt class="LITERAL">COMPAT_FREEBSD[456]</tt> 对应的 sysctl 变量 <code
class="VARNAME">kern.features.compat_freebsd[456]</code>。</p>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="BOOT" name="BOOT">2.2.1 引导加载器的变化</a></h4>

<p>[amd64, i386] 对引导加载器使用的 BTX 内核进行了修改， 使其在实模式下调用 BIOS 例程。
这一变动使得从 USB 设备引导 FreeBSD 成为了可能。</p>

<p>[amd64, i386] 新增了用于支持从 GPT 标签引导系统的 gptboot 引导加载器。 为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gpt&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gpt</span>(8)</span></a>
工具新增了 <tt class="COMMAND">boot</tt> 命令， 其作用是通过写入引导加载器，
并根据需要创建新的引导分区来让 GPT 磁盘能够引导系统。</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="PROC" name="PROC">2.2.2 硬件支持</a></h4>

<p>新增了用于支持 Omnikey CardMan 4040 PCMCIA 智能卡阅读器的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cmx&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cmx</span>(4)</span></a>
驱动。</p>

<p>[sparc64] 新增了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kbdmux&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kbdmux</span>(4)</span></a>
驱动程序。 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sunkbd&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sunkbd</span>(4)</span></a>
能够支持模拟 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=atkbd&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">atkbd</span>(4)</span></a> 的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ukbd&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ukbd</span>(4)</span></a> 了。</p>

<p><tt class="FILENAME">nvram(4)</tt> 驱动是 MPSAFE 的了。</p>

<p>不再支持用于 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=puc&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">puc</span>(4)</span></a>
驱动程序的 <tt class="LITERAL">PUC_FASTINTR</tt> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=psm&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">psm</span>(4)</span></a>
驱动程序会首先尝试检测触摸板之后再检测 IntelliMouse。 一些触摸板会伪装成 IntelliMouse，
导致探测 IntelliMouse 正常， 而检测触摸板则无法正常工作。</p>

<p>从 OpenBSD 引入了用于支持基于 Silicon Laboratories CP2101/CP2102 USB 串口适配器的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uslcom&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uslcom</span>(4)</span></a>
驱动。</p>

<div class="SECT4">
<hr />
<h5 class="SECT4"><a id="MM" name="MM">2.2.2.1 多媒体支持</a></h5>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=agp&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">agp</span>(4)</span></a>
驱动程序新增了 Intel G33 和 G45 的支持。</p>

<p>[i386] 新增了使用 VESA BIOS 的 DPMS 功能来完成挂起和恢复的 <tt
class="FILENAME">dpms(4)</tt> 驱动程序。</p>

<p>内核驱动程序 <b class="APPLICATION">DRM</b> 新增了 i915 GME 设备的支持。</p>
</div>

<div class="SECT4">
<hr />
<h5 class="SECT4"><a id="NET-IF" name="NET-IF">2.2.2.2 网络接口支持</a></h5>

<p>新增了用于支持 Atheros AR8121/AR8113/AR8114 千兆/百兆以太网控制器的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ale&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ale</span>(4)</span></a>
驱动程序。 在这一版本中的 <tt class="FILENAME">GENERIC</tt>
内核中默认并不包含此驱动。</p>

<p>将 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">em</span>(4)</span></a>
驱动程序分拆成了两个共享部分代码的驱动程序。 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">em</span>(4)</span></a>
驱动程序将继续支持高至 82575 的网卡以及新的针对客户机/桌面的网卡。 新增的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=igb&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">igb</span>(4)</span></a>
驱动程序则用于支持新的服务器网卡。</p>

<p>对 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hme&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hme</span>(4)</span></a>
驱动程序进行了改进。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ixgbe&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ixgbe</span>(4)</span></a>
驱动程序更新到了来自 Intel 的 1.6.2 版本。</p>

<p>某些采用 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">miibus</span>(4)</span></a>
支持的驱动程序的 IEEE 802.3 自动协商顺序不正确的问题得到了修正。 现在它会按照 Annex 288.3
描述的顺序正确地进行 IEEE 802.3 支持技术协商了。</p>

<p>为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=msk&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">msk</span>(4)</span></a>
驱动程序添加了针对短帧 TCP/UDP 硬件校验和计算 bug 的 workaround。 注意对于需要硬件进行
VLAN tag 插入的帧而言， 这个 workaround 没有做用， 因为在 mbuf 中插入 VLAN tag
会导致校验和变化。 因此如果需要 VLAN 就必须禁用硬件校验和辅助计算。</p>

<p>对 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ndis&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ndis</span>(4)</span></a> NDIS
miniport 驱动封装程序进行了改进。</p>

<p>对 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sf&sektion=4&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">sf</span>(4)</span></a>
驱动程序进行了改进， 它支持校验和辅助计算了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=stge&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">stge</span>(4)</span></a>
驱动程序支持 WOL (通过 LAN 唤醒) 了。</p>

<p>对 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=vr&sektion=4&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">vr</span>(4)</span></a>
驱动程序进行了改进。</p>

<p>[amd64, i386] 对 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=wpi&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">wpi</span>(4)</span></a>
驱动程序进行了更新， 修正了一系列可靠性问题。</p>
</div>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="NET-PROTO" name="NET-PROTO">2.2.3 网络协议</a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">arp</span>(8)</span></a>
工具新增了 <tt class="LITERAL">reject</tt> 和 <tt class="LITERAL">blackhole</tt> 关键字。
对于标记为 <tt class="LITERAL">reject</tt> 的项目， 发到主机的流量将被丢弃，
而发送者则会得到主机无法到达的回应。 对于标记为 <tt class="LITERAL">blackhole</tt>
的项目， 则只是简单地丢弃这些流量。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">bpf</span>(4)</span></a> 新增了
ioctl <tt class="LITERAL">BIOCSETFNR</tt>。 这个功能和 <tt class="LITERAL">BIOCSETF</tt>
类似， 但不丢弃描述符缓冲的所有包并重置统计数据。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=if_bridge&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">if_bridge</span>(4)</span></a>
支持使用 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ifconfig</span>(8)</span></a> 的
<tt class="LITERAL">ifmaxaddr</tt> 参数来限制网桥接口后面的源 MAC 数量了。</p>

<p>修正了可能在 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=carp&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">carp</span>(4)</span></a>
接口配置时导致内核崩溃的 bug。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dummynet</span>(4)</span></a>
子系统新增了 <tt class="LITERAL">fast</tt> 运行模式， 使得特定的包能够绕过 dummynet
调度器。 这能够降低延迟以及在包经过管道带宽限制时的开销， 并消除子系统内部的递归。 新增的
sysctl 变量 <code class="VARNAME">net.inet.ip.dummynet.io_fast</code>
可以用来启用这一功能。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=enc&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">enc</span>(4)</span></a>
新增了用于决定防火墙或 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bpf&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">bpf</span>(4)</span></a>
能够看到进入或流出 IPsec 包的内部以及外部报头的一系列 sysctl 变量。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gre&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gre</span>(4)</span></a> 新增了
ioctl <tt class="LITERAL">GRESKEY</tt> 和 <tt class="LITERAL">GREGKEY</tt>，
用于设置和读取发出包时的 GRE 秘钥。</p>

<p>修正了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipsec&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipsec</span>(4)</span></a>
子系统中的一个导致在路由 MTU 比接口路由 MTU 低时 PMTU 失效的 bug。</p>

<p>由于缺少多处理器支持， 删去了 netatm 子系统。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_nat&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_nat</span>(4)</span></a>
能够通过 <tt class="FILENAME">libalias</tt> 支持包的重定向了。
如欲了解进一步细节请参见联机手册。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_pptpgre&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_pptpgre</span>(4)</span></a>
新增了类似 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_l2tp&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_l2tp</span>(4)</span></a>
的多重挂钩， 使用一对 pptpgre 和 ksocket 节点来完成两个断点的全部调用。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=resolver&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">resolver</span>(3)</span></a>
允许在域名中出现下划线了。 尽管这违反 RFC 1034 [STD 13]，
但一些域名服务器和其他流行的操作系统的解析库都允许这种域名。</p>

<p>新增了用于 TCP socket 的 socket 选项 <tt class="LITERAL">TCP_CONGESTION</tt>。
它能够设置和读取拥塞控制算法。 选择这个名字的目的是与 Linux 兼容。</p>

<p>在 <code class="VARNAME">inpcbinfo</code> 和 <code class="VARNAME">inpcb</code>
基础设施以及依赖这一基础设施的协议， 包括 UDP、 TCP 和 IP raw socket 中使用了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rwlock&sektion=9&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rwlock</span>(9)</span></a>
来减少锁的冲撞。</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="DISKS" name="DISKS">2.2.4 磁盘和存储</a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=aac&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">aac</span>(4)</span></a>
驱动程序支持尺寸超过 2TB 的卷了。</p>

<p>为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a>
驱动程序新增了引导加载器变量 <code class="VARNAME">hw.ata.ata_dma_check_80pin</code>。
它可以用来在一些笔记本和 Soekris 的有问题的主板上禁止 80针 电缆检查。 默认配置是 <tt
class="LITERAL">1</tt>。</p>

<p>修正了在 ServerWorks HT1000 芯片组上 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a>
驱动程序导致的数据损坏问题。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ciss&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ciss</span>(4)</span></a>
驱动程序新增了引导加载器变量 <code class="VARNAME">hw.ciss.nop_message_heartbeat</code>
用于在 <code class="FUNCTION">ciss_periodic()</code> 中以 NOP-消息轮询。 这可以作为 <tt
class="LITERAL">ADAPTER HEARTBEAT FAILED</tt> 问题的 workaround。 默认配置为 <tt
class="LITERAL">0</tt> (禁用)。</p>

<p><tt class="FILENAME">geom_part</tt> GEOM 类 可以作为内核模块联编了。</p>

<p><tt class="FILENAME">geom_linux_lvm</tt> GEOM 类 可以作为内核模块联编了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hptrr&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hptrr</span>(4)</span></a>
更新到了来自 Highpoint 的 1.2 版。</p>

<p>修正了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=iir&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">iir</span>(4)</span></a>
驱动程序中的一处缓冲区溢出。 这修正了大量关于这一驱动的怪异问题。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mpt&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mpt</span>(4)</span></a>
驱动程序支持 <tt class="LITERAL">mpt_user</tt> 个体了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rr232x&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rr232x</span>(4)</span></a> 被 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hptrr&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hptrr</span>(4)</span></a>
驱动程序取代。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=twa&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">twa</span>(4)</span></a>
驱动程序针对大量内存和高 CPU 负载的机器进行了可靠性改进。</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="FS" name="FS">2.2.5 文件系统</a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fdescfs&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fdescfs</span>(5)</span></a> 是
MPSAFE 的了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gpart</span>(8)</span></a> 新增了
BSD 标签 (option <tt class="LITERAL">GEOM_PART_BSD</tt>) 和 VTOC8 标签 (option <tt
class="LITERAL">GEOM_PART_VTOC8</tt>) 的支持。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gvinum&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gvinum</span>(8)</span></a>
新增了用于创建 plex 的 <tt class="REPLACEABLE"><i>volume</i></tt> 参数。</p>

<p>修正了 <tt class="FILENAME">unionfs(7)</tt> 中 UNIX domain socket 路径名的一个查找
bug。</p>
</div>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="USERLAND" name="USERLAND">2.3 用户环境变动</a></h3>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">adduser</span>(8)</span></a>
工具新增了用于指定新用户主目录的 <code class="OPTION">-M</code> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=atacontrol&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">atacontrol</span>(8)</span></a>
工具新增了用于设置将设备置于减速状态超时时间的 <tt class="COMMAND">spindown</tt>
命令。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">chflags</span>(1)</span></a>
新增了用于指定详细输出的 <code class="OPTION">-v</code> 选项， 以及类似于 (例如) <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">chmod</span>(1)</span></a>
对应的忽略错误语义的 <code class="OPTION">-f</code> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cp&sektion=1&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">cp</span>(1)</span></a> 新增了等价于
<code class="OPTION">-RpP</code> 的 <code class="OPTION">-a</code> 选项。</p>

<p>修正了导致 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cp&sektion=1&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">cp</span>(1)</span></a> 工具无法复制
POSIX.1e ACL (参见 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acl&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">acl</span>(3)</span></a>) 的
bug。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cron</span>(8)</span></a> 支持使用
<code class="OPTION">-m</code> 选项来指定默认的邮件收件人了。 这一配置可以通过 <tt
class="FILENAME">crontab</tt> 文件中的 <tt class="LITERAL">MAILTO=</tt> 配置来覆盖。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dhclient</span>(8)</span></a>
新增了对于 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcp-options&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dhcp-options</span>(5)</span></a>
中更多选项的支持。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dhclient</span>(8)</span></a>
新增了用于判断当前接口是否提供默认路由的 <code
class="FUNCTION">is_default_interface()</code> 函数。</p>

<p>修正了导致 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dhclient</span>(8)</span></a>
无法删除默认路由的 bug。</p>

<p>环境变量数组 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=environ&sektion=7&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">environ</span>(7)</span></a>
支持将变量的第一个字符设置为 NUL 来删除变量了。 这一功能是一些第三方软件如 <b
class="APPLICATION">Dovecot</b> 和 <b class="APPLICATION">Postfix</b> 所需要的。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fdisk</span>(8)</span></a>
新增了禁止显示警告的 <code class="OPTION">-q</code> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fetch</span>(1)</span></a> 程序和
<tt class="FILENAME">libfetch</tt> 函数库新增了对于 <code class="VARNAME">NO_PROXY</code>
环境变量的支持。 这个环境变量可以用来指定逗号或空格分开的主机名列表，
令这些主机不使用代理。 如果使用星号， 则表示禁止使用代理。</p>

<p>新增了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ffsll&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ffsll</span>(3)</span></a> 和 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=flsll&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">flsll</span>(3)</span></a> 函数。
除了在 long long 类型上操作之外它们和 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ffs&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ffs</span>(3)</span></a> 及 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fls&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fls</span>(3)</span></a>
功能相同。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fortune&sektion=6&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fortune</span>(6)</span></a>
程序新增了对于使用 <code class="VARNAME">FORTUNE_PATH</code> 环境变量指定搜索 fortune
文件的支持。</p>

<p>修正了导致 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fortune&sektion=6&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fortune</span>(6)</span></a>
程序的 <code class="OPTION">-e</code> 选项无法配合多个文件工作的 bug。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update.conf&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">freebsd-update.conf</span>(5)</span></a> 新增了 <tt
class="LITERAL">IDSIgnorePaths</tt> 语句。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fwcontrol&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fwcontrol</span>(8)</span></a>
工具新增了用于在下次总线复位时将 <tt class="REPLACEABLE"><i>node</i></tt> 指定为根节点的
<code class="OPTION">-f <tt class="REPLACEABLE"><i>node</i></tt></code> 选项。</p>

<p>[sparc64] <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gcc&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gcc</span>(1)</span></a>
能够正确处理 <code class="OPTION">-mcpu</code> 选项了。 之前它是硬编码的 <code
class="OPTION">-mcpu=ultrasparc</code>。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gpt&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gpt</span>(8)</span></a> 支持 ZFS
了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ifconfig</span>(8)</span></a>
新增了显示 WPS IE (Wireless Provisioning Services Information Element) 的支持。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kgdb</span>(1)</span></a>
新增了用于定位 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kld&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kld</span>(4)</span></a>
及其符号的 <tt class="COMMAND">add-kld <tt class="REPLACEABLE"><i>kld</i></tt></tt>
命令。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kgdb</span>(1)</span></a>
新增了动态连接库后端， 将 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kld&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kld</span>(4)</span></a>
视为动态连接库， 并在启动时自动为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kld&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kld</span>(4)</span></a>
加载符号。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kgdb</span>(1)</span></a> 新增了
<tt class="COMMAND">tid</tt> 命令以及其他与内核模块相关的命令， 并可以远程工作。</p>

<p>新增了用于获得全局 CPU 时间统计的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kvm_getcptime&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kvm_getcptime</span>(3)</span></a>
函数。</p>

<p><tt class="FILENAME">libalias</tt> 函数库支持小写的 FTP 命令 <tt
class="LITERAL">PORT</tt> 和 <tt class="LITERAL">EPRT</tt> 了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=man&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">man</span>(1)</span></a>
新增了对于 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bzip2&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">bzip2</span>(1)</span></a>
压缩的联机手册的有限支持。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mdconfig&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mdconfig</span>(8)</span></a>
新增了 <code class="OPTION">-v</code> (详细) 选项， 用于配合 <code
class="OPTION">-l</code> 命令使用。 它可以显示所有 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=md&sektion=4&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">md</span>(4)</span></a>
设备的尺寸和后端存储。</p>

<p>新增了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=memrchr&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">memrchr</span>(3)</span></a>
函数。 它和 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=memchr&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">memchr</span>(3)</span></a>
的不同之处在于它是从后匹配字符。</p>

<p>修正了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=morse&sektion=6&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">morse</span>(6)</span></a>
程序输出中的语法错误。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mountd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mountd</span>(8)</span></a>
工具新增了用于指定绑定 TCP 和 UDP 请求的 IP 地址的 <code class="OPTION">-h <tt
class="REPLACEABLE"><i>bindip</i></tt></code> 选项。 这个选项可以指定多次。 如果没有指定
<code class="OPTION">-h</code> 选项则表示使用 <tt class="LITERAL">INADDR_ANY</tt> 。
如果通过这个选项指定 IP 地址， 它会自动将 <tt class="LITERAL">127.0.0.1</tt> 加入列表；
如果启用了 IPv6， 则 <tt class="LITERAL">::1</tt> 也会自动加入列表。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">moused</span>(8)</span></a>
工具新增了用于改变滚轮速度的 <code class="OPTION">-L</code> 选项以及只影响滚轮阈值的
<code class="OPTION">-U</code> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mv&sektion=1&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">mv</span>(1)</span></a>
在将目录移动到跨设备的另一个已经存在的目录时遵循 POSIX 规范。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">periodic</span>(8)</span></a>
新增了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic.conf&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">periodic.conf</span>(5)</span></a>
配置变量 <code class="VARNAME">daily_status_mail_rejects_shorten</code>。
它表示按照黑名单来给出拒收列表而不给出具体的发送人主机。
默认的配置则保持原先的输出格式不变。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ping6&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ping6</span>(8)</span></a> 采用与
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ping</span>(8)</span></a>
相同的返回码 <tt class="LITERAL">0</tt> 和 <tt class="LITERAL">2</tt> 了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ping6&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ping6</span>(8)</span></a>
新增了使其在收到一个回应包之后正常退出的 <code class="OPTION">-o</code> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ping6&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ping6</span>(8)</span></a>
新增了和 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ping</span>(8)</span></a> 的 <code
class="OPTION">-a</code> 和 <code class="OPTION">-A</code> 等价的 <code
class="OPTION">-r</code> 和 <code class="OPTION">-R</code> 选项。</p>

<p>将 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ping6&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ping6</span>(8)</span></a>
允许的最小间隔从 0.01 减少到了 0.000001。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=realpath&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">realpath</span>(1)</span></a>
新增了用于禁止给出警告信息的 <code class="OPTION">-q</code> 选项； 此外，
它能够接受多个路径作为命令行参数了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rfcomm_pppd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rfcomm_pppd</span>(8)</span></a>
新增了 <code class="OPTION">-D</code> 选项用于在 LAN (LAN Access Using PPP) 服务之外注册
DUN (Dial-Up Networking) 服务。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sdpd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sdpd</span>(8)</span></a> 新增了
<tt class="LITERAL">NAP</tt>, <tt class="LITERAL">GN</tt> 和 <tt
class="LITERAL">PANU</tt> 配置文件。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=setkey&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">setkey</span>(8)</span></a> 支持将
<tt class="LITERAL">esp</tt> 作为 <tt class="COMMAND">spdadd</tt> 命令的协议名了。</p>

<p>修正了 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=telnetd&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">telnetd</span>(8)</span></a>
在指定了 <code class="OPTION">-a off</code> 时仍然试图进行身份验证的 bug。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=top&sektion=1&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">top</span>(1)</span></a> 和 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=vmstat&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">vmstat</span>(8)</span></a>
新增了显示每个 CPU 统计的 <code class="OPTION">-P</code> 选项。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=traceroute&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">traceroute</span>(8)</span></a>
新增了用于显示每跳 IP 对应的 AS 编号的 <code class="OPTION">-a</code> 选项。 它会从 <code
class="OPTION">-A</code> 选项指定的 WHOIS 服务器进行查询。 如果没有指定 <code
class="OPTION">-A</code> 选项， 则默认使用 <tt class="HOSTID">whois.radb.net</tt>。</p>

<p>新增了用于编码和解码 UUID 二进制形式的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uuid_enc_le&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uuid_enc_le</span>(3)</span></a>、
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uuid_dec_le&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uuid_dec_le</span>(3)</span></a>、
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uuid_enc_be&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uuid_enc_be</span>(3)</span></a>
和 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uuid_dec_be&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uuid_dec_be</span>(3)</span></a>
函数。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=watch&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">watch</span>(8)</span></a>
支持同时超过 10 个 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=snp&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">snp</span>(4)</span></a>
设备了。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ypserv</span>(8)</span></a>
新增了用于指定监听端口的 <code class="OPTION">-P</code> 参数。</p>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="RC-SCRIPTS" name="RC-SCRIPTS">2.3.1 <tt
class="FILENAME">/etc/rc.d</tt> 脚本</a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a>
新增了当 <code class="VARNAME">firewall_enable</code> 为 <tt class="LITERAL">YES</tt>
时自动加载 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&sektion=4&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dummynet</span>(4)</span></a>
内核模块的 <code class="VARNAME">dummynet_enable</code> 变量。</p>

<p><tt class="FILENAME">ntpd</tt> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">rc</span>(8)</span></a> 脚本可以在没有
<tt class="FILENAME">/etc/ntp.conf</tt> 配置文件的情况下工作了。</p>

<p><tt class="FILENAME">ppp</tt> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">rc</span>(8)</span></a>
脚本支持多份实例了。 如欲了解细节， 请参阅 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a> 的
<code class="VARNAME">ppp_profile</code> 变量。</p>

<p><tt class="FILENAME">sysctl</tt> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=FreeBSD+7.1-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">rc</span>(8)</span></a> 脚本新增了在
<tt class="FILENAME">/etc/sysctl.conf</tt> 基础上加载 <tt
class="FILENAME">/etc/sysctl.conf.local</tt> 的支持。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a>
新增了为网卡和附加设备， 通过 <tt class="FILENAME">rc.firewall</tt> 规则集配置 <code
class="VARNAME">firewall_type</code> 是 <tt class="LITERAL">simple</tt> 或 <tt
class="LITERAL">client</tt> 防火墙的支持。 请参阅 <code
class="VARNAME">firewall_client_net</code>、 <code
class="VARNAME">firewall_simple_iif</code>、 <code
class="VARNAME">firewall_simple_inet</code>、 <code
class="VARNAME">firewall_simple_oif</code>、 和 <code
class="VARNAME">firewall_simple_onet</code>。</p>
</div>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="CONTRIB" name="CONTRIB">2.4 基本系统中的第三方软件</a></h3>

<p><b class="APPLICATION">am-utils</b> 从 6.0.10p1 版升级到了 6.1.5 版。</p>

<p><b class="APPLICATION">ISC BIND</b> 升级到了 9.4.2-P2 版。</p>

<p><b class="APPLICATION">awk</b> 从 2007 年 5 月 1 日版升级到了 2007 年 10 月 23
日版。</p>

<p><b class="APPLICATION">bzip2</b> 从 1.0.4 升级到了 1.0.5。</p>

<p><b class="APPLICATION">CVS</b> 更新到了 1.11.22.1。</p>

<p><b class="APPLICATION">hostapd</b> 更新到了 0.5.10 版 + radius ACL 支持。</p>

<p><tt class="FILENAME">libarchive</tt> 更新到了 2.5.5 版。</p>

<p><b class="APPLICATION">ncurses</b> 库更新到了 5.6-20080503 版。</p>

<p><b class="APPLICATION">NTP</b> 更新到了 4.2.4p5 版。</p>

<p><b class="APPLICATION">OpenPAM</b> 从 Figwort 版升级到了 Hydrangea 版。</p>

<p><b class="APPLICATION">OpenSSH</b> 从 4.5p1 版升级到了 5.1p1 版。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=resolver&sektion=3&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">resolver</span>(3)</span></a>
库更新到了 <b class="APPLICATION">ISC BIND</b> 9.4.3。</p>

<p><b class="APPLICATION">sendmail</b> 从 8.14.2 版升级到了 8.14.3 版。</p>

<p>时区数据库从 <b class="APPLICATION">tzdata2007h</b> 版升级到了 <b
class="APPLICATION">tzdata2008b</b> 版。</p>

<p><b class="APPLICATION">wpa_supplicant</b> 更新到了 0.5.10 版 + syslog 支持。</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="RELENG" name="RELENG">2.5 发布工程与系统集成</a></h3>

<p>支持的 <b class="APPLICATION">GNOME</b> 桌面环境 (<a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/x11/gnome2/pkg-descr"><tt
class="FILENAME">x11/gnome2</tt></a>) 从 2.20.1 升级到了 2.22。</p>

<p>支持的 <b class="APPLICATION">KDE</b> 桌面环境 (<a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/x11/kde3/pkg-descr"><tt
class="FILENAME">x11/kde3</tt></a>) 从 3.5.8 升级到了 3.5.10。</p>
</div>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="UPGRADE" name="UPGRADE">3 从先前版本的 FreeBSD 升级</a></h2>

<p>[amd64, i386] 从 FreeBSD 6.2-RELEASE 开始， 系统已经能够通过使用 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">freebsd-update</span>(8)</span></a> 来实现 RELEASE 版本之间
(以及不同安全分支的快照版本) 的二进制升级。 二进制升级过程将更新未经修改的 userland
工具， 以及随官方 FreeBSD 发行版发布的、 未作修改的 GENERIC 内核。 使用 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">freebsd-update</span>(8)</span></a> 工具的主机， 需要有可用的
Internet 连接。</p>

<p>旧式的二进制升级， 则是通过随 CDROM 发行介质提供的 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+7.1-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a> 的
<tt class="COMMAND">Upgrade</tt> 选项来完成的。 这种二进制升级方式， 对于 非-i386、
非-amd64 的， 以及没有接入 Internet 的系统而言会比较有用。</p>

<p>此外， 也可以使用源代码从较早版本升级的方式 (通过从源代码重新编译 FreeBSD
的基本系统)， 其操作方法请参见 <tt class="FILENAME">/usr/src/UPDATING</tt>。</p>

<div class="IMPORTANT">
<blockquote class="IMPORTANT">
<p><b>重要:</b> 很显然，升级 FreeBSD 时，应该首先备份 <span class="emphasis"><b
class="EMPHASIS">全部</b></span> 数据和配置文件。</p>
</blockquote>
</div>
</div>
</div>

<hr />
<p align="center"><small>这份文档，以及其他与FreeBSD发行版本有关的文档，都可以在 <a
href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>下载。</small></p>

<p align="center"><small>在遇到关于FreeBSD的技术问题时，请首先阅读 <a
href="http://www.FreeBSD.org/docs.html">文档</a> 之后再考虑联系 &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;。</small></p>

<p align="center"><small>所有 FreeBSD 7.1-STABLE 的用户都应该订阅 &#60;<a
href="mailto:stable@FreeBSD.org">stable@FreeBSD.org</a>&#62; 邮件列表。</small></p>

<p align="center"><small>关于这份文档的任何问题，请致信 &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;。</small></p>
</body>
</html>

