<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD 5.4-RELEASE 发行版勘误</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD 5.4-RELEASE 发行版勘误</a></h1>

<h3 class="CORPAUTHOR">The FreeBSD Project</h3>

<p class="COPYRIGHT">版权 &copy; 2000, 2001, 2002, 2003, 2004, 2005, 2006 The FreeBSD
Documentation Project</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/zh_CN.GB2312/errata/article.sgml,v
1.1.2.2.1000.1 2006/03/07 16:21:12 delphij Exp $<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD is a registered trademark of the FreeBSD Foundation.</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or
registered trademarks of Intel Corporation or its subsidiaries in the United States and
other countries.</p>

<p>Sparc, Sparc64, SPARCEngine, and UltraSPARC are trademarks of SPARC International, Inc
in the United States and other countries. Products bearing SPARC trademarks are based
upon architecture developed by Sun Microsystems, Inc.</p>

<p>Many of the designations used by manufacturers and sellers to distinguish their
products are claimed as trademarks. Where those designations appear in this document, and
the FreeBSD Project was aware of the trademark claim, the designations have been followed
by the ``&trade;'' or the ``&reg;'' symbol.</p>
</div>

<hr />
</div>

<blockquote class="ABSTRACT">
<div class="ABSTRACT"><a id="AEN22" name="AEN22"></a>
<p>这份文档列出了 FreeBSD 5.4-RELEASE 的勘误内容，
其中包括在发行版发布之后发现的重大问题， 以及在发行版的交付工程后期本应写进发行版文档，
而没有来得及加入的重要信息。 这些信息可能包括安全公告，
以及关于可能影响软件和文档的操作或可用性的新闻。 在安装此版本的 FreeBSD 之前，
应首先阅读此文档的最新版本。</p>

<p>这份 FreeBSD 5.4-RELEASE 的勘误文档将被持续地维护， 直到 FreeBSD 的 5.5-RELEASE
发布为止。</p>
</div>
</blockquote>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="INTRO" name="INTRO">1 介绍</a></h2>

<p>这份勘误文档包含了关于 FreeBSD 5.4-RELEASE 的 ``最新重大新闻''。 在安装这一版本之前，
参考这份文档以了解在发布之后已经发现并修正了哪些问题非常重要。</p>

<p>遂发行版本而发布的这份文档 (例如， 在 CDROM 上附带的) 一般来说已经过时了， 但在
Internet 上的其他副本会被持续更新， 因此应作为这一发行版的 ``最新勘误'' 来看待。
这些勘误文档的副本， 可以在 <a href="http://www.FreeBSD.org/releases/"
target="_top">http://www.FreeBSD.org/releases/</a>，
以及所有其他保持与其同步的镜像上找到。</p>

<p>FreeBSD 5-STABLE 的源代码和预编译形式的快照中， 也会包含本文档 (在制作快照时)
的最新版本。</p>

<p>全部 FreeBSD CERT 安全公告的列表， 可以在 <a href="http://www.FreeBSD.org/security/"
target="_top">http://www.FreeBSD.org/security/</a> 或 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/"
target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/</a> 找到。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="SECURITY" name="SECURITY">2 安全公告</a></h2>

<p>下列安全公告与 FreeBSD 5.4-RELEASE 有关。 要了解进一步的信息， 请从 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/"
target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/</a>
下载并阅读安全公告。</p>

<div class="INFORMALTABLE"><a id="AEN40" name="AEN40"></a>
<table border="0" frame="void" class="CALSTABLE">
<col width="1*" />
<col width="1*" />
<col width="3*" />
<thead>
<tr>
<th>安全公告</th>
<th>日期</th>
<th>主题</th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-06:10.nfs.asc"
target="_top">06:10.nfs</a></td>
<td>2006&nbsp;年&nbsp;3&nbsp;月&nbsp;1&nbsp;日</td>
<td>
<p>针对 NFS 服务器的远程拒绝服务攻击</p>
</td>
</tr>

<tr>
<td><a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-06:09.openssh.asc"
target="_top">06:09.openssh</a></td>
<td>2006&nbsp;年&nbsp;3&nbsp;月&nbsp;1&nbsp;日</td>
<td>
<p>针对 OpenSSH 的远程拒绝服务攻击</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-06:07.pf.asc"
target="_top">06:07.pf</a></td>
<td>2006&nbsp;年&nbsp;1&nbsp;月&nbsp;25&nbsp;日</td>
<td>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pf&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">pf</span>(4)</span></a> 中 IP
分片处理导致的 panic</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-06:03.cpio.asc"
target="_top">06:03.cpio</a></td>
<td>2006&nbsp;年&nbsp;1&nbsp;月&nbsp;11日</td>
<td>
<p>在 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cpio&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cpio</span>(1)</span></a>
中存在多处漏洞</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-06:02.ee.asc"
target="_top">06:02.eex</a></td>
<td>2006&nbsp;年&nbsp;1&nbsp;月&nbsp;11日</td>
<td>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ee&sektion=1&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">ee</span>(1)</span></a>
临时文件特权提升</p>
</td>
</tr>

<tr>
<td><a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-06:01.texindex.asc"
target="_top">06:01.texindex</a></td>
<td>2006&nbsp;年&nbsp;1&nbsp;月&nbsp;11日</td>
<td>
<p>Texindex 临时文件特权提升</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:09.htt.asc"
target="_top">SA-05:09.htt</a></td>
<td>2005&nbsp;年&nbsp;5&nbsp;月&nbsp;22&nbsp;日</td>
<td>
<p>使用 HTT 引致的信息泄露</p>
</td>
</tr>

<tr>
<td><a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:10.tcpdump.asc"
target="_top">SA-05:10.tcpdump</a></td>
<td>2005&nbsp;年&nbsp;6&nbsp;月&nbsp;9&nbsp;日</td>
<td>
<p>在 tcpdump 协议解码中的死循环</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:11.gzip.asc"
target="_top">SA-05:11.gzip</a></td>
<td>2005&nbsp;年&nbsp;6&nbsp;月&nbsp;9&nbsp;日</td>
<td>
<p>gzip 目录遍历及权限竞态条件漏洞</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:13.ipfw.asc"
target="_top">SA-05:13.ipfw</a></td>
<td>2005&nbsp;年&nbsp;6&nbsp;月&nbsp;29&nbsp;日</td>
<td>
<p>ipfw 地指表的包匹配差错</p>
</td>
</tr>

<tr>
<td><a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:14.bzip2.asc"
target="_top">SA-05:14.bzip2</a></td>
<td>2005&nbsp;年&nbsp;6&nbsp;月&nbsp;29&nbsp;日</td>
<td>
<p>bzip2 拒绝服务和权限竞态条件漏洞</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:15.tcp.asc"
target="_top">SA-05:15.tcp</a></td>
<td>2005&nbsp;年&nbsp;6&nbsp;月&nbsp;29&nbsp;日</td>
<td>
<p>针对挂起 TCP 连接的拒绝服务攻击</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:16.zlib.asc"
target="_top">SA-05:16.zlib</a></td>
<td>2005&nbsp;年&nbsp;7&nbsp;月&nbsp;6&nbsp;日</td>
<td>
<p>zlib 中的缓冲区溢出问题</p>
</td>
</tr>

<tr>
<td><a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:17.devfs.asc"
target="_top">SA-05:17.devfs</a></td>
<td>2005&nbsp;年&nbsp;7&nbsp;月&nbsp;20&nbsp;日</td>
<td>
<p>绕过 devfs 规则</p>
</td>
</tr>

<tr>
<td><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:18.zlib.asc"
target="_top">SA-05:18.zlib</a></td>
<td>2005&nbsp;年&nbsp;7&nbsp;月&nbsp;27&nbsp;日</td>
<td>
<p>zlib 中的缓冲区溢出问题</p>
</td>
</tr>

<tr>
<td><a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:19.ipsec.asc"
target="_top">SA-05:19.ipsec</a></td>
<td>2005&nbsp;年&nbsp;7&nbsp;月&nbsp;27&nbsp;日</td>
<td>
<p>IPsec 对 AES-XCBC-MAC 密钥的不当使用</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="OPEN-ISSUES" name="OPEN-ISSUES">3 存在的问题</a></h2>

<p>暂时还没有新的已知问题。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="LATE-NEWS" name="LATE-NEWS">4 重大新闻</a></h2>

<p>(2005 年 5 月 6 日) 由于默认的 <tt class="FILENAME">/dev/iir</tt>
设备节点权限设置失误， 使得非特权的本地用户能够向 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=iir&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">iir</span>(4)</span></a>
驱动直接发送硬件指令。 尽管这一问题已经在 5.3-RELEASE 发布之前修正，
但这一修正已经来不及放到发行版说明中。 欲了解进一步的细节， 请参见安全公告 <a
href="ftp://ftp.freebsd.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:06.iir.asc"
target="_top">FreeBSD-SA-05:06.iir</a>。</p>

<p>(2005 年 5 月 6 日) 修正了在 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=i386_get_ldt&sektion=2&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">i386_get_ldt</span>(2)</span></a>
系统调用的输入参数验证部分存在一些问题， 它们可能使内核内存被泄露给用户进程。
尽管这一问题已经在 5.3-RELEASE 发布之前修正， 但这一修正已经来不及放到发行版说明中。
欲了解进一步的细节， 请参见安全公告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:07.ldt.asc"
target="_top">FreeBSD-SA-05:07.ldt</a>。</p>

<p>(2005 年 5 月 6 日) 修正了导致多个内核内存的部分内容的问题。 尽管这一问题已经在
5.3-RELEASE 发布之前修正， 但这一修正已经来不及放到发行版说明中。 欲了解进一步的细节，
请参见安全公告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:08.kmem.asc"
target="_top">FreeBSD-SA-05:08.kmem</a>。</p>

<p>(2005 年 6 月 24 日) FreeBSD/sparc64 5.4-RELEASE 应明示 FreeBSD/sparc64 GENERIC
内核在未来的 6.0-RELEASE 之前， 只提供对于串口控制台的正式支持。 对于 FreeBSD/sparc64
5.4-RELEASE GENERIC 内核而言更是如此， 因为能够提供优先的间接图形控制台支持的
ofw_console(4) 已经为 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uart&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uart</span>(4)</span></a>
驱动所取代， 以期更好地支持串口。</p>

<p>由于这一限制， 在显示了 ``<samp class="COMPUTEROUTPUT">jumping to kernel entry
at...</samp>'' 消息之后屏幕会停止工作， 如果您使用 FreeBSD/sparc64 5.4-RELEASE GENERIC
内核配合图形控制台， 这一状态会持续到 FreeBSD 本身继续执行为止。</p>

<p>如果一定要使用 FreeBSD/sparc64 来配合图形控制台， 您可采取下列措施：</p>

<ul>
<li>
<p>如果您的计算机装配了 Sun Creator、 Sun Creator3D， 或 Sun Elite3D 帧缓存卡， 并使用了
Sun RS232 键盘， 则可以使用串口控制台安装 FreeBSD/sparc64 5.4-RELEASE
并在随后使用包含下列选项的内核编译配置文件来编译定制的内核：</p>

<pre class="PROGRAMLISTING">
device          sc
device          creator
options         KBD_INSTALL_CDEV
</pre>

<p>除此之外， 您还需要在 <tt class="FILENAME">/etc/ttys</tt> 中启用 <tt
class="FILENAME">tty[1-7]</tt> 项， 类似下面这样：</p>

<pre class="PROGRAMLISTING">
ttyv0   "/usr/libexec/getty Pc"         cons25  on  secure
# Virtual terminals
ttyv1   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv2   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv3   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv4   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv5   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv6   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv7   "/usr/libexec/getty Pc"         cons25  on  secure
</pre>

<p>这些配置将提供针对这些键盘， 以及 VTY 切换和 X 视窗系统的内建支持。
请注意这些配置需要使用不低于 FreeBSD/sparc64 5.4-RELEASE 的版本， 否则在绝大多数型号的
UltraSPARC 上都将无法正常工作。</p>
</li>

<li>
<p>如果您的计算机装配了 ATI Mach64 帧缓存卡 (见于 Sun Blade 100/150 以及 Sun Ultra 5/10
和 Sun PGX8 以及 Sun PGX64 附加卡) 或 PS/2 或 USB 键盘， 就必须升级到 FreeBSD/sparc64 6.0
在 2005 年 6 月 10 日之后的版本。 如果您使用标准的 GENERIC 内核以及 <tt
class="FILENAME">/etc/ttys</tt> 则不需要做任何额外的操作就可以正常工作了。</p>

<p>这些配置将提供针对这些键盘以及帧缓存， 以及 VTY 切换和 X 视窗系统的内建支持。</p>
</li>

<li>
<p>如果您的计算机装配了其他硬件， 或者不愿意升级到 FreeBSD/sparc64 6.0， 您可以重新启用
ofw_console(4) 驱动作为最后方案， 方法是增加下列选项并重新联编定制的内核：</p>

<pre class="PROGRAMLISTING">
device          ofw_console
device          sab
device          zs
</pre>

<p>注意需要注释掉下列设置：</p>

<pre class="PROGRAMLISTING">
device          uart
</pre>

<p>这些操作将提供有限的对于图形控制台硬件的间接支持， 但其性能很不好， 而且 VTY 切换和 X
视窗系统无法与其一同使用。 请注意 ofw_console(4) 并非 MPSAFE 因此在某些特定的情况下，
可能会导致系统崩溃。</p>
</li>
</ul>

<p>关于如何重新编译内核或升级到 FreeBSD 6.0 的信息， 请参见 FreeBSD 使用手册中的 <a
href="http://www.FreeBSD.org/doc/zh_CN.GB2312/books/handbook/kernelconfig.html"
target="_top">配置 FreeBSD 内核</a> 以及 <a
href="http://www.freebsd.org/doc/zh_CN.GB2312/books/handbook/cutting-edge.html"
target="_top">最前沿</a> 章节。</p>
</div>
</div>

<hr />
<p align="center"><small>这份文档，以及其他与FreeBSD发行版本有关的文档，都可以在 <a
href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>下载。</small></p>

<p align="center"><small>在遇到关于FreeBSD的技术问题时，请首先阅读 <a
href="http://www.FreeBSD.org/docs.html">文档</a> 之后再考虑联系 &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;。</small></p>

<p align="center"><small>所有 FreeBSD 5-STABLE 的用户都应该订阅 &#60;<a
href="mailto:stable@FreeBSD.org">stable@FreeBSD.org</a>&#62; 邮件列表。</small></p>

<p align="center"><small>关于这份文档的任何问题，请致信 &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;。</small></p>
</body>
</html>

