<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>6.2. Committing code</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="A project model for the FreeBSD Project" /><link rel="up" href="model-processes.html" title="Chapter 6. Processes" /><link rel="prev" href="model-processes.html" title="Chapter 6. Processes" /><link rel="next" href="process-core-election.html" title="6.3. Core election" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6.2. Committing code</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="model-processes.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Processes</th><td width="20%" align="right"> <a accesskey="n" href="process-core-election.html">Next</a></td></tr></table><hr /></div><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="committing"></a>6.2. Committing code</h2></div></div></div><p>
                    The committing of new or modified code is one of the most
                    frequent processes in the FreeBSD project and will usually
                    happen many times a day. Committing of code can only be done
                    by a <span class="quote">&#8220;<span class="quote">committer</span>&#8221;</span>. Committers commit either code
                    written by themselves, code submitted to them, or code
                    submitted through a <a class="link" href="model-pr.html" title="6.6. Problem reporting">problem
                    report</a>.
                </p><p>
                    When code is written by the developer that is non-trivial, they
                    should seek a code review from the community. This
                    is done by sending mail to the relevant list asking for
                    review. Before submitting the code for review, they should
                    ensure it compiles correctly with the entire tree and that all
                    relevant tests run. This is called <span class="quote">&#8220;<span class="quote">pre-commit
                    test</span>&#8221;</span>. When contributed code is received, it should be
                    reviewed by the committer and tested the same way.
                </p><p>
                    When a change is committed to a part of the source that
                    has been contributed from an outside
                    <a class="xref" href="proc-depend-hats.html#role-vendor" title="5.3.4. Vendor">Vendor</a>,
                    the maintainer should
                    ensure that the patch is contributed back to the
                    vendor. This is in line with the open source
                    philosophy and
                    makes it easier to stay in sync with outside projects
                    as the patches do not have to be reapplied every time a
                    new release is made.
                </p><p>
                    After the code has been available for review and no further
                    changes are necessary, the code is committed into the
                    development branch, -CURRENT.
                    If the change applies for
                    the -STABLE branch or the other branches as well, a
                    <span class="quote">&#8220;<span class="quote">Merge From Current</span>&#8221;</span> ("MFC") countdown is
                    set by the committer. After the number of days the
                    committer chose when setting the MFC have passed, an email
                    will automatically be
                    sent to the committer reminding them to commit it to the -STABLE
                    branch (and possibly security branches as well). Only security
                    critical changes should be merged to security branches.
                </p><p>
                    Delaying the commit to -STABLE and other branches allows for
                    <span class="quote">&#8220;<span class="quote">parallel debugging</span>&#8221;</span> where the committed code is
                    tested on a wide range of configurations. This makes changes
                    to -STABLE to contain fewer faults and thus giving the branch
                    its name.
                </p><p>
                    </p><div class="figure"><a id="idp47625848"></a><div class="figure-title">Figure 6.3. Process summary: A committer commits code</div><div class="figure-contents"><div class="mediaobject"><img src="proc-commit.png" alt="Refer to paragraph below for a screen-reader friendly version." /></div></div></div><p><br class="figure-break" />
                </p><p>
                    When a committer has written a piece of code and
                    wants to commit it, they first need to determine if it is
                    trivial enough to go in without prior review or if it should
                    first be reviewed by the developer community. If the code is
                    trivial or has been reviewed and the committer is not the
                    maintainer, they should consult the maintainer before
                    proceeding.
                    If the code is contributed by an outside vendor, the
                    maintainer should create a patch that is sent back to the
                    vendor. The code is then committed and then deployed by
                    the users. Should they find problems with the code, this
                    will be reported and the committer can go back to writing
                    a patch. If a vendor is affected, they can choose to
                    implement or ignore the patch.
                </p><p>
                    </p><div class="figure"><a id="idp47655416"></a><div class="figure-title">Figure 6.4. Process summary: A contributor commits code</div><div class="figure-contents"><div class="mediaobject"><img src="proc-contrib.png" alt="Refer to paragraphs below and above for a screen-reader friendly version." /></div></div></div><p><br class="figure-break" />
                </p><p>
                    The difference when a contributor makes a code contribution is
                    that they submit the code through the Bugzilla
                    interface. This report is picked up by the maintainer who
                    reviews the code and commits it.
                </p><p>
                    Hats included in this process are:
                    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
                                <a class="xref" href="sect-hats.html#role-committer" title="5.1.2. Committer">Committer</a>
                        </p></li><li class="listitem"><p>
                                <a class="xref" href="sect-hats.html#role-contributor" title="5.1.1. Contributor">Contributor</a>
                        </p></li><li class="listitem"><p>
                                <a class="xref" href="proc-depend-hats.html#role-vendor" title="5.3.4. Vendor">Vendor</a>
                        </p></li><li class="listitem"><p>
                                <a class="xref" href="proc-depend-hats.html#role-reviewer" title="5.3.5. Reviewers">Reviewer</a>
                        </p></li></ol></div><p>
                </p><p>
                    [<span class="citation"><a class="xref" href="bibliography.html#freebsd-committer">FreeBSD, 2001</a></span>]
                    [<span class="citation"><a class="xref" href="bibliography.html#jorgensen2001">Jørgensen, 2001</a></span>]
                </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="model-processes.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="model-processes.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="process-core-election.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 6. Processes </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6.3. Core election</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>