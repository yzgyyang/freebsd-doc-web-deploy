<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>7.6. Entities</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Documentation Project Primer for New Contributors" /><link rel="up" href="xml-primer.html" title="Chapter 7. XML Primer" /><link rel="prev" href="xml-primer-comments.html" title="7.5. Comments" /><link rel="next" href="xml-primer-include.html" title="7.7. Using Entities to Include Files" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.6. Entities</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="xml-primer-comments.html">Prev</a> </td><th width="60%" align="center">Chapter 7. XML Primer</th><td width="20%" align="right"> <a accesskey="n" href="xml-primer-include.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="xml-primer-entities"></a>7.6. Entities</h2></div></div></div><p>Entities are a mechanism for assigning names to chunks of
      content.  As an <acronym class="acronym">XML</acronym> parser processes a
      document, any entities it finds are replaced by the content of
      the entity.</p><p>This is a good way to have re-usable, easily changeable
      chunks of content in <acronym class="acronym">XML</acronym> documents.  It is
      also the only way to include one marked up file inside another
      using <acronym class="acronym">XML</acronym>.</p><p>There are two types of entities for two different
      situations: <span class="emphasis"><em>general entities</em></span> and
      <span class="emphasis"><em>parameter entities</em></span>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-general-entities"></a>7.6.1. General Entities</h3></div></div></div><p>General entities are used to assign names to reusable
	chunks of text.  These entities can only be used in the
	document.  They cannot be used in an
	<acronym class="acronym">XML</acronym> context.</p><p>To include the text of a general entity in the document,
	include
	<code class="literal">&amp;<em class="replaceable"><code>entity-name</code></em>;</code>
	in the text.  For example, consider a general entity called
	<code class="literal">current.version</code> which expands to the
	current version number of a product.  To use it in the
	document, write:</p><pre class="programlisting"><code class="sgmltag-starttag">&lt;para&gt;</code>The current version of our product is
  &amp;current.version;.<code class="sgmltag-endtag">&lt;/para&gt;</code></pre><p>When the version number changes, edit the definition of
	the general entity, replacing the value.  Then reprocess the
	document.</p><p>General entities can also be used to enter characters that
	could not otherwise be included in an <acronym class="acronym">XML</acronym>
	document.  For example, <code class="literal">&lt;</code> and
	<code class="literal">&amp;</code> cannot normally appear in an
	<acronym class="acronym">XML</acronym> document.  The <acronym class="acronym">XML</acronym>
	parser sees the <code class="literal">&lt;</code> symbol as the start of
	a tag.  Likewise, when the <code class="literal">&amp;</code> symbol is
	seen, the next text is expected to be an entity name.</p><p>These symbols can be included by using two predefined
	general entities: <code class="literal">&amp;lt;</code> and
	<code class="literal">&amp;amp;</code>.</p><p>General entities can only be defined within an
	<acronym class="acronym">XML</acronym> context.  Such definitions are usually
	done immediately after the DOCTYPE declaration.</p><div class="example"><a id="idp51275000"></a><div class="example-title">Example 7.8. Defining General Entities</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!ENTITY current.version    "3.0-RELEASE"&gt;
&lt;!ENTITY last.version       "2.2.7-RELEASE"&gt;
]&gt;</pre><p>The DOCTYPE declaration has been extended by adding a
	  square bracket at the end of the first line.  The two
	  entities are then defined over the next two lines, the
	  square bracket is closed, and then the DOCTYPE declaration
	  is closed.</p><p>The square brackets are necessary to indicate that the
	  DTD indicated by the DOCTYPE declaration is being
	  extended.</p></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-parameter-entities"></a>7.6.2. Parameter Entities</h3></div></div></div><p>Parameter entities, like
	<a class="link" href="xml-primer-entities.html#xml-primer-general-entities" title="7.6.1. General Entities">general
	  entities</a>, are used to assign names to reusable chunks
	of text.  But parameter entities can only be used within an
	<a class="link" href="xml-primer-xml-escape.html" title="7.4. Escaping Back to XML">XML
	  context</a>.</p><p>Parameter entity definitions are similar to those for
	general entities.  However, parameter entities are included
	with
	<code class="literal">%<em class="replaceable"><code>entity-name</code></em>;</code>.
	The definition also includes the <code class="literal">%</code> between
	the <code class="literal">ENTITY</code> keyword and the name of the
	entity.</p><p>For a mnemonic, think
	<span class="quote">&#8220;<span class="quote"><span class="emphasis"><em>P</em></span>arameter entities use the
	  <span class="emphasis"><em>P</em></span>ercent symbol</span>&#8221;</span>.</p><div class="example"><a id="idp51299192"></a><div class="example-title">Example 7.9. Defining Parameter Entities</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!ENTITY % entity "&lt;!ENTITY version '1.0'&gt;"&gt;
&lt;!-- use the parameter entity --&gt;
%entity;
]&gt;</pre></div></div><br class="example-break" /><p>At first sight, parameter entities do not look very
	useful, but they make it possible to <a class="link" href="xml-primer-include.html" title="7.7. Using Entities to Include Files">include other files</a> into
	an XML document.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-to-do"></a>7.6.3. To Do&#8230;</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Add a general entity to
	    <code class="filename">example.xml</code>.</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!ENTITY version "1.1"&gt;
]&gt;

<code class="sgmltag-starttag">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</code>
  <code class="sgmltag-starttag">&lt;head&gt;</code>
    <code class="sgmltag-starttag">&lt;title&gt;</code>An Example XHTML File<code class="sgmltag-endtag">&lt;/title&gt;</code>
  <code class="sgmltag-endtag">&lt;/head&gt;</code>

  &lt;!-- There may be some comments in here as well --&gt;

  <code class="sgmltag-starttag">&lt;body&gt;</code>
    <code class="sgmltag-starttag">&lt;p&gt;</code>This is a paragraph containing some text.<code class="sgmltag-endtag">&lt;/p&gt;</code>

    <code class="sgmltag-starttag">&lt;p&gt;</code>This paragraph contains some more text.<code class="sgmltag-endtag">&lt;/p&gt;</code>

    <code class="sgmltag-starttag">&lt;p align="right"&gt;</code>This paragraph might be right-justified.<code class="sgmltag-endtag">&lt;/p&gt;</code>

    <code class="sgmltag-starttag">&lt;p&gt;</code>The current version of this document is: &amp;version;<code class="sgmltag-endtag">&lt;/p&gt;</code>
  <code class="sgmltag-endtag">&lt;/body&gt;</code>
<code class="sgmltag-endtag">&lt;/html&gt;</code></pre></li><li class="step"><p>Validate the document using
	    <code class="command">xmllint</code>.</p></li><li class="step"><p>Load <code class="filename">example.xml</code> into a web
	    browser.  It may have to be copied to
	    <code class="filename">example.html</code> before the browser
	    recognizes it as an <acronym class="acronym">XHTML</acronym>
	    document.</p><p>Older browsers with simple parsers may not render this
	    file as expected.  The entity reference
	    <code class="literal">&amp;version;</code> may not be replaced by
	    the version number, or the <acronym class="acronym">XML</acronym> context
	    closing <code class="literal">]&gt;</code> may not be recognized and
	    instead shown in the output.</p></li><li class="step"><p>The solution is to <span class="emphasis"><em>normalize</em></span> the
	    document with an <acronym class="acronym">XML</acronym> normalizer.  The
	    normalizer reads valid <acronym class="acronym">XML</acronym> and writes
	    equally valid <acronym class="acronym">XML</acronym> which has been
	    transformed in some way.  One way the normalizer
	    transforms the input is by expanding all the entity
	    references in the document, replacing the entities with
	    the text that they represent.</p><p><code class="command">xmllint</code> can be used for this.  It
	    also has an option to drop the initial
	    <acronym class="acronym">DTD</acronym> section so that the closing
	    <code class="literal">]&gt;</code> does not confuse browsers:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xmllint --noent --dropdtd example.xml &gt; example.html</code></strong></pre><p>A normalized copy of the document with entities
	    expanded is produced in <code class="filename">example.html</code>,
	    ready to load into a web browser.</p></li></ol></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="xml-primer-comments.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="xml-primer.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="xml-primer-include.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">7.5. Comments </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7.7. Using Entities to Include Files</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>