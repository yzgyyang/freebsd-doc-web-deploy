<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>15.2. Emacs</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Documentation Project Primer for New Contributors" /><link rel="up" href="editor-config.html" title="Chapter 15. Editor Configuration" /><link rel="prev" href="editor-config.html" title="Chapter 15. Editor Configuration" /><link rel="next" href="editor-config-nano.html" title="15.3. nano" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.2. <span class="application">Emacs</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="editor-config.html">Prev</a> </td><th width="60%" align="center">Chapter 15. Editor Configuration</th><td width="20%" align="right"> <a accesskey="n" href="editor-config-nano.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="editor-config-emacs"></a>15.2. <span class="application">Emacs</span></h2></div></div></div><p>Install from <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/editors/emacs/pkg-descr">editors/emacs</a> or
      <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/editors/emacs-devel/pkg-descr">editors/emacs-devel</a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="editor-config-emacs-validation"></a>15.2.1. Validation</h3></div></div></div><p>Emacs's nxml-mode uses compact relax NG schemas for
	validating XML.  A compact relax NG schema for FreeBSD's
	extension to DocBook 5.0 is included in the documentation
	repository.  To configure nxml-mode to validate using this
	schema, create
	<code class="filename">~/.emacs.d/schema/schemas.xml</code> and add
	these lines to the file:</p><pre class="programlisting"><code class="sgmltag-starttag">&lt;locatingRules xmlns="http://thaiopensource.com/ns/locating-rules/1.0"&gt;</code>
  <code class="sgmltag-starttag">&lt;documentElement localName="section" typeId="DocBook"&gt;</code>
  <code class="sgmltag-starttag">&lt;documentElement localName="chapter" typeId="DocBook"&gt;</code>
  <code class="sgmltag-starttag">&lt;documentElement localName="article" typeId="DocBook"&gt;</code>
  <code class="sgmltag-starttag">&lt;documentElement localName="book" typeId="DocBook"&gt;</code>
  <code class="sgmltag-starttag">&lt;typeId id="DocBook" uri="/usr/local/share/xml/docbook/5.0/rng/docbook.rnc"&gt;</code>
<code class="sgmltag-endtag">&lt;/locatingRules&gt;</code></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="editor-config-emacs-igor"></a>15.2.2. Automated Proofreading with Flycheck and Igor</h3></div></div></div><p>The Flycheck package is available from Milkypostman's
	Emacs Lisp Package Archive (<acronym class="acronym">MELPA</acronym>).  If
	<acronym class="acronym">MELPA</acronym> is not already in Emacs's
	packages-archives, it can be added by evaluating</p><pre class="programlisting">(add-to-list 'package-archives '("melpa" . "http://stable.melpa.org/packages/") t)</pre><p>Add the line to Emacs's initialization file (one of
	<code class="filename">~/.emacs</code>,
	<code class="filename">~/.emacs.el</code>, or
	<code class="filename">~.emacs.d/init.el</code>) to make this change
	permanent.</p><p>To install Flycheck, evaluate</p><pre class="programlisting">(package-install 'flycheck)</pre><p>Create a Flycheck checker for
	<a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/textproc/igor/pkg-descr">textproc/igor</a> by evaluating</p><pre class="programlisting">(flycheck-define-checker igor
  "FreeBSD Documentation Project sanity checker.

See URLs https://www.freebsd.org/docproj/ and
http://www.freshports.org/textproc/igor/."
  :command ("igor" "-X" source-inplace)
  :error-parser flycheck-parse-checkstyle
  :modes (nxml-mode)
  :standard-input t)

  (add-to-list 'flycheck-checkers 'igor 'append)</pre><p>Again, add these lines to Emacs's initialization file to
	make the changes permanent.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="editor-config-emacs-specifc"></a>15.2.3. FreeBSD Documentation Specific Settings</h3></div></div></div><p>To apply settings specific to the FreeBSD documentation
	project, create <code class="filename">.dir-locals.el</code> in the
	root directory of the documentation repository and add these
	lines to the file:</p><pre class="programlisting">;;; Directory Local Variables
;;; For more information see (info "(emacs) Directory Variables")

((nxml-mode
  (eval . (turn-on-auto-fill))
  (fill-column . 70)
  (eval . (require 'flycheck))
  (eval . (flycheck-mode 1))
  (flycheck-checker . igor)
  (eval . (add-to-list 'rng-schema-locating-files "~/.emacs.d/schema/schemas.xml"))))</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="editor-config.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="editor-config.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="editor-config-nano.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 15. Editor Configuration </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 15.3. <span class="application">nano</span></td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>