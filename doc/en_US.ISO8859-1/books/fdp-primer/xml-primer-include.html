<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>7.7. Using Entities to Include Files</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Documentation Project Primer for New Contributors" /><link rel="up" href="xml-primer.html" title="Chapter 7. XML Primer" /><link rel="prev" href="xml-primer-entities.html" title="7.6. Entities" /><link rel="next" href="xml-primer-marked-sections.html" title="7.8. Marked Sections" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.7. Using Entities to Include Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="xml-primer-entities.html">Prev</a> </td><th width="60%" align="center">Chapter 7. XML Primer</th><td width="20%" align="right"> <a accesskey="n" href="xml-primer-marked-sections.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="xml-primer-include"></a>7.7. Using Entities to Include Files</h2></div></div></div><p>Both
      <a class="link" href="xml-primer-entities.html#xml-primer-general-entities" title="7.6.1. General Entities">general</a> and
      <a class="link" href="xml-primer-entities.html#xml-primer-parameter-entities" title="7.6.2. Parameter Entities">parameter</a>
      entities are particularly useful for including one file inside
      another.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-include-using-gen-entities"></a>7.7.1. Using General Entities to Include Files</h3></div></div></div><p>Consider some content for an <acronym class="acronym">XML</acronym> book
	organized into files, one file per chapter, called
	<code class="filename">chapter1.xml</code>,
	<code class="filename">chapter2.xml</code>, and so forth, with a
	<code class="filename">book.xml</code> that will contain these
	chapters.</p><p>In order to use the contents of these files as the values
	for entities, they are declared with the
	<code class="literal">SYSTEM</code> keyword.  This directs the
	<acronym class="acronym">XML</acronym> parser to include the contents of the
	named file as the value of the entity.</p><div class="example"><a id="idp51332600"></a><div class="example-title">Example 7.10. Using General Entities to Include Files</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!ENTITY chapter.1 SYSTEM "chapter1.xml"&gt;
&lt;!ENTITY chapter.2 SYSTEM "chapter2.xml"&gt;
&lt;!ENTITY chapter.3 SYSTEM "chapter3.xml"&gt;
&lt;!-- And so forth --&gt;
]&gt;

<code class="sgmltag-starttag">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</code>
  &lt;!-- Use the entities to load in the chapters --&gt;

  &amp;chapter.1;
  &amp;chapter.2;
  &amp;chapter.3;
<code class="sgmltag-endtag">&lt;/html&gt;</code></pre></div></div><br class="example-break" /><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml">When using general entities to include other files
	  within a document, the files being included
	  (<code class="filename">chapter1.xml</code>,
	  <code class="filename">chapter2.xml</code>, and so on)
	  <span class="emphasis"><em>must not</em></span> start with a DOCTYPE
	  declaration.  This is a syntax error because entities are
	  low-level constructs and they are resolved before any
	  parsing happens.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-include-parameter"></a>7.7.2. Using Parameter Entities to Include Files</h3></div></div></div><p>Parameter entities can only be used inside an
	<acronym class="acronym">XML</acronym> context.  Including a file in an
	<acronym class="acronym">XML</acronym> context can be used
	to ensure that general entities are reusable.</p><p>Suppose that there are many chapters in the document, and
	these chapters were reused in two different books, each book
	organizing the chapters in a different fashion.</p><p>The entities could be listed at the top of each book, but
	that quickly becomes cumbersome to manage.</p><p>Instead, place the general entity definitions inside one
	file, and use a parameter entity to include that file within
	the document.</p><div class="example"><a id="idp50975352"></a><div class="example-title">Example 7.11. Using Parameter Entities to Include Files</div><div class="example-contents"><p>Place the entity definitions in a separate file
	  called <code class="filename">chapters.ent</code> and
	  containing this text:</p><pre class="programlisting">&lt;!ENTITY chapter.1 SYSTEM "chapter1.xml"&gt;
&lt;!ENTITY chapter.2 SYSTEM "chapter2.xml"&gt;
&lt;!ENTITY chapter.3 SYSTEM "chapter3.xml"&gt;</pre><p>Create a parameter entity to refer to the contents
	  of the file.  Then use the parameter entity to load the file
	  into the document, which will then make all the general
	  entities available for use.  Then use the general entities
	  as before:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!-- Define a parameter entity to load in the chapter general entities --&gt;
&lt;!ENTITY % chapters SYSTEM "chapters.ent"&gt;

&lt;!-- Now use the parameter entity to load in this file --&gt;
%chapters;
]&gt;

<code class="sgmltag-starttag">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</code>
  &amp;chapter.1;
  &amp;chapter.2;
  &amp;chapter.3;
<code class="sgmltag-endtag">&lt;/html&gt;</code></pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-include-parameter-to-do"></a>7.7.3. To Do&#8230;</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-include-general-entities-include"></a>7.7.3.1. Use General Entities to Include Files</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Create three files, <code class="filename">para1.xml</code>,
	      <code class="filename">para2.xml</code>, and
	      <code class="filename">para3.xml</code>.</p><p>Put content like this in each file:</p><pre class="programlisting"><code class="sgmltag-starttag">&lt;p&gt;</code>This is the first paragraph.<code class="sgmltag-endtag">&lt;/p&gt;</code></pre></li><li class="step"><p>Edit <code class="filename">example.xml</code> so that it
	      looks like this:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!ENTITY version "1.1"&gt;
&lt;!ENTITY para1 SYSTEM "para1.xml"&gt;
&lt;!ENTITY para2 SYSTEM "para2.xml"&gt;
&lt;!ENTITY para3 SYSTEM "para3.xml"&gt;
]&gt;

<code class="sgmltag-starttag">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</code>
  <code class="sgmltag-starttag">&lt;head&gt;</code>
    <code class="sgmltag-starttag">&lt;title&gt;</code>An Example XHTML File<code class="sgmltag-endtag">&lt;/title&gt;</code>
  <code class="sgmltag-endtag">&lt;/head&gt;</code>

  <code class="sgmltag-starttag">&lt;body&gt;</code>
    <code class="sgmltag-starttag">&lt;p&gt;</code>The current version of this document is: &amp;version;<code class="sgmltag-endtag">&lt;/p&gt;</code>

    &amp;para1;
    &amp;para2;
    &amp;para3;
  <code class="sgmltag-endtag">&lt;/body&gt;</code>
<code class="sgmltag-endtag">&lt;/html&gt;</code></pre></li><li class="step"><p>Produce <code class="filename">example.html</code> by
	      normalizing <code class="filename">example.xml</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xmllint --dropdtd --noent example.xml &gt; example.html</code></strong></pre></li><li class="step"><p>Load <code class="filename">example.html</code> into the web
	      browser and confirm that the
	      <code class="filename">para<em class="replaceable"><code>n</code></em>.xml</code>
	      files have been included in
	      <code class="filename">example.html</code>.</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="xml-primer-include-parameter-entities-include"></a>7.7.3.2. Use Parameter Entities to Include Files</h4></div></div></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The previous steps must have completed before this
	    step.</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Edit <code class="filename">example.xml</code> so that it
	      looks like this:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" [
&lt;!ENTITY % entities SYSTEM "entities.ent"&gt; %entities;
]&gt;

<code class="sgmltag-starttag">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;</code>
  <code class="sgmltag-starttag">&lt;head&gt;</code>
    <code class="sgmltag-starttag">&lt;title&gt;</code>An Example XHTML File<code class="sgmltag-endtag">&lt;/title&gt;</code>
  <code class="sgmltag-endtag">&lt;/head&gt;</code>

  <code class="sgmltag-starttag">&lt;body&gt;</code>
    <code class="sgmltag-starttag">&lt;p&gt;</code>The current version of this document is: &amp;version;<code class="sgmltag-endtag">&lt;/p&gt;</code>

    &amp;para1;
    &amp;para2;
    &amp;para3;
  <code class="sgmltag-endtag">&lt;/body&gt;</code>
<code class="sgmltag-endtag">&lt;/html&gt;</code></pre></li><li class="step"><p>Create a new file called
	      <code class="filename">entities.ent</code> with this
	      content:</p><pre class="programlisting">&lt;!ENTITY version "1.1"&gt;
&lt;!ENTITY para1 SYSTEM "para1.xml"&gt;
&lt;!ENTITY para2 SYSTEM "para2.xml"&gt;
&lt;!ENTITY para3 SYSTEM "para3.xml"&gt;</pre></li><li class="step"><p>Produce <code class="filename">example.html</code> by
	      normalizing <code class="filename">example.xml</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>xmllint --dropdtd --noent example.xml &gt; example.html</code></strong></pre></li><li class="step"><p>Load <code class="filename">example.html</code> into the web
	      browser and confirm that the
	      <code class="filename">para<em class="replaceable"><code>n</code></em>.xml</code>
	      files have been included in
	      <code class="filename">example.html</code>.</p></li></ol></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="xml-primer-entities.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="xml-primer.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="xml-primer-marked-sections.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">7.6. Entities </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7.8. Marked Sections</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>