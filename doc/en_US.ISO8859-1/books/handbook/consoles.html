<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.2. Virtual Consoles and Terminals</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Handbook" /><link rel="up" href="basics.html" title="Chapter 3. FreeBSD Basics" /><link rel="prev" href="basics.html" title="Chapter 3. FreeBSD Basics" /><link rel="next" href="users-synopsis.html" title="3.3. Users and Basic Account Management" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.2. Virtual Consoles and Terminals</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics.html">Prev</a> </td><th width="60%" align="center">Chapter 3. FreeBSD Basics</th><td width="20%" align="right"> <a accesskey="n" href="users-synopsis.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="consoles"></a>3.2. Virtual Consoles and Terminals</h2></div></div></div><a id="idp51983224" class="indexterm"></a><a id="idp51983992" class="indexterm"></a><a id="idp51984760" class="indexterm"></a><p>Unless FreeBSD has been configured to automatically start a
      graphical environment during startup, the system will boot
      into a command line login prompt, as seen in this
      example:</p><pre class="screen">FreeBSD/amd64 (pc3.example.org) (ttyv0)

login:</pre><p>The first line contains some information about the system.
      The <code class="literal">amd64</code> indicates that the system in this
      example is running a 64-bit version of FreeBSD.  The hostname is
      <code class="systemitem">pc3.example.org</code>, and
      <code class="filename">ttyv0</code> indicates that this is the
      <span class="quote">&#8220;<span class="quote">system console</span>&#8221;</span>.  The second line is the login
      prompt.</p><p>Since FreeBSD is a multiuser system, it needs some way to
      distinguish between different users.  This is accomplished by
      requiring every user to log into the system before gaining
      access to the programs on the system.  Every user has a
      unique name <span class="quote">&#8220;<span class="quote">username</span>&#8221;</span> and a personal
      <span class="quote">&#8220;<span class="quote">password</span>&#8221;</span>.</p><p>To log into the system console, type the username that
      was configured during system installation, as described in
      <a class="xref" href="bsdinstall-post.html#bsdinstall-addusers" title="2.8.5. Add Users">Section 2.8.5, &#8220;Add Users&#8221;</a>, and press
      <span class="keycap"><strong>Enter</strong></span>.  Then enter the password associated
      with the username and press <span class="keycap"><strong>Enter</strong></span>.  The
      password is <span class="emphasis"><em>not echoed</em></span> for security
      reasons.</p><p>Once the correct password is input, the message of the
      day (<acronym class="acronym">MOTD</acronym>) will be displayed followed
      by a command prompt.  Depending upon the shell that was
      selected when the user was created, this prompt will be a
      <code class="literal">#</code>, <code class="literal">$</code>, or
      <code class="literal">%</code> character.  The prompt indicates that
      the user is now logged into the FreeBSD system console and ready
      to try the available commands.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-virtual"></a>3.2.1. Virtual Consoles</h3></div></div></div><p>While the system console can be used to interact with
	the system, a user working from the command line at the
	keyboard of a FreeBSD system will typically instead log into a
	virtual console.  This is because system messages are
	configured by default to display on the system console.
	These messages will appear over the command or file that the
	user is working on, making it difficult to concentrate on
	the work at hand.</p><p>By default, FreeBSD is configured to provide several virtual
	consoles for inputting commands.  Each virtual console has
	its own login prompt and shell and it is easy to switch
	between virtual consoles.  This essentially provides the
	command line equivalent of having several windows open at the
	same time in a graphical environment.</p><p>The key combinations
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>
	through
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F8</strong></span>
	have been reserved by FreeBSD for switching between virtual
	consoles.  Use
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>
	to switch to the system console
	(<code class="filename">ttyv0</code>),
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>
	to access the first virtual console
	(<code class="filename">ttyv1</code>),
	<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F3</strong></span>
	to access the second virtual console
	(<code class="filename">ttyv2</code>), and so on.
	When using <span class="application">Xorg</span> as a graphical
	console, the combination becomes <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span> to return to a text-based virtual console.</p><p>When switching from one console to the next, FreeBSD
	manages the screen output.  The result is an illusion of
	having multiple virtual screens and keyboards that can be used
	to type commands for FreeBSD to run.  The programs that are
	launched in one virtual console do not stop running when
	the user switches to a different virtual console.</p><p>Refer to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=kbdcontrol&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">kbdcontrol</span>(1)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a>,
	<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=atkbd&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">atkbd</span>(4)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=syscons&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">syscons</span>(4)</span></a>, and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vt</span>(4)</span></a> for a more
	technical description of the FreeBSD console and its keyboard
	drivers.</p><p>In FreeBSD, the number of available virtual consoles is
	configured in this section of
	<code class="filename">/etc/ttys</code>:</p><pre class="programlisting"># name    getty                         type  status comments
#
ttyv0   "/usr/libexec/getty Pc"         xterm   on  secure
# Virtual terminals
ttyv1   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv2   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv3   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv4   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv5   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv6   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv7   "/usr/libexec/getty Pc"         xterm   on  secure
ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</pre><p>To disable a virtual console, put a comment symbol
	(<code class="literal">#</code>) at the beginning of the line
	representing that virtual console.  For example, to reduce the
	number of available virtual consoles from eight to four, put a
	<code class="literal">#</code> in front of the last four lines
	representing virtual consoles <code class="filename">ttyv5</code>
	through <code class="filename">ttyv8</code>.
	<span class="emphasis"><em>Do not</em></span> comment out the line for the
	system console <code class="filename">ttyv0</code>.  Note that the last
	virtual console (<code class="filename">ttyv8</code>) is used to access
	the graphical environment if <span class="application">Xorg</span>
	has been installed and configured as described in
	<a class="xref" href="x11.html" title="Chapter 5. The X Window System">Chapter 5, <em>The X Window System</em></a>.</p><p>For a detailed description of every column in this file
	and the available options for the virtual consoles, refer to
	<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-singleuser"></a>3.2.2. Single User Mode</h3></div></div></div><p>The FreeBSD boot menu provides an option labelled as
	<span class="quote">&#8220;<span class="quote">Boot Single User</span>&#8221;</span>.  If this option is selected,
	the system will boot into a special mode known as
	<span class="quote">&#8220;<span class="quote">single user mode</span>&#8221;</span>.  This mode is typically used
	to repair a system that will not boot or to reset the
	<code class="systemitem">root</code> password when
	it is not known.  While in single user mode, networking and
	other virtual consoles are not available.  However, full
	<code class="systemitem">root</code> access to the
	system is available, and by default, the
	<code class="systemitem">root</code> password is not
	needed.  For these reasons, physical access to the keyboard is
	needed to boot into this mode and determining who has physical
	access to the keyboard is something to consider when securing
	a FreeBSD system.</p><p>The settings which control single user mode are found in
	this section of <code class="filename">/etc/ttys</code>:</p><pre class="programlisting"># name  getty                           type  status  comments
#
# If console is marked "insecure", then init will ask for the root password
# when going to single-user mode.
console none                            unknown  off  secure</pre><p>By default, the status is set to
	<code class="literal">secure</code>.  This assumes that who has physical
	access to the keyboard is either not important or it is
	controlled by a physical security policy.  If this setting is
	changed to <code class="literal">insecure</code>, the assumption is that
	the environment itself is insecure because anyone can access
	the keyboard.  When this line is changed to
	<code class="literal">insecure</code>, FreeBSD will prompt for the
	<code class="systemitem">root</code> password when a
	user selects to boot into single user mode.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>Be careful when changing this setting to
	    <code class="literal">insecure</code></em></span>!  If the
	  <code class="systemitem">root</code> password is
	  forgotten, booting into single user mode is still possible,
	  but may be difficult for someone who is not familiar with
	  the FreeBSD booting process.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="consoles-vidcontrol"></a>3.2.3. Changing Console Video Modes</h3></div></div></div><p>The FreeBSD console default video mode may be adjusted to
	1024x768, 1280x1024, or any other size supported by the
	graphics chip and monitor.  To use a different video mode
	load the <code class="literal">VESA</code> module:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload vesa</code></strong></pre><p>To determine which video modes are supported by the
	hardware, use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a>.  To get a list of supported
	video modes issue the following:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -i mode</code></strong></pre><p>The output of this command lists the video modes that are
	supported by the hardware.  To select a new video mode,
	specify the mode using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vidcontrol&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vidcontrol</span>(1)</span></a> as the
	<code class="systemitem">root</code> user:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>vidcontrol MODE_279</code></strong></pre><p>If the new video mode is acceptable, it can be permanently
	set on boot by adding it to
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">allscreens_flags="MODE_279"</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="users-synopsis.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 3. FreeBSD Basics </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3.3. Users and Basic Account Management</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>