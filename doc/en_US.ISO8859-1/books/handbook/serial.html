<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>26.2. Serial Terminology and Hardware</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Handbook" /><link rel="up" href="serialcomms.html" title="Chapter 26. Serial Communications" /><link rel="prev" href="serialcomms.html" title="Chapter 26. Serial Communications" /><link rel="next" href="term.html" title="26.3. Terminals" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">26.2. Serial Terminology and Hardware</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="serialcomms.html">Prev</a> </td><th width="60%" align="center">Chapter 26. Serial Communications</th><td width="20%" align="right"> <a accesskey="n" href="term.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="serial"></a>26.2. Serial Terminology and Hardware</h2></div></div></div><p>The following terms are often used in serial
      communications:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><acronym class="acronym">bps</acronym></span></dt><dd><p>Bits per
	    Second<a id="idp67504248" class="indexterm"></a>
	    (<acronym class="acronym">bps</acronym>) is the rate at which data is
	    transmitted.</p></dd><dt><span class="term"><acronym class="acronym">DTE</acronym></span></dt><dd><p>Data Terminal
	    Equipment<a id="idp67519096" class="indexterm"></a>
	    (<acronym class="acronym">DTE</acronym>) is one of two endpoints in a
	    serial communication.  An example would be a
	    computer.</p></dd><dt><span class="term"><acronym class="acronym">DCE</acronym></span></dt><dd><p>Data Communications
	    Equipment<a id="idp67533944" class="indexterm"></a>
	    (<acronym class="acronym">DTE</acronym>) is the other endpoint in a
	    serial communication.  Typically, it is a modem or serial
	    terminal.</p></dd><dt><span class="term"><acronym class="acronym">RS-232</acronym></span></dt><dd><p>The original standard which defined hardware serial
	    communications.  It has since been renamed to
	    <acronym class="acronym">TIA-232</acronym>.</p></dd></dl></div><p>When referring to communication data rates, this section
      does not use the term <em class="firstterm">baud</em>.  Baud refers
      to the number of electrical state transitions made in a period
      of time, while <acronym class="acronym">bps</acronym> is the correct term to
      use.</p><p>To connect a serial terminal to a FreeBSD system, a serial port
      on the computer and the proper cable to connect to the serial
      device are needed.  Users who are already familiar with serial
      hardware and cabling can safely skip this section.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="term-cables-null"></a>26.2.1. Serial Cables and Ports</h3></div></div></div><p>There are several different kinds of serial cables.  The
	two most common types are null-modem cables and standard
	<acronym class="acronym">RS-232</acronym> cables.  The documentation for the
	hardware should describe the type of cable required.</p><p>These two types of cables differ in how the wires are
	connected to the connector.  Each wire represents a signal,
	with the defined signals summarized in <a class="xref" href="serial.html#serialcomms-signal-names" title="Table 26.1. RS-232C Signal Names">Table 26.1, &#8220;<acronym class="acronym">RS-232C</acronym> Signal Names&#8221;</a>.  A standard serial
	cable passes all of the <acronym class="acronym">RS-232C</acronym> signals
	straight through.  For example, the <span class="quote">&#8220;<span class="quote">Transmitted
	  Data</span>&#8221;</span> pin on one end of the cable goes to the
	<span class="quote">&#8220;<span class="quote">Transmitted Data</span>&#8221;</span> pin on the other end.  This is
	the type of cable used to connect a modem to the FreeBSD system,
	and is also appropriate for some terminals.</p><p>A null-modem cable switches the <span class="quote">&#8220;<span class="quote">Transmitted
	  Data</span>&#8221;</span> pin of the connector on one end with the
	<span class="quote">&#8220;<span class="quote">Received Data</span>&#8221;</span> pin on the other end.  The
	connector can be either a <acronym class="acronym">DB-25</acronym> or a
	<acronym class="acronym">DB-9</acronym>.</p><p>A null-modem cable can be constructed using the pin
	connections summarized in <a class="xref" href="serial.html#nullmodem-db25" title="Table 26.2. DB-25 to DB-25 Null-Modem Cable">Table 26.2, &#8220;DB-25 to DB-25 Null-Modem Cable&#8221;</a>,
	<a class="xref" href="serial.html#nullmodem-db9" title="Table 26.3. DB-9 to DB-9 Null-Modem Cable">Table 26.3, &#8220;DB-9 to DB-9 Null-Modem Cable&#8221;</a>, and <a class="xref" href="serial.html#nullmodem-db9-25" title="Table 26.4. DB-9 to DB-25 Null-Modem Cable">Table 26.4, &#8220;DB-9 to DB-25 Null-Modem Cable&#8221;</a>.  While the standard calls for
	a straight-through pin 1 to pin 1 <span class="quote">&#8220;<span class="quote">Protective
	  Ground</span>&#8221;</span> line, it is often omitted.  Some terminals
	work using only pins 2, 3, and 7, while others require
	different configurations.  When in doubt, refer to the
	documentation for the hardware.</p><a id="idp67550456" class="indexterm"></a><div class="table"><a id="serialcomms-signal-names"></a><div class="table-title">Table 26.1. <acronym class="acronym">RS-232C</acronym> Signal Names</div><div class="table-contents"><table class="table" summary="RS-232C Signal Names" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th align="left">Acronyms</th><th align="left">Names</th></tr></thead><tbody><tr><td><acronym class="acronym">RD</acronym></td><td>Received Data</td></tr><tr><td><acronym class="acronym">TD</acronym></td><td>Transmitted Data</td></tr><tr><td><acronym class="acronym">DTR</acronym></td><td>Data Terminal Ready</td></tr><tr><td><acronym class="acronym">DSR</acronym></td><td>Data Set Ready</td></tr><tr><td><acronym class="acronym">DCD</acronym></td><td>Data Carrier Detect</td></tr><tr><td><acronym class="acronym">SG</acronym></td><td>Signal Ground</td></tr><tr><td><acronym class="acronym">RTS</acronym></td><td>Request to Send</td></tr><tr><td><acronym class="acronym">CTS</acronym></td><td>Clear to Send</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="nullmodem-db25"></a><div class="table-title">Table 26.2. DB-25 to DB-25 Null-Modem Cable</div><div class="table-contents"><table class="table" summary="DB-25 to DB-25 Null-Modem Cable" width="100%" border="0"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th align="left">Signal</th><th align="left">Pin #</th><th> </th><th align="left">Pin #</th><th align="left">Signal</th></tr></thead><tbody><tr><td>SG</td><td>7</td><td>connects to</td><td>7</td><td>SG</td></tr><tr><td>TD</td><td>2</td><td>connects to</td><td>3</td><td>RD</td></tr><tr><td>RD</td><td>3</td><td>connects to</td><td>2</td><td>TD</td></tr><tr><td>RTS</td><td>4</td><td>connects to</td><td>5</td><td>CTS</td></tr><tr><td>CTS</td><td>5</td><td>connects to</td><td>4</td><td>RTS</td></tr><tr><td>DTR</td><td>20</td><td>connects to</td><td>6</td><td>DSR</td></tr><tr><td>DTR</td><td>20</td><td>connects to</td><td>8</td><td>DCD</td></tr><tr><td>DSR</td><td>6</td><td>connects to</td><td>20</td><td>DTR</td></tr><tr><td>DCD</td><td>8</td><td>connects to</td><td>20</td><td>DTR</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="nullmodem-db9"></a><div class="table-title">Table 26.3. DB-9 to DB-9 Null-Modem Cable</div><div class="table-contents"><table class="table" summary="DB-9 to DB-9 Null-Modem Cable" width="100%" border="0"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th align="left">Signal</th><th align="left">Pin #</th><th> </th><th align="left">Pin #</th><th align="left">Signal</th></tr></thead><tbody><tr><td>RD</td><td>2</td><td>connects to</td><td>3</td><td>TD</td></tr><tr><td>TD</td><td>3</td><td>connects to</td><td>2</td><td>RD</td></tr><tr><td>DTR</td><td>4</td><td>connects to</td><td>6</td><td>DSR</td></tr><tr><td>DTR</td><td>4</td><td>connects to</td><td>1</td><td>DCD</td></tr><tr><td>SG</td><td>5</td><td>connects to</td><td>5</td><td>SG</td></tr><tr><td>DSR</td><td>6</td><td>connects to</td><td>4</td><td>DTR</td></tr><tr><td>DCD</td><td>1</td><td>connects to</td><td>4</td><td>DTR</td></tr><tr><td>RTS</td><td>7</td><td>connects to</td><td>8</td><td>CTS</td></tr><tr><td>CTS</td><td>8</td><td>connects to</td><td>7</td><td>RTS</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="nullmodem-db9-25"></a><div class="table-title">Table 26.4. DB-9 to DB-25 Null-Modem Cable</div><div class="table-contents"><table class="table" summary="DB-9 to DB-25 Null-Modem Cable" width="100%" border="0"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th align="left">Signal</th><th align="left">Pin #</th><th> </th><th align="left">Pin #</th><th align="left">Signal</th></tr></thead><tbody><tr><td>RD</td><td>2</td><td>connects to</td><td>2</td><td>TD</td></tr><tr><td>TD</td><td>3</td><td>connects to</td><td>3</td><td>RD</td></tr><tr><td>DTR</td><td>4</td><td>connects to</td><td>6</td><td>DSR</td></tr><tr><td>DTR</td><td>4</td><td>connects to</td><td>8</td><td>DCD</td></tr><tr><td>SG</td><td>5</td><td>connects to</td><td>7</td><td>SG</td></tr><tr><td>DSR</td><td>6</td><td>connects to</td><td>20</td><td>DTR</td></tr><tr><td>DCD</td><td>1</td><td>connects to</td><td>20</td><td>DTR</td></tr><tr><td>RTS</td><td>7</td><td>connects to</td><td>5</td><td>CTS</td></tr><tr><td>CTS</td><td>8</td><td>connects to</td><td>4</td><td>RTS</td></tr></tbody></table></div></div><br class="table-break" /><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">When one pin at one end connects to a pair of pins at
	  the other end, it is usually implemented with one short wire
	  between the pair of pins in their connector and a long wire
	  to the other single pin.</p></div><p>Serial ports are the devices through which data is
	transferred between the FreeBSD host computer and the terminal.
	Several kinds of serial ports exist.  Before purchasing or
	constructing a cable, make sure it will fit the ports on the
	terminal and on the FreeBSD system.</p><p>Most terminals have <acronym class="acronym">DB-25</acronym> ports.
	Personal computers may have <acronym class="acronym">DB-25</acronym> or
	<acronym class="acronym">DB-9</acronym> ports.  A multiport serial card may
	have <acronym class="acronym">RJ-12</acronym> or <acronym class="acronym">RJ-45/</acronym>
	ports.  See the documentation that accompanied the hardware
	for specifications on the kind of port or visually verify the
	type of port.</p><p>In FreeBSD, each serial port is accessed through an entry in
	<code class="filename">/dev</code>.  There are two different kinds of
	entries:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Call-in ports are named
	    <code class="filename">/dev/ttyu<em class="replaceable"><code>N</code></em></code>
	    where <em class="replaceable"><code>N</code></em> is the port number,
	    starting from zero.  If a terminal is connected to the
	    first serial port (<code class="filename">COM1</code>), use
	    <code class="filename">/dev/ttyu0</code> to refer to the terminal.
	    If the terminal is on the second serial port
	    (<code class="filename">COM2</code>), use
	    <code class="filename">/dev/ttyu1</code>, and so forth.  Generally,
	    the call-in port is used for terminals.  Call-in ports
	    require that the serial line assert the <span class="quote">&#8220;<span class="quote">Data
	      Carrier Detect</span>&#8221;</span> signal to work correctly.</p></li><li class="listitem"><p>Call-out ports are named
	    <code class="filename">/dev/cuau<em class="replaceable"><code>N</code></em></code>
	    on FreeBSD versions 8.X and higher and
	    <code class="filename">/dev/cuad<em class="replaceable"><code>N</code></em></code>
	    on FreeBSD versions 7.X and lower.  Call-out ports are
	    usually not used for terminals, but are used for modems.
	    The call-out port can be used if the serial cable or the
	    terminal does not support the <span class="quote">&#8220;<span class="quote">Data Carrier
	      Detect</span>&#8221;</span> signal.</p></li></ul></div><p>FreeBSD also provides initialization devices
	(<code class="filename">/dev/ttyu<em class="replaceable"><code>N</code></em>.init</code>
	and
	<code class="filename">/dev/cuau<em class="replaceable"><code>N</code></em>.init</code>
	or
	<code class="filename">/dev/cuad<em class="replaceable"><code>N</code></em>.init</code>)
	and locking devices
	(<code class="filename">/dev/ttyu<em class="replaceable"><code>N</code></em>.lock</code>
	and
	<code class="filename">/dev/cuau<em class="replaceable"><code>N</code></em>.lock</code>
	or
	<code class="filename">/dev/cuad<em class="replaceable"><code>N</code></em>.lock</code>).
	The initialization devices are used to initialize
	communications port parameters each time a port is opened,
	such as <code class="literal">crtscts</code> for modems which use
	<code class="literal">RTS/CTS</code> signaling for flow control.  The
	locking devices are used to lock flags on ports to prevent
	users or programs changing certain parameters.  Refer to
	<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=termios&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">termios</span>(4)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a>, and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=stty&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">stty</span>(1)</span></a> for information
	on terminal settings, locking and initializing devices, and
	setting terminal options, respectively.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="serial-hw-config"></a>26.2.2. Serial Port Configuration</h3></div></div></div><p>By default, FreeBSD supports four serial ports which are
	commonly known as <code class="filename">COM1</code>,
	<code class="filename">COM2</code>, <code class="filename">COM3</code>, and
	<code class="filename">COM4</code>.  FreeBSD also supports dumb multi-port
	serial interface cards, such as the BocaBoard 1008 and 2016,
	as well as more intelligent multi-port cards such as those
	made by Digiboard.  However, the default kernel only looks for
	the standard <code class="filename">COM</code> ports.</p><p>To see if the system recognizes the serial ports, look for
	system boot messages that start with
	<code class="literal">uart</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>grep uart /var/run/dmesg.boot</code></strong></pre><p>If the system does not recognize all of the needed serial
	ports, additional entries can be added to
	<code class="filename">/boot/device.hints</code>.  This file already
	contains <code class="literal">hint.uart.0.*</code> entries for
	<code class="filename">COM1</code> and <code class="literal">hint.uart.1.*</code>
	entries for <code class="filename">COM2</code>.  When adding a port
	entry for <code class="filename">COM3</code> use
	<code class="literal">0x3E8</code>, and for <code class="filename">COM4</code>
	use <code class="literal">0x2E8</code>.  Common <acronym class="acronym">IRQ</acronym>
	addresses are <code class="literal">5</code> for
	<code class="filename">COM3</code> and <code class="literal">9</code> for
	<code class="filename">COM4</code>.</p><a id="idp67726072" class="indexterm"></a><a id="idp67726712" class="indexterm"></a><p>To determine the default set of terminal
	<acronym class="acronym">I/O</acronym> settings used by the port, specify its
	device name.  This example determines the settings for the
	call-in port on <code class="filename">COM2</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -a -f /dev/<em class="replaceable"><code>ttyu1</code></em></code></strong></pre><p>System-wide initialization of serial devices is controlled
	by <code class="filename">/etc/rc.d/serial</code>.  This file affects
	the default settings of serial devices.  To change the
	settings for a device, use <code class="command">stty</code>.  By
	default, the changed settings are in effect until the device
	is closed and when the device is reopened, it goes back to the
	default set.  To permanently change the default set, open and
	adjust the settings of the initialization device.  For
	example, to turn on <code class="option">CLOCAL</code> mode, 8 bit
	communication, and <code class="option">XON/XOFF</code> flow control for
	<code class="filename">ttyu5</code>, type:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -f /dev/ttyu5.init clocal cs8 ixon ixoff</code></strong></pre><a id="idp67732984" class="indexterm"></a><p>To prevent certain settings from being changed by an
	application, make adjustments to the locking device.  For
	example, to lock the speed of <code class="filename">ttyu5</code> to
	57600 bps, type:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>stty -f /dev/ttyu5.lock 57600</code></strong></pre><p>Now, any application that opens <code class="filename">ttyu5</code>
	and tries to change the speed of the port will be stuck with
	57600 bps.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="serialcomms.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="serialcomms.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="term.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 26. Serial Communications </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 26.3. Terminals</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>