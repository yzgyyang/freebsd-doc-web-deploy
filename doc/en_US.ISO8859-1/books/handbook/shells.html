<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.9. Shells</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Handbook" /><link rel="up" href="basics.html" title="Chapter 3. FreeBSD Basics" /><link rel="prev" href="basics-processes.html" title="3.8. Processes and Daemons" /><link rel="next" href="editors.html" title="3.10. Text Editors" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.9. Shells</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="basics-processes.html">Prev</a> </td><th width="60%" align="center">Chapter 3. FreeBSD Basics</th><td width="20%" align="right"> <a accesskey="n" href="editors.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="shells"></a>3.9. Shells</h2></div></div></div><a id="idp53094008" class="indexterm"></a><a id="idp53094776" class="indexterm"></a><p>A <em class="firstterm">shell</em> provides a command line
      interface for interacting with the operating system.  A shell
      receives commands from the input channel and executes them.
      Many shells provide built in functions to help with everyday
      tasks such as file management, file globbing, command line
      editing, command macros, and environment variables.  FreeBSD comes
      with several shells, including the Bourne shell (<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a>) and
      the extended C shell (<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tcsh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a>).  Other shells are available
      from the FreeBSD Ports Collection, such as
      <code class="command">zsh</code> and <code class="command">bash</code>.</p><p>The shell that is used is really a matter of taste.  A C
      programmer might feel more comfortable with a C-like shell such
      as <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tcsh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a>.  A <span class="trademark">Linux</span>® user might prefer
      <code class="command">bash</code>.  Each shell has unique properties that
      may or may not work with a user's preferred working environment,
      which is why there is a choice of which shell to use.</p><p>One common shell feature is filename completion.  After a
      user types the first few letters of a command or filename and
      presses <span class="keycap"><strong>Tab</strong></span>, the shell completes the rest of
      the command or filename.  Consider two files called
      <code class="filename">foobar</code> and <code class="filename">football</code>.
      To delete <code class="filename">foobar</code>, the user might type
      <code class="command">rm foo</code> and press <span class="keycap"><strong>Tab</strong></span> to
      complete the filename.</p><p>But the shell only shows <code class="command">rm foo</code>.  It was
      unable to complete the filename because both
      <code class="filename">foobar</code> and <code class="filename">football</code>
      start with <code class="literal">foo</code>.  Some shells sound a beep or
      show all the choices if more than one name matches.  The user
      must then type more characters to identify the desired filename.
      Typing a <code class="literal">t</code> and pressing <span class="keycap"><strong>Tab</strong></span>
      again is enough to let the shell determine which filename is
      desired and fill in the rest.</p><a id="idp53134712" class="indexterm"></a><p>Another feature of the shell is the use of environment
      variables.  Environment variables are a variable/key pair stored
      in the shell's environment.  This environment can be read by any
      program invoked by the shell, and thus contains a lot of program
      configuration.  <a class="xref" href="shells.html#shell-env-vars" title="Table 3.4. Common Environment Variables">Table 3.4, &#8220;Common Environment Variables&#8221;</a> provides a list
      of common environment variables and their meanings.  Note that
      the names of environment variables are always in
      uppercase.</p><div class="table"><a id="shell-env-vars"></a><div class="table-title">Table 3.4. Common Environment Variables</div><div class="table-contents"><table class="table" summary="Common Environment Variables" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code class="envar">USER</code></td><td>Current logged in user's name.</td></tr><tr><td><code class="envar">PATH</code></td><td>Colon-separated list of directories to search for
	      binaries.</td></tr><tr><td><code class="envar">DISPLAY</code></td><td>Network name of the
	      <span class="application">Xorg</span>
	      display to connect to, if available.</td></tr><tr><td><code class="envar">SHELL</code></td><td>The current shell.</td></tr><tr><td><code class="envar">TERM</code></td><td>The name of the user's type of terminal.  Used to
	      determine the capabilities of the terminal.</td></tr><tr><td><code class="envar">TERMCAP</code></td><td>Database entry of the terminal escape codes to
	      perform various terminal functions.</td></tr><tr><td><code class="envar">OSTYPE</code></td><td>Type of operating system.</td></tr><tr><td><code class="envar">MACHTYPE</code></td><td>The system's CPU architecture.</td></tr><tr><td><code class="envar">EDITOR</code></td><td>The user's preferred text editor.</td></tr><tr><td><code class="envar">PAGER</code></td><td>The user's preferred utility for viewing text one
	      page at a time.</td></tr><tr><td><code class="envar">MANPATH</code></td><td>Colon-separated list of directories to search for
	      manual pages.</td></tr></tbody></table></div></div><br class="table-break" /><a id="idp53158392" class="indexterm"></a><p>How to set an environment variable differs between shells.
      In <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tcsh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=csh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">csh</span>(1)</span></a>, use
      <code class="command">setenv</code> to set environment variables.  In
      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a> and <code class="command">bash</code>, use
      <code class="command">export</code> to set the current environment
      variables.  This example sets the default <code class="envar">EDITOR</code>
      to <code class="filename">/usr/local/bin/emacs</code> for the
      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tcsh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a> shell:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>setenv EDITOR /usr/local/bin/emacs</code></strong></pre><p>The equivalent command for <code class="command">bash</code>
      would be:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>export EDITOR="/usr/local/bin/emacs"</code></strong></pre><p>To expand an environment variable in order to see its
      current setting, type a <code class="literal">$</code> character in front
      of its name on the command line.  For example,
      <code class="command">echo $TERM</code> displays the current
      <code class="envar">$TERM</code> setting.</p><p>Shells treat special characters, known as meta-characters,
      as special representations of data.  The most common
      meta-character is <code class="literal">*</code>, which represents any
      number of characters in a filename.  Meta-characters can be used
      to perform filename globbing.  For example, <code class="command">echo
	*</code> is equivalent to <code class="command">ls</code> because
      the shell takes all the files that match <code class="literal">*</code>
      and <code class="command">echo</code> lists them on the command
      line.</p><p>To prevent the shell from interpreting a special character,
      escape it from the shell by starting it with a backslash
      (<code class="literal">\</code>).  For example, <code class="command">echo
	$TERM</code> prints the terminal setting whereas
      <code class="command">echo \$TERM</code> literally prints the string
      <code class="literal">$TERM</code>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="changing-shells"></a>3.9.1. Changing the Shell</h3></div></div></div><p>The easiest way to permanently change the default shell is
	to use <code class="command">chsh</code>.  Running this command will
	open the editor that is configured in the
	<code class="envar">EDITOR</code> environment variable, which by default
	is set to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a>.  Change the <code class="literal">Shell:</code>
	line to the full path of the new shell.</p><p>Alternately, use <code class="command">chsh -s</code> which will set
	the specified shell without opening an editor.  For example,
	to change the shell to <code class="command">bash</code>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chsh -s /usr/local/bin/bash</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The new shell <span class="emphasis"><em>must</em></span> be present in
	  <code class="filename">/etc/shells</code>.  If the shell was
	  installed from the FreeBSD Ports Collection as described in
	  <a class="xref" href="ports.html" title="Chapter 4. Installing Applications: Packages and Ports">Chapter 4, <em>Installing Applications: Packages and Ports</em></a>, it should be automatically added
	  to this file.  If it is missing, add it using this command,
	  replacing the path with the path of the shell:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo <em class="replaceable"><code>/usr/local/bin/bash</code></em> &gt;&gt; /etc/shells</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Then, rerun <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chsh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chsh</span>(1)</span></a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp53202936"></a>3.9.2. Advanced Shell Techniques</h3></div><div><span class="authorgroup">Written by <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><p>The <span class="trademark">UNIX</span>® shell is not just a command interpreter, it
	acts as a powerful tool which allows users to execute
	commands, redirect their output, redirect their input and
	chain commands together to improve the final command output.
	When this functionality is mixed with built in commands, the
	user is provided with an environment that can maximize
	efficiency.</p><p>Shell redirection is the action of sending the output or
	the input of a command into another command or into a file.
	To capture the output of the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> command, for example,
	into a file, redirect the output:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ls &gt; directory_listing.txt</code></strong></pre><p>The directory contents will now be listed in
	<code class="filename">directory_listing.txt</code>.  Some commands can
	be used to read input, such as <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sort&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sort</span>(1)</span></a>.  To sort this
	listing, redirect the input:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sort &lt; directory_listing.txt</code></strong></pre><p>The input will be sorted and placed on the screen.  To
	redirect that input into another file, one could redirect the
	output of <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sort&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sort</span>(1)</span></a> by mixing the direction:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sort &lt; directory_listing.txt &gt; sorted.txt</code></strong></pre><p>In all of the previous examples, the commands are
	performing redirection using file descriptors.  Every <span class="trademark">UNIX</span>®
	system has file descriptors, which include standard input
	(stdin), standard output (stdout), and standard error
	(stderr).  Each one has a purpose, where input could be a
	keyboard or a mouse, something that provides input.  Output
	could be a screen or paper in a printer.  And error would be
	anything that is used for diagnostic or error messages.  All
	three are considered <acronym class="acronym">I/O</acronym> based file
	descriptors and sometimes considered streams.</p><p>Through the use of these descriptors, the shell allows
	output and input to be passed around through various commands
	and redirected to or from a file.  Another method of
	redirection is the pipe operator.</p><p>The <span class="trademark">UNIX</span>® pipe operator, <span class="quote">&#8220;<span class="quote">|</span>&#8221;</span> allows the
	output of one command to be directly passed or directed to
	another program.  Basically, a pipe allows the standard
	output of a command to be passed as standard input to another
	command, for example:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cat directory_listing.txt | sort | less</code></strong></pre><p>In that example, the contents of
	<code class="filename">directory_listing.txt</code> will be sorted and
	the output passed to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=less&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">less</span>(1)</span></a>.  This allows the user to
	scroll through the output at their own pace and prevent it
	from scrolling off the screen.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basics-processes.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="editors.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3.8. Processes and Daemons </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3.10. Text Editors</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>