<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>13.16. Avoid Use of the .error Construct</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Porter's Handbook" /><link rel="up" href="porting-dads.html" title="Chapter 13. Dos and Don'ts" /><link rel="prev" href="dads-deprecated.html" title="13.15. Marking a Port for Removal with DEPRECATED or EXPIRATION_DATE" /><link rel="next" href="dads-sysctl.html" title="13.17. Usage of sysctl" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.16. Avoid Use of the <code class="literal">.error</code>
      Construct</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dads-deprecated.html">Prev</a> </td><th width="60%" align="center">Chapter 13. Dos and Don'ts</th><td width="20%" align="right"> <a accesskey="n" href="dads-sysctl.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="dads-dot-error"></a>13.16. Avoid Use of the <code class="literal">.error</code>
      Construct</h2></div></div></div><p>The correct way for a <code class="filename">Makefile</code> to
      signal that the port cannot be installed due to some external
      factor (for instance, the user has specified an illegal
      combination of build options) is to set a non-blank value to
      <code class="varname">IGNORE</code>.  This value will be formatted and
      shown to the user by <code class="command">make install</code>.</p><p>It is a common mistake to use <code class="literal">.error</code>
      for this purpose.  The problem with this is that many automated
      tools that work with the ports tree will fail in this situation.
      The most common occurrence of this is seen when trying to build
      <code class="filename">/usr/ports/INDEX</code> (see
      <a class="xref" href="testing.html#make-describe" title="10.1. Running make describe">Section 10.1, &#8220;Running <code class="command">make describe</code>&#8221;</a>).  However, even more trivial
      commands such as <code class="command">make maintainer</code> also fail in
      this scenario.  This is not acceptable.</p><div class="example"><a id="dot-error-breaks-index"></a><div class="example-title">Example 13.1. How to Avoid Using <code class="literal">.error</code></div><div class="example-contents"><p>The first of the
	next two <code class="filename">Makefile</code> snippets will cause
	<code class="command">make index</code> to fail, while the second one
	will not:</p><pre class="programlisting">.error "option is not supported"</pre><pre class="programlisting">IGNORE=option is not supported</pre></div></div><br class="example-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dads-deprecated.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="porting-dads.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="dads-sysctl.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">13.15. Marking a Port for Removal with
      <code class="varname">DEPRECATED</code> or
      <code class="varname">EXPIRATION_DATE</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 13.17. Usage of <code class="filename">sysctl</code></td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>