<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.2. Getting the Original Sources</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Porter's Handbook" /><link rel="up" href="slow-porting.html" title="Chapter 4. Slow Porting" /><link rel="prev" href="slow-porting.html" title="Chapter 4. Slow Porting" /><link rel="next" href="slow-modifying.html" title="4.3. Modifying the Port" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.2. Getting the Original Sources</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="slow-porting.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Slow Porting</th><td width="20%" align="right"> <a accesskey="n" href="slow-modifying.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="slow-sources"></a>4.2. Getting the Original Sources</h2></div></div></div><p>Get the original sources (normally) as a compressed tarball
      (<code class="filename">foo.tar.gz</code> or
      <code class="filename"><em class="replaceable"><code>foo</code></em>.tar.bz2</code>) and
      copy it into <code class="varname">DISTDIR</code>.  Always use
      <span class="emphasis"><em>mainstream</em></span> sources when and where
      possible.</p><p>Set the variable
      <code class="varname">MASTER_SITES</code> to reflect where the original
      tarball resides.  Shorthand definitions exist
      for most mainstream sites in <code class="filename">bsd.sites.mk</code>.
      Please use these sites&#8212;and the associated
      definitions&#8212;if at all possible, to help avoid the problem
      of having the same information repeated over again many times in
      the source base.  As these sites tend to change over time, this
      becomes a maintenance nightmare for everyone involved.  See
      <a class="xref" href="makefile-distfiles.html#makefile-master_sites" title="5.4.2. MASTER_SITES">Section 5.4.2, &#8220;<code class="varname">MASTER_SITES</code>&#8221;</a> for details.</p><p>If there is no FTP/HTTP site that is well-connected to
      the net, or can only find sites that have irritatingly
      non-standard formats, put a copy on a reliable
      FTP or HTTP server (for example, a home
      page).</p><p>If a convenient and reliable place to put the distfile
      cannot be found, we can <span class="quote">&#8220;<span class="quote">house</span>&#8221;</span> it ourselves on
      <code class="systemitem">ftp.FreeBSD.org</code>; however, this is the
      least-preferred solution.  The distfile must be placed into
      <code class="filename">~/public_distfiles/</code> of someone's
      <code class="systemitem">freefall</code> account.  Ask the person who
      commits the port to do this.  This person will also set
      <code class="varname">MASTER_SITES</code> to
      <code class="literal">LOCAL/<em class="replaceable"><code>username</code></em></code>
      where <code class="literal"><em class="replaceable"><code>username</code></em></code> is
      their FreeBSD cluster login.</p><p>If the port's distfile changes all the time without any
      kind of version update by the author, consider putting the
      distfile on a home page and listing it as the first
      <code class="varname">MASTER_SITES</code>.  Try to talk the
      port author out of doing this; it really does help to establish
      some kind of source code control.  Hosting a specific version
      will prevent users from getting
      <span class="errorname">checksum mismatch</span> errors, and also reduce
      the workload of maintainers of our FTP site.  Also, if there is
      only one master site for the port, it is recommended to
      house a backup on a home page and list it as the second
      <code class="varname">MASTER_SITES</code>.</p><p>If the port requires additional patches that are
      available on the Internet, fetch them too and put them in
      <code class="varname">DISTDIR</code>.  Do not worry if they come from a
      site other than where the main source tarball comes, we have a
      way to handle these situations (see the description of <a class="link" href="makefile-distfiles.html#porting-patchfiles" title="5.4.8. PATCHFILES">PATCHFILES</a> below).</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="slow-porting.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="slow-porting.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="slow-modifying.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 4. Slow Porting </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4.3. Modifying the Port</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>