<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.2. Writing the Description Files</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Porter's Handbook" /><link rel="up" href="quick-porting.html" title="Chapter 3. Quick Porting" /><link rel="prev" href="quick-porting.html" title="Chapter 3. Quick Porting" /><link rel="next" href="porting-checksum.html" title="3.3. Creating the Checksum File" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.2. Writing the Description Files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="quick-porting.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Quick Porting</th><td width="20%" align="right"> <a accesskey="n" href="porting-checksum.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="porting-desc"></a>3.2. Writing the Description Files</h2></div></div></div><p>There are two description files that are required for
      any port, whether they actually package or not.  They are
      <code class="filename">pkg-descr</code> and
      <code class="filename">pkg-plist</code>.  Their
      <code class="filename">pkg-</code> prefix distinguishes them from other
      files.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="porting-pkg-descr"></a>3.2.1. <code class="filename">pkg-descr</code></h3></div></div></div><p>This is a longer description of the port.  One to a few
	paragraphs concisely explaining what the port does is
	sufficient.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">This is <span class="emphasis"><em>not</em></span> a manual or an
	  in-depth description on how to use or compile the port!
	  <span class="emphasis"><em>Please be careful when copying from the
	  <code class="filename">README</code> or manpage</em></span>.  Too
	  often they are not a concise description of the port or
	  are in an awkward format.  For example, manpages have
	  justified spacing, which looks particularly bad with
	  monospaced fonts.</p><p xmlns="http://www.w3.org/1999/xhtml">On the other hand, the content of
	  <code class="filename">pkg-descr</code> must be longer than the <a class="link" href="makefile-comment.html" title="5.6. COMMENT"><code class="varname">COMMENT</code></a>
	  line from the Makefile.  It must explain in more depth what
	  the port is all about.</p></div><p>A well-written <code class="filename">pkg-descr</code> describes
	the port completely enough that users would not have to
	consult the documentation or visit the website to understand
	what the software does, how it can be useful, or what
	particularly nice features it has.  Mentioning certain
	requirements like a graphical toolkit, heavy dependencies,
	runtime environment, or implementation languages help users
	decide whether this port will work for them.</p><p>Include a URL to the official WWW homepage.  Prepend
	<span class="emphasis"><em>one</em></span> of the websites (pick the most
	common one) with <code class="literal">WWW:</code> (followed by single
	space) so that automated tools will work correctly.  If the
	URI is the root of the website or directory, it must be
	terminated with a slash.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If the listed webpage for a port is not available, try
	  to search the Internet first to see if the official site
	  moved, was renamed, or is hosted elsewhere.</p></div><p>This example shows how
	<code class="filename">pkg-descr</code> looks:</p><pre class="programlisting">This is a port of oneko, in which a cat chases a poor mouse all over
the screen.
 :
(etc.)

WWW: http://www.oneko.org/</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="porting-pkg-plist"></a>3.2.2. <code class="filename">pkg-plist</code></h3></div></div></div><p>This file lists all the files installed by the port.  It
	is also called the <span class="quote">&#8220;<span class="quote">packing list</span>&#8221;</span> because the
	package is generated by packing the files listed here.  The
	pathnames are relative to the installation prefix (usually
	<code class="filename">/usr/local</code>).</p><p>Here is a small example:</p><pre class="programlisting">bin/oneko
man/man1/oneko.1.gz
lib/X11/app-defaults/Oneko
lib/X11/oneko/cat1.xpm
lib/X11/oneko/cat2.xpm
lib/X11/oneko/mouse.xpm</pre><p>Refer to the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pkg-create&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pkg-create</span>(8)</span></a> manual page for details
	on the packing list.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">It is recommended to keep all the filenames in
	  this file sorted alphabetically.  It will make verifying
	  changes when upgrading the port much easier.</p></div><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">Creating a packing list manually can be a very tedious
	  task.  If the port installs a large numbers of files,
	  <a class="link" href="plist-autoplist.html" title="8.5. Automated Package List Creation">creating the packing list
	    automatically</a> might save time.</p></div><p>There is only one case when
	<code class="filename">pkg-plist</code> can be omitted from a port.
	If the port installs just a handful of files, list them in
	<code class="varname">PLIST_FILES</code>, within the
	port's <code class="filename">Makefile</code>.  For instance, we
	could get along without <code class="filename">pkg-plist</code> in
	the above <code class="filename">oneko</code> port by adding these
	lines to the <code class="filename">Makefile</code>:</p><pre class="programlisting">PLIST_FILES=	bin/oneko \
		man/man1/oneko.1.gz \
		lib/X11/app-defaults/Oneko \
		lib/X11/oneko/cat1.xpm \
		lib/X11/oneko/cat2.xpm \
		lib/X11/oneko/mouse.xpm</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Usage of <code class="varname">PLIST_FILES</code> should not be
	  abused.  When looking for the origin of a file, people
	  usually try to <span class="application">grep</span> through the
	  <code class="filename">pkg-plist</code> files in the ports tree.
	  Listing files in <code class="varname">PLIST_FILES</code> in the
	  <code class="filename">Makefile</code> makes that search more
	  difficult.</p></div><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">If a port needs to create an empty directory, or creates
	  directories outside of <code class="filename">${PREFIX}</code> during
	  installation, refer to <a class="xref" href="plist-cleaning.html#plist-dir-cleaning" title="8.2.1. Cleaning Up Empty Directories">Section 8.2.1, &#8220;Cleaning Up Empty Directories&#8221;</a>
	  for more information.</p></div><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">As <code class="varname">PLIST_FILES</code> is a <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> variable,
	  any entry with spaces must be quoted.  For example, if using
	  keywords described in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pkg-create&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pkg-create</span>(8)</span></a> and <a class="xref" href="plist-keywords.html" title="8.6. Expanding Package List with Keywords">Section 8.6, &#8220;Expanding Package List with Keywords&#8221;</a>, the entry must be quoted.</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">PLIST_FILES=	"@sample ${ETCDIR}/oneko.conf.sample"</pre></div><p>Later we will see how <code class="filename">pkg-plist</code>
	and <code class="varname">PLIST_FILES</code> can be used to fulfill
	<a class="link" href="plist.html" title="Chapter 8. Advanced pkg-plist Practices">more sophisticated
	  tasks</a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="quick-porting.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="quick-porting.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="porting-checksum.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 3. Quick Porting </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3.3. Creating the Checksum File</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>