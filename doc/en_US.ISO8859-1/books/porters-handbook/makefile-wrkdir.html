<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5.14. Specifying the Working Directory</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Porter's Handbook" /><link rel="up" href="makefiles.html" title="Chapter 5. Configuring the Makefile" /><link rel="prev" href="makefile-options.html" title="5.13. Makefile Options" /><link rel="next" href="conflicts.html" title="5.15. Conflict Handling" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.14. Specifying the Working Directory</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="makefile-options.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Configuring the Makefile</th><td width="20%" align="right"> <a accesskey="n" href="conflicts.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="makefile-wrkdir"></a>5.14. Specifying the Working Directory</h2></div></div></div><p>Each port is extracted into a working directory, which must
      be writable.  The ports system defaults to having
      <code class="varname">DISTFILES</code> unpack in to a directory called
      <code class="literal">${DISTNAME}</code>.  In other words, if the
      <code class="filename">Makefile</code> has:</p><pre class="programlisting">PORTNAME=	foo
DISTVERSION=	1.0</pre><p>then the port's distribution files contain a top-level
      directory, <code class="filename">foo-1.0</code>, and the rest of the
      files are located under that directory.</p><p>A number of variables can be overridden if that is
      not the case.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="makefile-wrksrc"></a>5.14.1. <code class="varname">WRKSRC</code></h3></div></div></div><p>The variable lists the name of the directory that is
	created when the application's distfiles are extracted.  If
	our previous example extracted into a directory called
	<code class="filename">foo</code> (and not
	<code class="filename">foo-1.0</code>) write:</p><pre class="programlisting">WRKSRC=	${WRKDIR}/foo</pre><p>or possibly</p><pre class="programlisting">WRKSRC=	${WRKDIR}/${PORTNAME}</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="makefile-wrksrc_subdir"></a>5.14.2. <code class="varname">WRKSRC_SUBDIR</code></h3></div></div></div><p>If the source files needed for the port are in a
	subdirectory of the extracted distribution file, set
	<code class="varname">WRKSRC_SUBDIR</code> to that directory.</p><pre class="programlisting">WRKSRC_SUBDIR=	src</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="makefile-no_wrksubdir"></a>5.14.3. <code class="varname">NO_WRKSUBDIR</code></h3></div></div></div><p>If the port does not extract in to a subdirectory at all,
	then set <code class="varname">NO_WRKSUBDIR</code> to
	indicate that.</p><pre class="programlisting">NO_WRKSUBDIR=	yes</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Because <code class="varname">WRKDIR</code> is the only directory
	  that is supposed to be writable during the build, and is
	  used to store many files recording the status of the build,
	  the port's extraction will be forced into a
	  subdirectory.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="makefile-options.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="makefiles.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="conflicts.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.13. Makefile Options </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5.15. Conflict Handling</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>