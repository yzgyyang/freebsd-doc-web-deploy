<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>9.4. Block Devices (Are Gone)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="FreeBSD Architecture Handbook" /><link rel="up" href="driverbasics.html" title="Chapter 9. Writing FreeBSD Device Drivers" /><link rel="prev" href="driverbasics-char.html" title="9.3. Character Devices" /><link rel="next" href="driverbasics-net.html" title="9.5. Network Drivers" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">9.4. Block Devices (Are Gone)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="driverbasics-char.html">Prev</a> </td><th width="60%" align="center">Chapter 9. Writing FreeBSD Device Drivers</th><td width="20%" align="right"> <a accesskey="n" href="driverbasics-net.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="driverbasics-block"></a>9.4. Block Devices (Are Gone)</h2></div></div></div><a id="idp56085240" class="indexterm"></a><p>Other <span class="trademark">UNIX</span>® systems may support a second type of disk
      device known as block devices.  Block devices are disk devices
      for which the kernel provides caching.  This caching makes
      block-devices almost unusable, or at least dangerously
      unreliable.  The caching will reorder the sequence of write
      operations, depriving the application of the ability to know the
      exact disk contents at any one instant in time.</p><p>This makes predictable and reliable crash recovery of
      on-disk data structures (filesystems, databases, etc.)
      impossible.  Since writes may be delayed, there is no way
      the kernel can report to the application which particular
      write operation encountered a write error, this further
      compounds the consistency problem.</p><p>For this reason, no serious applications rely on block
      devices, and in fact, almost all applications which access
      disks directly take great pains to specify that character
      (or <span class="quote">&#8220;<span class="quote">raw</span>&#8221;</span>) devices should always be used.  Because
      the implementation of the aliasing of each disk (partition) to
      two devices with different semantics significantly complicated
      the relevant kernel code FreeBSD dropped support for cached disk
      devices as part of the modernization of the disk I/O
      infrastructure.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="driverbasics-char.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="driverbasics.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="driverbasics-net.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">9.3. Character Devices </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 9.5. Network Drivers</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>