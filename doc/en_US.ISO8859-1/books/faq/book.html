<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Frequently Asked Questions for FreeBSD 11.X and 12.X</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="description" content="This is the Frequently Asked Questions (FAQ) for FreeBSD versions 12.X and 11.X. Every effort has been made to make this FAQ as informative as possible; if you have any suggestions as to how it may be improved, send them to the FreeBSD documentation project mailing list. The latest version of this document is always available from the FreeBSD website. It may also be downloaded as one large HTML file with HTTP or as a variety of other formats from the FreeBSD FTP server." /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div xml:lang="en" class="book" lang="en"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp43938936"></a>Frequently Asked Questions for FreeBSD
      11.<em class="replaceable"><code>X</code></em> and 12.<em class="replaceable"><code>X</code></em></h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="author"><h3 class="author"><span class="orgname">The FreeBSD Documentation Project</span></h3></div></div><div>Revision: <a href="https://svnweb.freebsd.org/changeset/doc/2d9921f42d"><span class="svnref">2d9921f42d</span></a></div><div><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 1995-2020 The FreeBSD Documentation Project</p></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="legalnotice"></a><p class="legalnotice-title"><strong>Copyright</strong></p><p>Redistribution and use in source (XML DocBook) and 'compiled'
    forms (XML, HTML, PDF, PostScript, RTF and so forth) with or without
    modification, are permitted provided that the following conditions are
    met:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Redistributions of source code (XML DocBook) must retain the
        above copyright notice, this list of conditions and the following
        disclaimer as the first lines of this file unmodified.</p></li><li class="listitem"><p>Redistributions in compiled form (transformed to other DTDs,
        converted to PDF, PostScript, RTF and other formats) must
        reproduce the above copyright notice, this list of conditions and
        the following disclaimer in the documentation and/or other
        materials provided with the distribution.</p></li></ol></div><div xmlns="" class="important"><h3 class="admontitle">Important: </h3><p xmlns="http://www.w3.org/1999/xhtml">THIS DOCUMENTATION IS PROVIDED BY THE FREEBSD DOCUMENTATION
      PROJECT "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
      BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
      FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
      THE FREEBSD DOCUMENTATION PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
      OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
      ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
      TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
      USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.</p></div></div></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="legalnotice"><a id="trademarks"></a><p>FreeBSD is a registered trademark of
  the FreeBSD Foundation.</p><p>Adobe, Acrobat, Acrobat Reader, Flash and
  PostScript are either registered trademarks or trademarks of Adobe
  Systems Incorporated in the United States and/or other
  countries.</p><p>IBM, AIX, OS/2,
  PowerPC, PS/2, S/390, and ThinkPad are
  trademarks of International Business Machines Corporation in the
  United States, other countries, or both.</p><p>IEEE, POSIX, and 802 are registered
  trademarks of Institute of Electrical and Electronics Engineers,
  Inc. in the United States.</p><p>Intel, Celeron, Centrino, Core, EtherExpress, i386,
  i486, Itanium, Pentium, and Xeon are trademarks or registered
  trademarks of Intel Corporation or its subsidiaries in the United
  States and other countries.</p><p>Linux is a registered trademark of
  Linus Torvalds.</p><p>Microsoft, IntelliMouse, MS-DOS,
  Outlook, Windows, Windows Media and Windows NT are either
  registered trademarks or trademarks of Microsoft Corporation in the
  United States and/or other countries.</p><p>NetBSD is a registered trademark of
  the NetBSD Foundation.</p><p>Motif, OSF/1, and UNIX are
  registered trademarks and IT DialTone and The Open Group are
  trademarks of The Open Group in the United States and other
  countries.</p><p>Silicon Graphics, SGI, and OpenGL are
  registered trademarks of Silicon Graphics, Inc., in the United
  States and/or other countries worldwide.</p><p>Sun, Sun Microsystems, Java, Java
  Virtual Machine, JDK, JRE, JSP, JVM, Netra, OpenJDK,
  Solaris, StarOffice, SunOS
  and VirtualBox are trademarks or registered trademarks of
  Sun Microsystems, Inc. in the United States and other countries.</p><p>Many of the designations used by
  manufacturers and sellers to distinguish their products are claimed
  as trademarks.  Where those designations appear in this document,
  and the FreeBSD Project was aware of the trademark claim, the
  designations have been followed by the <span class="quote">&#8220;<span class="quote">&#8482;</span>&#8221;</span> or the
  <span class="quote">&#8220;<span class="quote">®</span>&#8221;</span> symbol.</p></div></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Abstract</div><p>This is the Frequently Asked Questions
	<acronym class="acronym">(FAQ)</acronym> for FreeBSD versions
	12.<em class="replaceable"><code>X</code></em> and 11.<em class="replaceable"><code>X</code></em>.  Every effort has been made to
	make this <acronym class="acronym">FAQ</acronym> as informative as possible;
	if you have any suggestions as to how it may be improved, send
	them to the <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc" target="_top">FreeBSD documentation project mailing list</a>.</p><p>The latest version of this document is always available
	from the <a class="link" href="https://www.FreeBSD.org/doc/en_US.ISO8859-1/books/faq/index.html" target="_top">FreeBSD
	  website</a>.  It may also be downloaded as one large
	<a class="link" href="book.html" target="_top">HTML</a> file with HTTP or as
	a variety of other formats from the <a class="link" href="https://download.freebsd.org/ftp/doc/" target="_top">FreeBSD FTP
	  server</a>.</p></div></div></div><div class="docformatnavi">
      [
      <a href="index.html">Split HTML</a>
      /
      
	  Single HTML
	
      ]
    </div><hr /></div><div class="toc"><div class="toc-title">Table of Contents</div><dl class="toc"><dt><span class="chapter"><a href="#introduction">1. Introduction</a></span></dt><dt><span class="chapter"><a href="#support">2. Documentation and Support</a></span></dt><dt><span class="chapter"><a href="#install">3. Installation</a></span></dt><dt><span class="chapter"><a href="#hardware">4. Hardware Compatibility</a></span></dt><dd><dl><dt><span class="sect1"><a href="#compatibility-general">4.1. General</a></span></dt><dt><span class="sect1"><a href="#compatibility-processors">4.2. Architectures and Processors</a></span></dt><dt><span class="sect1"><a href="#compatibility-peripherals">4.3. Peripherals</a></span></dt><dt><span class="sect1"><a href="#compatibility-kbd-mice">4.4. Keyboards and Mice</a></span></dt><dt><span class="sect1"><a href="#compatibility-other">4.5. Other Hardware</a></span></dt></dl></dd><dt><span class="chapter"><a href="#troubleshoot">5. Troubleshooting</a></span></dt><dt><span class="chapter"><a href="#applications">6. User Applications</a></span></dt><dt><span class="chapter"><a href="#kernelconfig">7. Kernel Configuration</a></span></dt><dt><span class="chapter"><a href="#disks">8. Disks, File Systems, and Boot Loaders</a></span></dt><dt><span class="chapter"><a href="#all-about-zfs">9. ZFS</a></span></dt><dt><span class="chapter"><a href="#admin">10. System Administration</a></span></dt><dt><span class="chapter"><a href="#x">11. The X Window System and Virtual Consoles</a></span></dt><dt><span class="chapter"><a href="#networking">12. Networking</a></span></dt><dt><span class="chapter"><a href="#security">13. Security</a></span></dt><dt><span class="chapter"><a href="#serial">14. Serial Communications</a></span></dt><dt><span class="chapter"><a href="#misc">15. Miscellaneous Questions</a></span></dt><dt><span class="chapter"><a href="#funnies">16. The FreeBSD Funnies</a></span></dt><dt><span class="chapter"><a href="#advanced">17. Advanced Topics</a></span></dt><dt><span class="chapter"><a href="#acknowledgments">18. Acknowledgments</a></span></dt></dl></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="introduction"></a>Chapter 1. Introduction</h1></div></div></div><div class="qandaset"><a id="idp45007992"></a><dl><dt>1.1. <a href="#idp45008504">What is FreeBSD?</a></dt><dt>1.2. <a href="#idp45051512">What is the goal of the FreeBSD Project?</a></dt><dt>1.3. <a href="#idp45056504">Does the FreeBSD license have any restrictions?</a></dt><dt>1.4. <a href="#idp45077112">Can FreeBSD replace my current operating system?</a></dt><dt>1.5. <a href="#idp45098872">Why is it called FreeBSD?</a></dt><dt>1.6. <a href="#idp45127416">What are the differences between FreeBSD and NetBSD,
	    OpenBSD, and other open source BSD operating
	    systems?</a></dt><dt>1.7. <a href="#idp45170296">What is the latest version of FreeBSD?</a></dt><dt>1.8. <a href="#idp45194104">What is FreeBSD-CURRENT?</a></dt><dt>1.9. <a href="#idp45214200">What is the FreeBSD-STABLE
	    concept?</a></dt><dt>1.10. <a href="#idp45230456">When are FreeBSD releases made?</a></dt><dt>1.11. <a href="#idp45241208">When are FreeBSD snapshots made?</a></dt><dt>1.12. <a href="#idp45282552">Who is responsible for FreeBSD?</a></dt><dt>1.13. <a href="#idp45294840">Where can I get FreeBSD?</a></dt><dt>1.14. <a href="#idp45333368">How do I access the Problem Report database?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp45008504"></a><a id="what-is-FreeBSD"></a><p><strong>1.1.</strong></p></td><td align="left" valign="top"><p>What is FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD is a modern operating system for desktops,
	    laptops, servers, and embedded systems with support for a
	    large number of  <a class="link" href="https://www.FreeBSD.org/platforms/" target="_top">platforms</a>.</p><p>It is based on U.C. Berkeley's
	    <span class="quote">&#8220;<span class="quote">4.4BSD-Lite</span>&#8221;</span> release, with some
	    <span class="quote">&#8220;<span class="quote">4.4BSD-Lite2</span>&#8221;</span> enhancements.  It is also
	    based indirectly on William Jolitz's port of U.C.
	    Berkeley's <span class="quote">&#8220;<span class="quote">Net/2</span>&#8221;</span> to the <span class="trademark">i386</span>&#8482;, known as
	    <span class="quote">&#8220;<span class="quote">386BSD</span>&#8221;</span>, though very little of the 386BSD
	    code remains.</p><p>FreeBSD is used by companies, Internet Service Providers,
	    researchers, computer professionals, students and home
	    users all over the world in their work, education and
	    recreation.</p><p>For more detailed information on FreeBSD, refer to the
	    <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/index.html" target="_top">FreeBSD
	      Handbook</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45051512"></a><a id="FreeBSD-goals"></a><p><strong>1.2.</strong></p></td><td align="left" valign="top"><p>What is the goal of the FreeBSD Project?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The goal of the FreeBSD Project is to provide a stable
	    and fast general purpose operating system that may be used
	    for any purpose without strings attached.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45056504"></a><a id="bsd-license-restrictions"></a><p><strong>1.3.</strong></p></td><td align="left" valign="top"><p>Does the FreeBSD license have any restrictions?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  Those restrictions do not control how the code
	    is used, but how to treat the FreeBSD Project itself.
	    The license itself is available at
	    <a class="link" href="https://www.FreeBSD.org/copyright/freebsd-license.html" target="_top">license</a>
	    and can be summarized like this:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Do not claim that you wrote this.</p></li><li class="listitem"><p>Do not sue us if it breaks.</p></li><li class="listitem"><p>Do not remove or modify the license.</p></li></ul></div><p>Many of us have a significant investment in the
	    project and would certainly not mind a little financial
	    compensation now and then, but we definitely do not insist
	    on it.  We believe that our first and foremost
	    <span class="quote">&#8220;<span class="quote">mission</span>&#8221;</span> is to provide code to any and all
	    comers, and for whatever purpose, so that the code gets
	    the widest possible use and provides the widest possible
	    benefit.  This, we believe, is one of the most fundamental
	    goals of Free Software and one that we enthusiastically
	    support.</p><p>Code in our source tree which falls under the <a class="link" href="https://www.FreeBSD.org/copyright/COPYING" target="_top">GNU
	      General Public License (GPL)</a> or <a class="link" href="https://www.FreeBSD.org/copyright/COPYING.LIB" target="_top">GNU
	      Library General Public License (LGPL)</a> comes with
	    slightly more strings attached, though at least on the
	    side of enforced access rather than the usual opposite.
	    Due to the additional complexities that can evolve in the
	    commercial use of GPL software, we do, however, endeavor
	    to replace such software with submissions under the more
	    relaxed <a class="link" href="https://www.FreeBSD.org/copyright/freebsd-license.html" target="_top">FreeBSD
	      license</a> whenever possible.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45077112"></a><a id="replace-current-OS"></a><p><strong>1.4.</strong></p></td><td align="left" valign="top"><p>Can FreeBSD replace my current operating system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>For most people, yes.  But this question is not quite
	    that cut-and-dried.</p><p>Most people do not actually use an operating system.
	    They use applications.  The applications are what really
	    use the operating system.  FreeBSD is designed to provide a
	    robust and full-featured environment for applications.  It
	    supports a wide variety of web browsers, office suites,
	    email readers, graphics programs, programming
	    environments, network servers, and much more.
	    Most of these applications can be
	    managed through the <a class="link" href="https://www.FreeBSD.org/ports/" target="_top">Ports
	      Collection</a>.</p><p>If an application is only available on one operating
	    system, that operating system cannot just be replaced.
	    Chances are, there is a very similar application on FreeBSD,
	    however.  As a solid office or Internet server or a
	    reliable workstation, FreeBSD will almost certainly do
	    everything you need.  Many computer users across the
	    world, including both novices and experienced <span class="trademark">UNIX</span>®
	    administrators, use FreeBSD as their only desktop operating
	    system.</p><p>Users migrating to FreeBSD from another <span class="trademark">UNIX</span>®-like
            environment will find FreeBSD to be similar.
            <span class="trademark">Windows</span>® and <span class="trademark">Mac OS</span>® users may be interested in instead
            using <a class="link" href="https://www.furybsd.org/" target="_top">FuryBSD</a>,
            <a class="link" href="https://ghostbsd.org/" target="_top">GhostBSD</a>
            or <a class="link" href="https://www.midnightbsd.org/" target="_top">MidnightBSD</a>
            three FreeBSD-based desktop distributions.  Non-<span class="trademark">UNIX</span>® users
            should expect to invest some additional time learning the
            <span class="trademark">UNIX</span>® way of doing things.  This <acronym class="acronym">FAQ</acronym>
            and the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/index.html" target="_top">FreeBSD
            Handbook</a> are excellent places to start.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45098872"></a><a id="why-called-FreeBSD"></a><p><strong>1.5.</strong></p></td><td align="left" valign="top"><p>Why is it called FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>It may be used free of charge, even by commercial
		users.</p></li><li class="listitem"><p>Full source for the operating system is freely
		available, and the minimum possible restrictions have
		been placed upon its use, distribution and
		incorporation into other work (commercial or
		non-commercial).</p></li><li class="listitem"><p>Anyone who has an improvement or bug fix is free
		to submit their code and have it added to the source
		tree (subject to one or two obvious
		provisions).</p></li></ul></div><p>It is worth pointing out that the word
	    <span class="quote">&#8220;<span class="quote">free</span>&#8221;</span> is being used in two ways here: one
	    meaning <span class="quote">&#8220;<span class="quote">at no cost</span>&#8221;</span> and the other meaning
	    <span class="quote">&#8220;<span class="quote">do whatever you like</span>&#8221;</span>.  Apart from
	    one or two things you <span class="emphasis"><em>cannot</em></span> do with
	    the FreeBSD code, for example pretending you wrote it, you
	    can really do whatever you like with it.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45127416"></a><a id="differences-to-other-bsds"></a><p><strong>1.6.</strong></p></td><td align="left" valign="top"><p>What are the differences between FreeBSD and NetBSD,
	    OpenBSD, and other open source BSD operating
	    systems?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>James Howard wrote a good explanation of the history
	    and differences between the various projects, called <a class="link" href="https://jameshoward.us/archive/the-bsd-family-tree/" target="_top">The
	      BSD Family Tree</a> which goes a fair way to
	    answering this question.  Some of the information is out
	    of date, but the history portion in particular remains
	    accurate.</p><p>Most of the BSDs share patches and code, even today.
	    All of the BSDs have common ancestry.</p><p>The design goals of FreeBSD are described in <a class="xref" href="#FreeBSD-goals" title="1.2.">Q: 1.2</a>, above.  The design goals of
	    the other most popular BSDs may be summarized as
	    follows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OpenBSD aims for operating system security above
		all else.  The OpenBSD team wrote <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> and
		<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pf&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pf</span>(4)</span></a>, which have both been ported to
		FreeBSD.</p></li><li class="listitem"><p>NetBSD aims to be easily ported to other hardware
		platforms.</p></li><li class="listitem"><p>DragonFly BSD is a fork of FreeBSD 4.8 that
		has since developed many interesting features of its
		own, including the HAMMER file system and support for
		user-mode <span class="quote">&#8220;<span class="quote">vkernels</span>&#8221;</span>.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45170296"></a><a id="latest-version"></a><p><strong>1.7.</strong></p></td><td align="left" valign="top"><p>What is the latest version of FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>At any point in the development of FreeBSD, there can be
	    multiple parallel branches.  12.<em class="replaceable"><code>X</code></em> releases are made
	    from the <span class="emphasis"><em>12-STABLE</em></span> branch, and 11.<em class="replaceable"><code>X</code></em> releases are
	    made from the <span class="emphasis"><em>11-STABLE</em></span> branch.</p><p>Up until the release of 12.0, the 11.<em class="replaceable"><code>X</code></em> series
	    was the one known as <span class="emphasis"><em>-STABLE</em></span>.
	    However, as of 13.<em class="replaceable"><code>X</code></em>, the 11.<em class="replaceable"><code>X</code></em> branch
	    will be designated for an <span class="quote">&#8220;<span class="quote">extended support</span>&#8221;</span>
	    status and receive only fixes for major problems, such as
	    security-related fixes.
	    </p><p>Releases are made <a class="link" href="#release-freq" title="1.10.">every
	      few months</a>.  While many people stay more
	    up-to-date with the FreeBSD sources (see the questions on
	    <a class="link" href="#current" title="1.8.">FreeBSD-CURRENT</a> and <a class="link" href="#stable" title="1.9.">FreeBSD-STABLE</a>) than that, doing so
	    is more of a commitment, as the sources are a moving
	    target.</p><p>More information on FreeBSD releases can be found on the
	    <a class="link" href="https://www.FreeBSD.org/releng/index.html#release-build" target="_top">Release
	      Engineering page</a> and in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=release&amp;sektion=7&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">release</span>(7)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45194104"></a><a id="current"></a><p><strong>1.8.</strong></p></td><td align="left" valign="top"><p>What is <span class="emphasis"><em>FreeBSD-CURRENT</em></span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/current-stable.html#current" target="_top">FreeBSD-CURRENT</a>
	    is the development version of the operating system, which
	    will in due course become the new FreeBSD-STABLE branch.  As
	    such, it is really only of interest to developers working
	    on the system and die-hard hobbyists.  See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/current-stable.html#current" target="_top">relevant
	      section</a> in the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/index.html" target="_top">Handbook</a>
	    for details on running
	    <span class="emphasis"><em>-CURRENT</em></span>.</p><p>Users not familiar with FreeBSD should not use
	    FreeBSD-CURRENT.  This branch sometimes evolves quite quickly
	    and due to mistake can be un-buildable at times.  People
	    that use FreeBSD-CURRENT are expected to be able to analyze,
	    debug, and report problems.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45214200"></a><a id="stable"></a><p><strong>1.9.</strong></p></td><td align="left" valign="top"><p>What is the <span class="emphasis"><em>FreeBSD-STABLE</em></span>
	    concept?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
	    <span class="emphasis"><em>FreeBSD-STABLE</em></span> is the development branch
	    from which major releases are made.  Changes go into this
	    branch at a slower pace and with the general assumption
	    that they have first been tested in FreeBSD-CURRENT.
	    However, at any given time, the sources for FreeBSD-STABLE
	    may or may not be suitable for general use, as it may
	    uncover bugs and corner cases that were not yet found in
	    FreeBSD-CURRENT.  Users who do not have the resources to
	    perform testing should instead run the most recent release
	    of FreeBSD.
	    <span class="emphasis"><em>FreeBSD-CURRENT</em></span>, on the other hand, has
	    been one unbroken line since 2.0 was released.</p><p>For more
	    detailed information on branches see <span class="quote">&#8220;<span class="quote"><a class="link" href="../../../../doc/en_US.ISO8859-1/articles/releng/release-proc.html#rel-branch" target="_top">FreeBSD
	      Release Engineering: Creating the Release
	      Branch</a></span>&#8221;</span>, the status of the branches and
	      the upcoming release schedule can be found on the <a class="link" href="https://www.FreeBSD.org/releng" target="_top">Release
	      Engineering Information</a> page.</p><p>Version <a class="link" href="https://download.FreeBSD.org/ftp/releases/amd64/amd64/12.1-RELEASE/" target="_top">12.1</a>
	    is the latest release from the <span class="emphasis"><em>12-STABLE</em></span> branch; it was
	    released in November 2019.  Version <a class="link" href="https://download.FreeBSD.org/ftp/releases/amd64/amd64/11.3-RELEASE/" target="_top">11.3</a>
	    is the latest release from the <span class="emphasis"><em>11-STABLE</em></span> branch; it
	    was released in July 2019.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45230456"></a><a id="release-freq"></a><p><strong>1.10.</strong></p></td><td align="left" valign="top"><p>When are FreeBSD releases made?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The Release Engineering Team <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code> releases a new major version of FreeBSD about
	    every 18 months and a new minor version about every 8
	    months, on average.  Release dates are announced well in
	    advance, so that the people working on the system know
	    when their projects need to be finished and tested.  A
	    testing period precedes each release, to ensure that the
	    addition of new features does not compromise the stability
	    of the release.  Many users regard this caution as one of
	    the best things about FreeBSD, even though waiting for all
	    the latest goodies to reach <span class="emphasis"><em>-STABLE</em></span>
	    can be a little frustrating.</p><p>More information on the release engineering process
	    (including a schedule of upcoming releases) can be found
	    on the <a class="link" href="https://www.FreeBSD.org/releng/index.html" target="_top">release
	      engineering</a> pages on the FreeBSD Web site.</p><p>For people who need or want a little more excitement,
	    binary snapshots are made weekly as discussed
	    above.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45241208"></a><a id="snapshot-freq"></a><p><strong>1.11.</strong></p></td><td align="left" valign="top"><p>When are FreeBSD snapshots made?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD <a class="link" href="../../../../snapshots/" target="_top">snapshot</a>
	    releases are made based on the current state of the
	    <span class="emphasis"><em>-CURRENT</em></span> and
	    <span class="emphasis"><em>-STABLE</em></span> branches.  The goals behind
	    each snapshot release are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>To test the latest version of the installation
		software.</p></li><li class="listitem"><p>To give people who would like to run
		<span class="emphasis"><em>-CURRENT</em></span> or
		<span class="emphasis"><em>-STABLE</em></span> but who do not have the
		time or bandwidth to follow it on a day-to-day basis
		an easy way of bootstrapping it onto their
		systems.</p></li><li class="listitem"><p>To preserve a fixed reference point for the code
		in question, just in case we break something really
		badly later.  (Although Subversion normally prevents
		anything horrible like this happening.)</p></li><li class="listitem"><p>To ensure that all new features and fixes in need
		of testing have the greatest possible number of
		potential testers.</p></li></ul></div><p>No claims are made that any
	    <span class="emphasis"><em>-CURRENT</em></span> snapshot can be considered
	    <span class="quote">&#8220;<span class="quote">production quality</span>&#8221;</span> for any purpose.
	    If a stable and fully tested system is needed,
	    stick to full releases.</p><p>Snapshot releases are directly available from <a class="link" href="../../../../snapshots/" target="_top">snapshot</a>.</p><p>Official snapshots are generated on a regular
	    basis for all actively developed branches.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45282552"></a><a id="responsible"></a><p><strong>1.12.</strong></p></td><td align="left" valign="top"><p>Who is responsible for FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The key decisions concerning the FreeBSD project, such as
	    the overall direction of the project and who is allowed to
	    add code to the source tree, are made by a <a class="link" href="../../../../administration.html#t-core" target="_top">core
	      team</a> of 9 people.  There is a much larger team of
	    more than 350 <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/contributors/article.html#staff-committers" target="_top">committers</a>
	    who are authorized to make changes directly to the FreeBSD
	    source tree.</p><p>However, most non-trivial changes are discussed in
	    advance in the <a class="link" href="#mailing" title="2.3.">mailing
	      lists</a>, and there are no restrictions on who may
	    take part in the discussion.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45294840"></a><a id="where-get"></a><p><strong>1.13.</strong></p></td><td align="left" valign="top"><p>Where can I get FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Every significant release of FreeBSD is available via
	    anonymous FTP from the <a class="link" href="https://download.FreeBSD.org/ftp/releases/" target="_top">FreeBSD
	      FTP site</a>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The latest <span class="emphasis"><em>12-STABLE</em></span> release,
		12.1-RELEASE can be found in the <a class="link" href="https://download.FreeBSD.org/ftp/releases/amd64/amd64/12.1-RELEASE/" target="_top">12.1-RELEASE
		  directory</a>.</p></li><li class="listitem"><p><a class="link" href="../../../../snapshots/" target="_top">Snapshot</a>
		releases are made monthly for the <a class="link" href="#current" title="1.8.">-CURRENT</a> and <a class="link" href="#stable" title="1.9.">-STABLE</a> branch, these being
		of service purely to bleeding-edge testers and
		developers.</p></li><li class="listitem"><p>The latest <span class="emphasis"><em>11-STABLE</em></span> release,
		11.3-RELEASE can be found in the <a class="link" href="https://download.FreeBSD.org/ftp/releases/amd64/amd64/11.3-RELEASE/" target="_top">11.3-RELEASE
		  directory</a>.</p></li></ul></div><p>Information about obtaining FreeBSD on CD, DVD, and other
	    media can be found in <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/mirrors.html" target="_top">the
	      Handbook</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45333368"></a><a id="access-pr"></a><p><strong>1.14.</strong></p></td><td align="left" valign="top"><p>How do I access the Problem Report database?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The Problem Report database of all user change
	    requests may be queried by using our web-based PR <a class="link" href="https://bugs.FreeBSD.org/search/" target="_top">query</a>
	    interface.</p><p>The <a class="link" href="../../../../support/bugreports.html" target="_top">web-based
	      problem report submission interface</a> can be used
	    to submit problem reports through a web browser.</p><p>Before submitting a problem report, read <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/problem-reports/article.html" target="_top">Writing
	      FreeBSD Problem Reports</a>, an article on how to write
	    good problem reports.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="support"></a>Chapter 2. Documentation and Support</h1></div></div></div><div class="qandaset"><a id="idp45346040"></a><dl><dt>2.1. <a href="#idp45346552">What good books are there about FreeBSD?</a></dt><dt>2.2. <a href="#idp45353720">Is the documentation available in other formats, such
	    as plain text (ASCII), or PDF?</a></dt><dt>2.3. <a href="#idp45555704">Where do I find info on the FreeBSD mailing lists?  What
	    FreeBSD news groups are available?</a></dt><dt>2.4. <a href="#idp45575800">Are there FreeBSD IRC (Internet Relay Chat)
	    channels?</a></dt><dt>2.5. <a href="#idp45624952">Are there any web based forums to discuss FreeBSD?</a></dt><dt>2.6. <a href="#idp45632504">Where can I get commercial FreeBSD training and
	    support?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp45346552"></a><a id="books"></a><p><strong>2.1.</strong></p></td><td align="left" valign="top"><p>What good books are there about FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The project produces a wide range of documentation,
	    available online from this link: <code class="uri"><a class="uri" href="https://www.FreeBSD.org/docs.html" target="_top">https://www.FreeBSD.org/docs.html</a></code>.

	  </p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45353720"></a><a id="doc-formats"></a><p><strong>2.2.</strong></p></td><td align="left" valign="top"><p>Is the documentation available in other formats, such
	    as plain text (ASCII), or PDF?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  The documentation is available in a number of
	    different formats and compression schemes on the FreeBSD FTP
	    site, in the <a class="link" href="https://download.freebsd.org/ftp/doc/" target="_top">/ftp/doc/</a>
	    directory.</p><p>The documentation is categorized in a number of
	    different ways.  These include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The document's name, such as
		<code class="literal">faq</code>, or
		<code class="literal">handbook</code>.</p></li><li class="listitem"><p>The document's language and encoding.  These are
		based on the locale names found under
		<code class="filename">/usr/share/locale</code> on a FreeBSD
		system.  The current languages and encodings
		are as follows:</p><div class="informaltable"><table class="informaltable" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Meaning</th></tr></thead><tbody><tr><td><code class="literal">en_US.ISO8859-1</code></td><td>English (United States)</td></tr><tr><td><code class="literal">bn_BD.ISO10646-1</code></td><td>Bengali or Bangla (Bangladesh)</td></tr><tr><td><code class="literal">da_DK.ISO8859-1</code></td><td>Danish (Denmark)</td></tr><tr><td><code class="literal">de_DE.ISO8859-1</code></td><td>German (Germany)</td></tr><tr><td><code class="literal">el_GR.ISO8859-7</code></td><td>Greek (Greece)</td></tr><tr><td><code class="literal">es_ES.ISO8859-1</code></td><td>Spanish (Spain)</td></tr><tr><td><code class="literal">fr_FR.ISO8859-1</code></td><td>French (France)</td></tr><tr><td><code class="literal">hu_HU.ISO8859-2</code></td><td>Hungarian (Hungary)</td></tr><tr><td><code class="literal">it_IT.ISO8859-15</code></td><td>Italian (Italy)</td></tr><tr><td><code class="literal">ja_JP.eucJP</code></td><td>Japanese (Japan, EUC encoding)</td></tr><tr><td><code class="literal">ko_KR.UTF-8</code></td><td>Korean (Korea, UTF-8 encoding)</td></tr><tr><td><code class="literal">mn_MN.UTF-8</code></td><td>Mongolian (Mongolia, UTF-8
			encoding)</td></tr><tr><td><code class="literal">nl_NL.ISO8859-1</code></td><td>Dutch (Netherlands)</td></tr><tr><td><code class="literal">pl_PL.ISO8859-2</code></td><td>Polish (Poland)</td></tr><tr><td><code class="literal">pt_BR.ISO8859-1</code></td><td>Portuguese (Brazil)</td></tr><tr><td><code class="literal">ru_RU.KOI8-R</code></td><td>Russian (Russia, KOI8-R encoding)</td></tr><tr><td><code class="literal">tr_TR.ISO8859-9</code></td><td>Turkish (Turkey)</td></tr><tr><td><code class="literal">zh_CN.UTF-8</code></td><td>Simplified Chinese (China, UTF-8
			encoding)</td></tr><tr><td><code class="literal">zh_TW.UTF-8</code></td><td>Traditional Chinese (Taiwan, UTF-8
			encoding)</td></tr></tbody></table></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Some documents may not be available in all
		  languages.</p></div></li><li class="listitem"><p>The document's format.  We produce the
		documentation in a number of different output formats.
		Each format has its own advantages and disadvantages.
		Some formats are better suited for online reading,
		while others are meant to be aesthetically pleasing
		when printed on paper.  Having the documentation
		available in any of these formats ensures that our
		readers will be able to read the parts they are
		interested in, either on their monitor, or on paper
		after printing the documents.  The currently available
		formats are:</p><div class="informaltable"><table class="informaltable" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Format</th><th>Meaning</th></tr></thead><tbody><tr><td><code class="literal">html-split</code></td><td>A collection of small, linked, HTML
			files.</td></tr><tr><td><code class="literal">html</code></td><td>One large HTML file containing the entire
			document</td></tr><tr><td><code class="literal">pdf</code></td><td>Adobe's Portable Document Format</td></tr><tr><td><code class="literal">txt</code></td><td>Plain text</td></tr></tbody></table></div></li><li class="listitem"><p>The compression and packaging scheme.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Where the format is
		    <code class="literal">html-split</code>, the files are
		    bundled up using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a>.  The resulting
		    <code class="filename">.tar</code> is then compressed
		    using the compression schemes detailed in the next
		    point.</p></li><li class="listitem"><p>All the other formats generate one file.  For
		    example,
		    <code class="filename">article.pdf</code>,
		    <code class="filename">book.html</code>, and so on.</p><p>These files are then compressed using either
		    the <code class="literal">zip</code> or
		    <code class="literal">bz2</code> compression schemes.
		    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tar&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tar</span>(1)</span></a> can be used to uncompress these
		    files.</p><p>So the PDF version of the Handbook,
		    compressed using <code class="literal">bzip2</code> will be
		    stored in a file called
		    <code class="filename">book.pdf.bz2</code> in the
		    <code class="filename">handbook/</code> directory.</p></li></ol></div></li></ul></div><p>After choosing the format and compression mechanism,
	    download the
	    compressed files, uncompress them, and then copy
	    the appropriate documents into place.</p><p>For example, the split HTML version of the
	    <acronym class="acronym">FAQ</acronym>, compressed using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=bzip2&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">bzip2</span>(1)</span></a>,
	    can be found in
	    <code class="filename">doc/en_US.ISO8859-1/books/faq/book.html-split.tar.bz2</code>
	    To download and uncompress that file, type:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>fetch https://download.freebsd.org/ftp/doc/en_US.ISO8859-1/books/faq/book.html-split.tar.bz2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>tar xvf book.html-split.tar.bz2</code></strong></pre><p>If the file is compressed,
	    <span class="application">tar</span> will automatically
	    detect the appropriate format and decompress it correctly,
	    resulting in a collection of
	    <code class="filename">.html</code> files.  The main one is called
	    <code class="filename">index.html</code>, which will contain the
	    table of contents, introductory material, and links to the
	    other parts of the document.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45555704"></a><a id="mailing"></a><p><strong>2.3.</strong></p></td><td align="left" valign="top"><p>Where do I find info on the FreeBSD mailing lists?  What
	    FreeBSD news groups are available?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/eresources.html#eresources-mail" target="_top">Handbook
	      entry on mailing-lists</a> and the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/eresources-news.html" target="_top">Handbook
	      entry on newsgroups</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45575800"></a><a id="irc"></a><p><strong>2.4.</strong></p></td><td align="left" valign="top"><p>Are there FreeBSD IRC (Internet Relay Chat)
	    channels?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, most major IRC networks host a FreeBSD chat
	    channel:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Channel <code class="literal">#FreeBSDhelp</code> on <a class="link" href="http://www.efnet.org/index.php" target="_top">EFNet</a>
		is a channel dedicated to helping FreeBSD users.</p></li><li class="listitem"><p>Channel <code class="literal">#FreeBSD</code> on <a class="link" href="http://freenode.net/" target="_top">Freenode</a> is
		a general help channel with many users at any time.
		The conversations have been known to run off-topic for
		a while, but priority is given to users with FreeBSD
		questions.  Other users can help with
		the basics, referring to the Handbook whenever
		possible and providing links for learning more about
		a particular topic.  This is primarily an English
		speaking channel, though it does have users from all
		over the world.  Non-native English speakers should
		try to ask the question in English first and then
		relocate to <code class="literal">##freebsd-lang</code> as
		appropriate.</p></li><li class="listitem"><p>Channel <code class="literal">#FreeBSD</code> on <a class="link" href="http://www.dal.net/" target="_top">DALNET</a> is
		available at <code class="systemitem">irc.dal.net</code> in
		the US and <code class="systemitem">irc.eu.dal.net</code> in
		Europe.</p></li><li class="listitem"><p>Channel <code class="literal">#FreeBSD</code> on <a class="link" href="http://www.undernet.org/" target="_top">UNDERNET</a>
		is available at
		<code class="systemitem">us.undernet.org</code> in the US and
		<code class="systemitem">eu.undernet.org</code> in Europe.
		Since it is a help channel, be prepared to read the
		documents you are referred to.</p></li><li class="listitem"><p>Channel <code class="literal">#FreeBSD</code> on <a class="link" href="http://www.rusnet.org.ru/" target="_top">RUSNET</a>
		is a Russian language channel dedicated to
		helping FreeBSD users.  This is also a good place for
		non-technical discussions.</p></li><li class="listitem"><p>Channel <code class="literal">#bsdchat</code> on <a class="link" href="http://freenode.net/" target="_top">Freenode</a> is
		a Traditional Chinese (UTF-8 encoding) language
		channel dedicated to helping FreeBSD users.
		This is also a good place for non-technical
		discussions.</p></li></ul></div><p>The FreeBSD wiki has a <a class="link" href="https://wiki.freebsd.org/IRC/Channels" target="_top">good
	      list</a> of IRC channels.</p><p>Each of these channels are distinct and are not
	    connected to each other.  Since their chat styles differ,
	    try each to find one suited to your
	    chat style.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45624952"></a><a id="forums"></a><p><strong>2.5.</strong></p></td><td align="left" valign="top"><p>Are there any web based forums to discuss FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The official FreeBSD forums are located at <a class="link" href="https://forums.FreeBSD.org/" target="_top">https://forums.FreeBSD.org/</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45632504"></a><a id="training"></a><p><strong>2.6.</strong></p></td><td align="left" valign="top"><p>Where can I get commercial FreeBSD training and
	    support?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><a class="link" href="http://www.ixsystems.com" target="_top">iXsystems,
	      Inc.</a>, parent company of the <a class="link" href="http://www.freebsdmall.com/" target="_top">FreeBSD
	      Mall</a>, provides commercial FreeBSD and TrueOS
	    software <a class="link" href="http://www.ixsystems.com/support" target="_top">support</a>,
	    in addition to FreeBSD development and tuning
	    solutions.</p><p>BSD Certification Group, Inc. provides system
	    administration certifications for DragonFly BSD,
	    FreeBSD, NetBSD, and OpenBSD.  Refer to <a class="link" href="http://www.BSDCertification.org" target="_top">their
	      site</a> for more information.</p><p>Any other organizations providing training and support
	    should contact the Project to be listed here.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install"></a>Chapter 3. Installation</h1></div><div><span xmlns="http://www.w3.org/1999/xhtml" class="personname"><span class="firstname">Nik</span> <span class="surname">Clayton</span></span><span xmlns="http://www.w3.org/1999/xhtml" class="affiliation"></span></div></div></div><div class="qandaset"><a id="idp45659384"></a><dl><dt>3.1. <a href="#idp45659896">Which platform should I download? I have a 64
	    bit capable Intel® CPU,
	    but I only see amd64.</a></dt><dt>3.2. <a href="#idp45666040">Which file do I download to get FreeBSD?</a></dt><dt>3.3. <a href="#idp45722104">What do I do if the install image does not
	    boot?</a></dt><dt>3.4. <a href="#idp45735160">Where are the instructions for installing FreeBSD?</a></dt><dt>3.5. <a href="#idp45740536">How can I make my own custom release or install
	    disk?</a></dt><dt>3.6. <a href="#idp45746680">Can Windows® co-exist with FreeBSD? (x86-specific)</a></dt><dt>3.7. <a href="#idp45768824">Another operating system destroyed my Boot Manager.
	    How do I get it back? (x86-specific)</a></dt><dt>3.8. <a href="#idp45793144">Do I need to install the source?</a></dt><dt>3.9. <a href="#idp45813112">Do I need to build a kernel?</a></dt><dt>3.10. <a href="#idp45822456">Should I use DES, Blowfish, or MD5 passwords and how
	    do I specify which form my users receive?</a></dt><dt>3.11. <a href="#idp45833976">What are the limits for FFS file systems?</a></dt><dt>3.12. <a href="#idp45861752">Why do I get an error message, readin
	      failed after compiling and booting a new
	    kernel?</a></dt><dt>3.13. <a href="#idp45876472">Is there a tool to perform post-installation
	    configuration tasks?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp45659896"></a><a id="which-architecture"></a><p><strong>3.1.</strong></p></td><td align="left" valign="top"><p>Which platform should I download? I have a 64
	    bit capable <span class="trademark">Intel</span>® CPU,
	    but I only see <code class="literal">amd64</code>.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>amd64 is the term FreeBSD uses for 64-bit
	    compatible x86 architectures (also known as "x86-64" or
	    "x64").  Most modern computers should use amd64.
	    Older hardware should use i386.  When installing
	    on a non-x86-compatible architecture, select the
	    platform which best matches the hardware.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45666040"></a><a id="floppy-download"></a><p><strong>3.2.</strong></p></td><td align="left" valign="top"><p>Which file do I download to get FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>On the <a class="link" href="https://www.freebsd.org/where.html" target="_top">Getting
	      FreeBSD</a> page, select <code class="literal">[iso]</code> next
	    to the architecture that matches the hardware.</p><p>Any of the following can be used:</p><div class="informaltable"><table class="informaltable" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>file</th><th>description</th></tr></thead><tbody><tr><td><code class="filename">disc1.iso</code></td><td>Contains enough to install FreeBSD and
		    a minimal set of packages.</td></tr><tr><td><code class="filename">dvd1.iso</code></td><td>Similar to <code class="filename">disc1.iso</code>
		    but with additional packages.</td></tr><tr><td><code class="filename">memstick.img</code></td><td>A bootable image sufficient for writing to a
		    USB stick.</td></tr><tr><td><code class="filename">bootonly.iso</code></td><td>A minimal image that requires network access
		    during installation to completely install
		    FreeBSD.</td></tr></tbody></table></div><p>Full instructions on this procedure and a little bit
	    more about installation issues in general can be found in
	    the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/bsdinstall.html" target="_top">Handbook
	      entry on installing FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45722104"></a><a id="floppy-image-too-large"></a><p><strong>3.3.</strong></p></td><td align="left" valign="top"><p>What do I do if the install image does not
	    boot?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This can be caused by not downloading the image in
	    <span class="emphasis"><em>binary</em></span> mode when using
	    <acronym class="acronym">FTP</acronym>.</p><p>Some FTP clients default their transfer mode to
	    <span class="emphasis"><em>ascii</em></span> and attempt to change any
	    end-of-line characters received to match the
	    conventions used by the client's system.  This will
	    almost invariably corrupt the boot image.  Check the
	    SHA-256 checksum of the downloaded boot image: if it
	    is not <span class="emphasis"><em>exactly</em></span> that on the
	    server, then the download process is suspect.</p><p>When using a command line FTP client, type
	    <span class="emphasis"><em>binary</em></span> at the FTP command prompt
	    after getting connected to the server and before
	    starting the download of the image.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45735160"></a><a id="install-instructions-location"></a><p><strong>3.4.</strong></p></td><td align="left" valign="top"><p>Where are the instructions for installing FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Installation instructions
	    can be found at <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/bsdinstall.html" target="_top">Handbook
	      entry on installing FreeBSD</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45740536"></a><a id="custom-boot-floppy"></a><p><strong>3.5.</strong></p></td><td align="left" valign="top"><p>How can I make my own custom release or install
	    disk?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Customized FreeBSD installation media can be created by
	    building a custom release.  Follow the instructions in the
	    <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/releng/article.html" target="_top">Release
	      Engineering</a> article.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45746680"></a><a id="windows-coexist"></a><p><strong>3.6.</strong></p></td><td align="left" valign="top"><p>Can <span class="trademark">Windows</span>® co-exist with FreeBSD? (x86-specific)</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If <span class="trademark">Windows</span>® is installed first, then yes.  FreeBSD's
	    boot manager will then manage to boot <span class="trademark">Windows</span>® and FreeBSD.
	    If <span class="trademark">Windows</span>® is installed afterwards, it will
	    overwrite the boot manager.  If that
	    happens, see the next section.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45768824"></a><a id="bootmanager-restore"></a><p><strong>3.7.</strong></p></td><td align="left" valign="top"><p>Another operating system destroyed my Boot Manager.
	    How do I get it back? (x86-specific)</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This depends upon the boot manager.
	    The FreeBSD boot selection menu can be reinstalled using
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a>.  For example, to restore the boot menu
	    onto the disk <em class="replaceable"><code>ada0</code></em>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>boot0cfg -B ada0</code></strong></pre><p>The non-interactive MBR bootloader can be installed
	    using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gpart bootcode -b /boot/mbr ada0</code></strong></pre><p>For more complex situations, including GPT disks, see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45793144"></a><a id="need-complete-sources"></a><p><strong>3.8.</strong></p></td><td align="left" valign="top"><p>Do I need to install the source?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>In general, no.  There is nothing in the base system
	    which requires the presence of the source to operate.
	    Some ports, like <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/sysutils/lsof/pkg-descr">sysutils/lsof</a>, will
	    not build unless the source is installed.  In particular,
	    if the port builds a kernel module or directly operates on
	    kernel structures, the source must be installed.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45813112"></a><a id="need-kernel"></a><p><strong>3.9.</strong></p></td><td align="left" valign="top"><p>Do I need to build a kernel?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Usually not.  The supplied <code class="literal">GENERIC</code>
	    kernel contains the drivers an ordinary computer will
	    need.  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">freebsd-update</span>(8)</span></a>, the FreeBSD binary upgrade
	    tool, cannot upgrade custom kernels, another reason to
	    stick with the <code class="literal">GENERIC</code> kernel when
	    possible.  For computers with very limited RAM, such as
	    embedded systems, it may be worthwhile to build a smaller
	    custom kernel containing just the required drivers.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45822456"></a><a id="password-encryption"></a><p><strong>3.10.</strong></p></td><td align="left" valign="top"><p>Should I use DES, Blowfish, or MD5 passwords and how
	    do I specify which form my users receive?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD uses
	    <span class="emphasis"><em>SHA512</em></span> by
	    default.  DES
	    passwords are still available for backwards compatibility
	    with operating systems that still
	    use the less secure password format.  FreeBSD also supports
	    the Blowfish and MD5 password formats.  Which
	    password format to use for new passwords is controlled by
	    the <code class="literal">passwd_format</code> login capability in
	    <code class="filename">/etc/login.conf</code>, which takes values
	    of <code class="literal">des</code>, <code class="literal">blf</code> (if
	    these are available) or <code class="literal">md5</code>.  See the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">login.conf</span>(5)</span></a> manual page for more information about
	    login capabilities.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45833976"></a><a id="ffs-limits"></a><p><strong>3.11.</strong></p></td><td align="left" valign="top"><p>What are the limits for FFS file systems?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>For FFS file systems, the largest file system is
	    practically limited by the amount of memory required to
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> the file system.  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> requires one
	    bit per fragment, which with the default fragment size of
	    4 KB equates to 32 MB of memory per TB of disk.
	    This does mean that on architectures which limit userland
	    processes to 2 GB (e.g., <span class="trademark">i386</span>&#8482;), the maximum
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>'able filesystem is ~60 TB.</p><p>If there was not a <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a> memory limit the
	    maximum filesystem size would be 2 ^ 64 (blocks)
	    * 32 KB =&gt; 16 Exa * 32 KB =&gt; 512
	    ZettaBytes.</p><p>The maximum size of a single FFS file is approximately
	    2 PB with the default block size of 32 KB.  Each
	    32 KB block can point to 4096 blocks.  With triple
	    indirect blocks, the calculation is 32 KB * 12 +
	    32 KB * 4096 + 32 KB * 4096^2 + 32 KB *
	    4096^3.  Increasing the block size to 64 KB will
	    increase the max file size by a factor of 16.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45861752"></a><a id="archsw-readin-failed-error"></a><p><strong>3.12.</strong></p></td><td align="left" valign="top"><p>Why do I get an error message, <span class="errorname">readin
	      failed</span> after compiling and booting a new
	    kernel?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The world and kernel are out of sync.  This
	    is not supported.  Be sure to use <code class="command">make
	      buildworld</code> and <code class="command">make
	      buildkernel</code> to update the kernel.</p><p>Boot the system by specifying the kernel directly at
	    the second stage, pressing any key when the
	    <code class="literal">|</code> shows up before loader is
	    started.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45876472"></a><a id="general-configuration-tool"></a><p><strong>3.13.</strong></p></td><td align="left" valign="top"><p>Is there a tool to perform post-installation
	    configuration tasks?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  <span class="application">bsdconfig</span> provides a
	    nice interface to configure FreeBSD post-installation.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="hardware"></a>Chapter 4. Hardware Compatibility</h1></div></div></div><div class="toc"><div class="toc-title">Table of Contents</div><dl class="toc"><dt><span class="sect1"><a href="#compatibility-general">4.1. General</a></span></dt><dt><span class="sect1"><a href="#compatibility-processors">4.2. Architectures and Processors</a></span></dt><dt><span class="sect1"><a href="#compatibility-peripherals">4.3. Peripherals</a></span></dt><dt><span class="sect1"><a href="#compatibility-kbd-mice">4.4. Keyboards and Mice</a></span></dt><dt><span class="sect1"><a href="#compatibility-other">4.5. Other Hardware</a></span></dt></dl></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-general"></a>4.1. General</h2></div></div></div><div class="qandaset"><a id="idp45889912"></a><dl><dt>4.1.1. <a href="#idp45890936">I want to get a piece of hardware for my FreeBSD
	      system.  Which model/brand/type is best?</a></dt><dt>4.1.2. <a href="#idp45901176">What are the limits for memory?</a></dt><dt>4.1.3. <a href="#idp45908600">Why does FreeBSD report less than 4 GB memory when
	      installed on an i386&#8482; machine?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp45890936"></a><a id="which-hardware-to-get"></a><p><strong>4.1.1.</strong></p></td><td align="left" valign="top"><p>I want to get a piece of hardware for my FreeBSD
	      system.  Which model/brand/type is best?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is discussed continually on the FreeBSD mailing
	      lists but is to be expected since hardware changes so
	      quickly.  Read through the Hardware Notes
	      for FreeBSD <a class="link" href="https://www.FreeBSD.org/releases/12.1R/hardware.html" target="_top">12.1</a>
	      or <a class="link" href="https://www.FreeBSD.org/releases/11.3R/hardware.html" target="_top">11.3</a>
	      and search the mailing list <a class="link" href="https://www.FreeBSD.org/search/#mailinglists" target="_top">archives</a>
	      before asking about the latest and greatest hardware.
	      Chances are a discussion about that type of hardware
	      took place just last week.</p><p>Before purchasing a laptop, check the archives for
	      <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">FreeBSD general questions mailing list</a>, or possibly a specific
	      mailing list for a particular hardware type.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45901176"></a><a id="memory-upper-limitation"></a><p><strong>4.1.2.</strong></p></td><td align="left" valign="top"><p>What are the limits for memory?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD as an operating system generally supports
	      as much physical memory (RAM) as the platform it is
	      running on does.  Keep in mind that different platforms
	      have different limits for memory; for example <span class="trademark">i386</span>&#8482;
	      without <acronym class="acronym">PAE</acronym> supports at most
	      4 GB of memory (and usually less than that because
	      of PCI address space) and <span class="trademark">i386</span>&#8482; with PAE supports at
	      most 64 GB memory.  As of FreeBSD 10, AMD64
	      platforms support up to 4 TB of physical
	      memory.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45908600"></a><a id="memory-i386-over-4gb"></a><p><strong>4.1.3.</strong></p></td><td align="left" valign="top"><p>Why does FreeBSD report less than 4 GB memory when
	      installed on an <span class="trademark">i386</span>&#8482; machine?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The total address space on <span class="trademark">i386</span>&#8482; machines is
	      32-bit, meaning that at most 4 GB of memory is
	      addressable (can be accessed).  Furthermore, some
	      addresses in this range are reserved by hardware for
	      different purposes, for example for using and
	      controlling PCI devices, for accessing video memory, and
	      so on.  Therefore, the total amount of memory usable by
	      the operating system for its kernel and applications is
	      limited to significantly less than 4 GB.  Usually,
	      3.2 GB to 3.7 GB is the maximum usable
	      physical memory in this configuration.</p><p>To access more than 3.2 GB to 3.7 GB of
	      installed memory (meaning up to 4 GB but also more
	      than 4 GB), a special tweak called
	      <acronym class="acronym">PAE</acronym> must be used.  PAE stands for
	      Physical Address Extension and is a way for 32-bit x86
	      CPUs to address more than 4 GB of memory.  It
	      remaps the memory that would otherwise be overlaid by
	      address reservations for hardware devices above the
	      4 GB range and uses it as additional physical
	      memory (see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pae&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pae</span>(4)</span></a>).  Using PAE has some drawbacks;
	      this mode of memory access is a little bit slower than
	      the normal (without PAE) mode and loadable modules (see
	      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=kld&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">kld</span>(4)</span></a>) are not supported.  This means all drivers
	      must be compiled into the kernel.</p><p>The most common way to enable PAE is to build a new
	      kernel with the special ready-provided kernel
	      configuration file called <code class="filename">PAE</code>,
	      which is already configured to build a safe kernel.
	      Note that some entries in this kernel configuration file
	      are too conservative and some drivers marked as unready
	      to be used with PAE are actually usable.  A rule of
	      thumb is that if the driver is usable on 64-bit
	      architectures (like AMD64), it is also usable with PAE.
	      When creating a custom kernel configuration
	      file, PAE can be enabled by adding the following
	      line:</p><pre class="programlisting">options       PAE</pre><p>PAE is not much used nowadays because most new x86
	      hardware also supports running in 64-bit mode, known as
	      AMD64 or <span class="trademark">Intel</span>® 64.  It has a much larger address
	      space and does not need such tweaks.  FreeBSD supports
	      AMD64 and it is recommended that this version of FreeBSD be
	      used instead of the <span class="trademark">i386</span>&#8482; version if 4 GB or more
	      memory is required.</p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-processors"></a>4.2. Architectures and Processors</h2></div></div></div><div class="qandaset"><a id="idp45935224"></a><dl><dt>4.2.1. <a href="#idp45948536">Does FreeBSD support architectures other than the
	      x86?</a></dt><dt>4.2.2. <a href="#idp45958776">Does FreeBSD support Symmetric Multiprocessing
	      (SMP)?</a></dt><dt>4.2.3. <a href="#idp45966584">What is microcode?
	      How do I install Intel® CPU microcode updates?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp45948536"></a><a id="architectures"></a><p><strong>4.2.1.</strong></p></td><td align="left" valign="top"><p>Does FreeBSD support architectures other than the
	      x86?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  FreeBSD divides support into multiple tiers.
	      Tier 1 architectures, such as i386 or amd64; are fully
	      supported.  Tiers 2 and 3 are supported on a
	      best-effort basis.  A full explanation of the tier
	      system is available in the <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/committers-guide/archs.html" target="_top">Committer's
		Guide.</a></p><p>A complete  list of supported architectures can be
	      found on the <a class="link" href="https://www.FreeBSD.org/platforms/" target="_top">platforms
		page.</a></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45958776"></a><a id="smp-support"></a><p><strong>4.2.2.</strong></p></td><td align="left" valign="top"><p>Does FreeBSD support Symmetric Multiprocessing
	      (SMP)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD supports symmetric multi-processor (SMP) on all
	      non-embedded platforms (e.g, i386, amd64,
	      etc.).  SMP is also supported in arm and MIPS kernels,
	      although some CPUs may not support this.  FreeBSD's SMP
	      implementation uses fine-grained locking, and
	      performance scales nearly linearly with number of
	      CPUs.</p><p><a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=smp&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">smp</span>(4)</span></a> has more details.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp45966584"></a><a id="microcode"></a><p><strong>4.2.3.</strong></p></td><td align="left" valign="top"><p>What is microcode?
	      How do I install <span class="trademark">Intel</span>® CPU microcode updates?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Microcode is a method of programmatically
	      implementing hardware level instructions.  This allows
	      for CPU bugs to be fixed without replacing the on board
	      chip.</p><p>Install <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/sysutils/devcpu-data/pkg-descr">sysutils/devcpu-data</a>,
	      then add:</p><pre class="programlisting">microcode_update_enable="YES"</pre><p>to <code class="filename">/etc/rc.conf</code></p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-peripherals"></a>4.3. Peripherals</h2></div></div></div><div class="qandaset"><a id="idp46002680"></a><dl><dt>4.3.1. <a href="#idp46003320">What kind of peripherals does FreeBSD support?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp46003320"></a><a id="supported-peripherals"></a><p><strong>4.3.1.</strong></p></td><td align="left" valign="top"><p>What kind of peripherals does FreeBSD support?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the complete list in the Hardware Notes for FreeBSD
	      <a class="link" href="https://www.FreeBSD.org/releases/12.1R/hardware.html" target="_top">12.1</a>
	      or <a class="link" href="https://www.FreeBSD.org/releases/11.3R/hardware.html" target="_top">11.3</a>.</p></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-kbd-mice"></a>4.4. Keyboards and Mice</h2></div></div></div><div class="qandaset"><a id="idp46013432"></a><dl><dt>4.4.1. <a href="#idp46014456">Is it possible to use a mouse outside the
	      X Window system?</a></dt><dt>4.4.2. <a href="#idp46056056">How do I cut and paste text with a mouse in the text
	      console?</a></dt><dt>4.4.3. <a href="#idp46065912">My mouse has a fancy wheel and buttons.  Can I use
	      them in FreeBSD?</a></dt><dt>4.4.4. <a href="#idp46078328">How do I use my delete key in sh
	      and csh?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp46014456"></a><a id="moused"></a><p><strong>4.4.1.</strong></p></td><td align="left" valign="top"><p>Is it possible to use a mouse outside the
	      X Window system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The default console driver,
	      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vt</span>(4)</span></a>, provides the ability to use a mouse
	      pointer in text consoles to cut &amp; paste text.  Run
	      the mouse daemon, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>, and turn on the mouse
	      pointer in the virtual console:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>moused -p /dev/xxxx -t yyyy</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vidcontrol -m on</code></strong></pre><p>Where <em class="replaceable"><code>xxxx</code></em> is the mouse
	      device name and <em class="replaceable"><code>yyyy</code></em> is a
	      protocol type for the mouse.  The mouse daemon can
	      automatically determine the protocol type of most mice,
	      except old serial mice.  Specify the
	      <code class="literal">auto</code> protocol to invoke automatic
	      detection.  If automatic detection does not work, see
	      the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> manual page for a list of supported
	      protocol types.</p><p>For a PS/2 mouse, add
	      <code class="literal">moused_enable="YES"</code> to
	      <code class="filename">/etc/rc.conf</code> to start the mouse
	      daemon at boot time.  Additionally, to
	      use the mouse daemon on all virtual terminals instead of
	      just the console, add <code class="literal">allscreens_flags="-m
		on"</code> to
	      <code class="filename">/etc/rc.conf</code>.</p><p>When the mouse daemon is running, access to the
	      mouse must be coordinated between the mouse daemon and
	      other programs such as X Windows.  Refer to the
	      <acronym class="acronym">FAQ</acronym>
	      <a class="link" href="#x-and-moused" title="11.4.">Why does my mouse not work
		with X?</a> for more details on this issue.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46056056"></a><a id="text-mode-cut-paste"></a><p><strong>4.4.2.</strong></p></td><td align="left" valign="top"><p>How do I cut and paste text with a mouse in the text
	      console?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>It is not possible to remove data using the mouse.
	      However, it is possible to copy and paste.  Once the
	      mouse daemon is running as described in the <a class="link" href="#moused" title="4.4.1.">previous question</a>, hold down
	      button 1 (left button) and move the mouse to select a
	      region of text.  Then, press button 2 (middle button) to
	      paste it at the text cursor.  Pressing button 3 (right
	      button) will <span class="quote">&#8220;<span class="quote">extend</span>&#8221;</span> the selected region
	      of text.</p><p>If the mouse does not have a middle button, it is
	      possible to emulate one or remap buttons using mouse
	      daemon options.  See the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a> manual page for
	      details.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46065912"></a><a id="mouse-wheel-buttons"></a><p><strong>4.4.3.</strong></p></td><td align="left" valign="top"><p>My mouse has a fancy wheel and buttons.  Can I use
	      them in FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The answer is, unfortunately, <span class="quote">&#8220;<span class="quote">It
		depends</span>&#8221;</span>.  These mice with additional features
	      require specialized driver in most cases.  Unless the
	      mouse device driver or the user program has specific
	      support for the mouse, it will act just like a standard
	      two, or three button mouse.</p><p>For the possible usage of wheels in the X Window
	      environment, refer to <a class="link" href="#x-and-wheel" title="11.5.">that section</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46078328"></a><a id="keyboard-delete-key"></a><p><strong>4.4.4.</strong></p></td><td align="left" valign="top"><p>How do I use my delete key in <code class="command">sh</code>
	      and <code class="command">csh</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>For the <span class="application">Bourne Shell</span>, add
	      the following lines to <code class="filename">~/.shrc</code>.
	      See <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=editrc&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">editrc</span>(5)</span></a>.</p><pre class="programlisting">bind ^[[3~ ed-delete-next-char # for xterm</pre><p>For the <span class="application">C Shell</span>, add the
	      following lines to <code class="filename">~/.cshrc</code>.
	      See <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=csh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">csh</span>(1)</span></a>.</p><pre class="programlisting">bindkey ^[[3~ delete-char # for xterm</pre></td></tr></tbody></table></div></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="compatibility-other"></a>4.5. Other Hardware</h2></div></div></div><div class="qandaset"><a id="idp46104056"></a><dl><dt>4.5.1. <a href="#idp46105080">Workarounds for no sound from my pcm(4) sound
	      card?</a></dt><dt>4.5.2. <a href="#idp46113656">Does FreeBSD support power management on my
	      laptop?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp46105080"></a><a id="es1370-silent-pcm"></a><p><strong>4.5.1.</strong></p></td><td align="left" valign="top"><p>Workarounds for no sound from my <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pcm&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pcm</span>(4)</span></a> sound
	      card?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Some sound cards set their output volume to 0 at
	      every boot.  Run the following command every time the
	      machine boots:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mixer pcm 100 vol 100 cd 100</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46113656"></a><a id="power-management-support"></a><p><strong>4.5.2.</strong></p></td><td align="left" valign="top"><p>Does FreeBSD support power management on my
	      laptop?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD supports the <acronym class="acronym">ACPI</acronym> features
	      found in modern hardware.  Further information can be
	      found in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=acpi&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">acpi</span>(4)</span></a>.</p></td></tr></tbody></table></div></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="troubleshoot"></a>Chapter 5. Troubleshooting</h1></div></div></div><div class="qandaset"><a id="idp46123512"></a><dl><dt>5.1. <a href="#idp46136568">Why is FreeBSD finding the wrong amount of memory on
	    i386&#8482; hardware?</a></dt><dt>5.2. <a href="#idp46150904">Why do my programs occasionally die with
	    Signal 11 errors?</a></dt><dt>5.3. <a href="#idp46214392">My system crashes with either Fatal trap
	      12: page fault in kernel mode, or
	    panic:, and spits out a bunch of
	    information.  What should I do?</a></dt><dt>5.4. <a href="#idp46223352">What is the meaning of the error maxproc
	      limit exceeded by uid %i, please see tuning(7) and
	      login.conf(5)?</a></dt><dt>5.5. <a href="#idp46258424">Why do full screen applications on remote machines
	    misbehave?</a></dt><dt>5.6. <a href="#idp46278392">Why does it take so long to connect to my computer via
	    ssh or
	    telnet?</a></dt><dt>5.7. <a href="#idp46318456">Why does file: table is full
	    show up repeatedly in dmesg(8)?</a></dt><dt>5.8. <a href="#idp46328312">Why does the clock on my computer keep incorrect
	    time?</a></dt><dt>5.9. <a href="#idp46359544">What does the error swap_pager: indefinite
	      wait buffer: mean?</a></dt><dt>5.10. <a href="#idp46366200">What is a lock order
	      reversal?</a></dt><dt>5.11. <a href="#idp46398840">What does Called ...  with the following
	      non-sleepable locks held mean?</a></dt><dt>5.12. <a href="#idp48968568">Why does
	    buildworld/installworld
	    die with the message touch: not
	      found?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp46136568"></a><a id="pae"></a><p><strong>5.1.</strong></p></td><td align="left" valign="top"><p>Why is FreeBSD finding the wrong amount of memory on
	    <span class="trademark">i386</span>&#8482; hardware?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The most likely reason is the difference between
	    physical memory addresses and virtual addresses.</p><p>The convention for most PC hardware is to use the
	    memory area between 3.5 GB and 4 GB for a
	    special purpose (usually for PCI).  This address space is
	    used to access PCI hardware.  As a result real, physical
	    memory cannot be accessed by that address space.</p><p>What happens to the memory that should appear in that
	    location is hardware dependent.  Unfortunately,
	    some hardware does nothing and the ability to use that
	    last 500 MB of RAM is entirely lost.</p><p>Luckily, most hardware remaps the memory to a higher
	    location so that it can still be used.  However, this can
	    cause some confusion when watching the boot
	    messages.</p><p>On a 32-bit version of FreeBSD, the memory appears lost,
	    since it will be remapped above 4 GB, which a 32-bit
	    kernel is unable to access.  In this case, the solution is
	    to build a PAE enabled kernel.  See the entry on memory
	    limits for more information.</p><p>On a 64-bit version of FreeBSD, or when running a
	    PAE-enabled kernel, FreeBSD will correctly detect and remap
	    the memory so it is usable.  During boot, however, it may
	    seem as if FreeBSD is detecting more memory than the system
	    really has, due to the described remapping.  This is
	    normal and the available memory will be corrected as the
	    boot process completes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46150904"></a><a id="signal11"></a><p><strong>5.2.</strong></p></td><td align="left" valign="top"><p>Why do my programs occasionally die with
	    <span class="errorname">Signal 11</span> errors?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Signal 11 errors are caused when a process has
	    attempted to access memory which the operating system has
	    not granted it access to.  If something like this is
	    happening at seemingly random intervals,
	    start investigating the cause.</p><p>These problems can usually be attributed to
	    either:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>If the problem is occurring only in a specific
		custom application, it is
		probably a bug in the code.</p></li><li class="listitem"><p>If it is a problem with part of the base FreeBSD
		system, it may also be buggy code, but more often than
		not these problems are found and fixed long before us
		general <acronym class="acronym">FAQ</acronym> readers get to use
		these bits of code (that is what -CURRENT is
		for).</p></li></ol></div><p>It is probably
	    not a FreeBSD bug if the
	    problem occurs compiling a program, but the activity
	    that the compiler is carrying out changes each
	    time.</p><p>For example, if <code class="command">make
	      buildworld</code> fails while trying
	    to compile <code class="filename">ls.c</code> into
	    <code class="filename">ls.o</code> and, when run again, it fails
	    in the same place, this is a broken build.  Try
	    updating source and try again.  If the compile fails
	    elsewhere, it is almost certainly due to hardware.</p><p>In the first case, use a debugger such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> to find the point in the program which is
	    attempting to access a bogus address and fix
	    it.</p><p>In the second case, verify which piece of
	    hardware is at fault.</p><p>Common causes of this include:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The hard disks might be overheating: Check that
		the fans are still working, as the disk and
		other hardware might be overheating.</p></li><li class="listitem"><p>The processor running is overheating: This might
		be because the processor has been overclocked, or the
		fan on the processor might have died.  In either case,
		ensure that the hardware is running at
		what it is specified to run at, at least while trying
		to solve this problem.  If it is not, clock it back
		to the default settings.)</p><p>Regarding overclocking, it is far
		cheaper to have a slow system than a fried system that
		needs replacing!  Also the community is not
		sympathetic to problems on overclocked systems.</p></li><li class="listitem"><p>Dodgy memory: if multiple memory
		SIMMS/DIMMS are installed, pull them all out and try
		running the machine with each SIMM or DIMM
		individually to narrow the problem down to either the
		problematic DIMM/SIMM or perhaps even a
		combination.</p></li><li class="listitem"><p>Over-optimistic motherboard settings: the BIOS
		settings, and some motherboard jumpers, provide
		options to set various timings.  The defaults
		are often sufficient, but sometimes setting the wait
		states on RAM too low, or setting the <span class="quote">&#8220;<span class="quote">RAM
		  Speed: Turbo</span>&#8221;</span> option
		will cause strange behavior.  A possible idea is to
		set to BIOS defaults, after noting
		the current settings first.</p></li><li class="listitem"><p>Unclean or insufficient power to the motherboard.
		Remove any unused I/O boards, hard disks, or
		CD-ROMs,
		or disconnect the power cable from them, to see if
		the power supply can manage a smaller load.  Or try
		another power supply, preferably one with a little
		more power.  For instance, if the current power supply
		is rated at 250 Watts, try one rated at
		300 Watts.</p></li></ol></div><p>Read the section on
	    <a class="link" href="#signal11" title="5.2.">Signal 11</a> for a further
	    explanation and a discussion on how memory testing
	    software or hardware can still pass faulty memory.  There
	    is an extensive <acronym class="acronym">FAQ</acronym> on this at <a class="link" href="http://www.bitwizard.nl/sig11/" target="_top">the SIG11
	      problem <acronym class="acronym">FAQ</acronym></a>.</p><p>Finally, if none of this has helped, it is possibly
	    a bug in FreeBSD.
	    Follow <a class="link" href="#access-pr" title="1.14.">these instructions</a>
	    to send a problem report.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46214392"></a><a id="trap-12-panic"></a><p><strong>5.3.</strong></p></td><td align="left" valign="top"><p>My system crashes with either <span class="errorname">Fatal trap
	      12: page fault in kernel mode</span>, or
	    <span class="errorname">panic:</span>, and spits out a bunch of
	    information.  What should I do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The FreeBSD developers are interested in these
	    errors, but need more information than just the error
	    message.  Copy the full crash message.  Then consult the
	    <acronym class="acronym">FAQ</acronym> section on <a class="link" href="#kernel-panic-troubleshooting" title="17.4.">kernel
	      panics</a>, build a debugging kernel, and get a
	    backtrace.  This might sound difficult, but does not
	    require any programming skills.  Just follow the
	    instructions.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46223352"></a><a id="proc-table-full"></a><p><strong>5.4.</strong></p></td><td align="left" valign="top"><p>What is the meaning of the error <span class="errorname">maxproc
	      limit exceeded by uid %i, please see tuning(7) and
	      login.conf(5)</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The FreeBSD kernel will only allow a certain number of
	    processes to exist at one time.  The number is based on
	    the <code class="varname">kern.maxusers</code> <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
	    variable.  <code class="varname">kern.maxusers</code> also affects
	    various other in-kernel limits, such as network buffers.
	    If the machine is heavily loaded,
	    increase <code class="varname">kern.maxusers</code>.  This will
	    increase these other system limits in addition to the
	    maximum number of processes.</p><p>To adjust the <code class="varname">kern.maxusers</code> value,
	    see the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-kernel-limits.html#kern-maxfiles" target="_top">File/Process
	      Limits</a> section of the Handbook.  While that
	    section refers to open files, the same limits apply to
	    processes.</p><p>If the machine is lightly loaded but running a very
	    large number of processes, adjust the
	    <code class="varname">kern.maxproc</code> tunable by defining it in
	    <code class="filename">/boot/loader.conf</code>.  The tunable will
	    not get adjusted until the system is rebooted.  For more
	    information about tuning tunables, see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">loader.conf</span>(5)</span></a>.  If these processes are being run by
	    a single user, adjust
	    <code class="varname">kern.maxprocperuid</code> to be one less than
	    the new <code class="varname">kern.maxproc</code> value.  It must
	    be at least one less because one system program,
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>, must always be running.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46258424"></a><a id="remote-fullscreen"></a><p><strong>5.5.</strong></p></td><td align="left" valign="top"><p>Why do full screen applications on remote machines
	    misbehave?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The remote machine may be setting the terminal type to
	    something other than <code class="literal">xterm</code> which is
	    required by the FreeBSD console.  Alternatively the kernel
	    may have the wrong values for the width and height of the
	    terminal.</p><p>Check the value of the <code class="envar">TERM</code>
	    environment variable is <code class="literal">xterm</code>.  If the
	    remote machine does not support that try
	    <code class="literal">vt100</code>.</p><p>Run <code class="command">stty -a</code> to check what the
	    kernel thinks the terminal dimensions are.  If they are
	    incorrect, they can be changed by running
	    <code class="command">stty rows <em class="replaceable"><code>RR</code></em> cols
	    <em class="replaceable"><code>CC</code></em></code>.</p><p>Alternatively, if the client machine has
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11/xterm/pkg-descr">x11/xterm</a> installed, then running
	    <code class="command">resize</code> will query the terminal for the
	    correct dimensions and set them.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46278392"></a><a id="connection-delay"></a><p><strong>5.6.</strong></p></td><td align="left" valign="top"><p>Why does it take so long to connect to my computer via
	    <code class="command">ssh</code> or
	    <code class="command">telnet</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The symptom: there is a long delay between the time
	    the TCP connection is established and the time when the
	    client software asks for a password (or, in
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a>'s case, when a login prompt
	    appears).</p><p>The problem: more likely than not, the delay is caused
	    by the server software trying to resolve the client's IP
	    address into a hostname.  Many servers, including the
	    <span class="application">Telnet</span> and
	    <span class="application">SSH</span> servers that come with
	    FreeBSD, do this to store the hostname in a log file for
	    future reference by the administrator.</p><p>The remedy: if the problem occurs whenever connecting
	    the client computer to any server, the problem
	    is with the client.  If the problem only occurs
	    when someone connects to the server computer, the
	    problem is with the server.</p><p>If the problem is with the client, the only remedy is
	    to fix the DNS so the server can resolve it.  If this is
	    on a local network, consider it a server problem and keep
	    reading.  If this is on the Internet,
	    contact your ISP.</p><p>If the problem is with the server on a
	    local network, configure the server
	    to resolve address-to-hostname queries for the local
	    address range.  See <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>
	    for more information.  If this is on the
	    Internet, the problem may be that the local server's
	    resolver is not functioning correctly.  To check, try to
	    look up another host such as
	    <code class="systemitem">www.yahoo.com</code>.  If it does not
	    work, that is the problem.</p><p>Following a fresh install of FreeBSD, it is also possible
	    that domain and name server information is missing from
	    <code class="filename">/etc/resolv.conf</code>.  This will often
	    cause a delay in <span class="application">SSH</span>, as the
	    option <code class="literal">UseDNS</code> is set to
	    <code class="literal">yes</code> by default in
	    <code class="filename">/etc/ssh/sshd_config</code>.  If this is
	    causing the problem, either fill in the
	    missing information in
	    <code class="filename">/etc/resolv.conf</code> or set
	    <code class="literal">UseDNS</code> to <code class="literal">no</code> in
	    <code class="filename">sshd_config</code> as a temporary
	    workaround.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46318456"></a><a id="file-table-full"></a><p><strong>5.7.</strong></p></td><td align="left" valign="top"><p>Why does <span class="errorname">file: table is full</span>
	    show up repeatedly in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This error message indicates that the number of
	    available file descriptors have been exhausted on the
	    system.  Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-kernel-limits.html#kern-maxfiles" target="_top">kern.maxfiles</a>
	    section of the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-kernel-limits.html" target="_top">Tuning
	      Kernel Limits</a> section of the Handbook for a
	    discussion and solution.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46328312"></a><a id="computer-clock-skew"></a><p><strong>5.8.</strong></p></td><td align="left" valign="top"><p>Why does the clock on my computer keep incorrect
	    time?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The computer has two or more clocks, and FreeBSD has
	    chosen to use the wrong one.</p><p>Run <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>, and check for lines that contain
	    <code class="literal">Timecounter</code>.  The one with the highest
	    quality value that FreeBSD chose.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | grep Timecounter</code></strong>
Timecounter "i8254" frequency 1193182 Hz quality 0
Timecounter "ACPI-fast" frequency 3579545 Hz quality 1000
Timecounter "TSC" frequency 2998570050 Hz quality 800
Timecounters tick every 1.000 msec</pre><p>Confirm this by checking the
	    <code class="varname">kern.timecounter.hardware</code>
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware</code></strong>
kern.timecounter.hardware: ACPI-fast</pre><p>It may be a broken ACPI timer.  The simplest solution
	    is to disable the ACPI timer in
	    <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">debug.acpi.disabled="timer"</pre><p>Or the BIOS may modify the TSC clock&#8212;perhaps to
	    change the speed of the processor when running from
	    batteries, or going into a power saving mode, but FreeBSD is
	    unaware of these adjustments, and appears to gain or lose
	    time.</p><p>In this example, the <code class="literal">i8254</code> clock is
	    also available, and can be selected by writing its name to
	    the <code class="varname">kern.timecounter.hardware</code>
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware=i8254</code></strong>
kern.timecounter.hardware: TSC -&gt; i8254</pre><p>The computer should now start keeping more accurate
	    time.</p><p>To have this change automatically run at boot time,
	    add the following line to
	    <code class="filename">/etc/sysctl.conf</code>:</p><pre class="programlisting">kern.timecounter.hardware=i8254</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46359544"></a><a id="indefinite-wait-buffer"></a><p><strong>5.9.</strong></p></td><td align="left" valign="top"><p>What does the error <span class="errorname">swap_pager: indefinite
	      wait buffer:</span> mean?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This means that a process is trying to page memory
	    from
	    disk, and the page attempt has hung trying to access the
	    disk for more than 20 seconds.  It might be caused by bad
	    blocks on the disk drive, disk wiring, cables, or any
	    other disk I/O-related hardware.  If the drive itself is
	    bad, disk errors will appear in
	    <code class="filename">/var/log/messages</code> and in the output
	    of <code class="command">dmesg</code>.  Otherwise, check the cables
	    and connections.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46366200"></a><a id="lock-order-reversal"></a><p><strong>5.10.</strong></p></td><td align="left" valign="top"><p>What is a <span class="errorname">lock order
	      reversal</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The FreeBSD kernel uses a number of resource locks to
	    arbitrate contention for certain resources.  When multiple
	    kernel threads try to obtain multiple resource locks,
	    there's always the potential for a deadlock, where two
	    threads have each obtained one of the locks and blocks
	    forever waiting for the other thread to release one of the
	    other locks.  This sort of locking problem can be avoided
	    if all threads obtain the locks in the same order.</p><p>A run-time lock diagnostic system called
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a>, enabled in FreeBSD-CURRENT and disabled by
	    default for stable branches and releases, detects the
	    potential for deadlocks due to locking errors, including
	    errors caused by obtaining multiple resource locks with a
	    different order from different parts of the kernel.  The
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> framework tries to detect this problem as
	    it happens, and reports it by printing a message to the
	    system console about a <span class="errorname">lock order
	      reversal</span> (often referred to also as
	    <acronym class="acronym">LOR</acronym>).</p><p>It is possible to get false positives, as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> is conservative.  A true positive report
	    <span class="emphasis"><em>does not</em></span> mean that a system is
	    dead-locked; instead it should be understood as a warning
	    that a deadlock could have happened here.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Problematic <acronym class="acronym">LOR</acronym>s tend to get
	      fixed quickly, so check the <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current" target="_top">FreeBSD-CURRENT mailing list</a> before posting
	      to it.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp46398840"></a><a id="called-with-non-sleepable-locks-held"></a><p><strong>5.11.</strong></p></td><td align="left" valign="top"><p>What does <span class="errorname">Called ...  with the following
	      non-sleepable locks held</span> mean?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This means that a function that may sleep was called
	    while a mutex (or other unsleepable) lock was held.</p><p>The reason this is an error is because mutexes are not
	    intended to be held for long periods of time; they are
	    supposed to only be held to maintain short periods of
	    synchronization.  This programming contract allows device
	    drivers to use mutexes to synchronize with the rest of the
	    kernel during interrupts.  Interrupts (under FreeBSD) may not
	    sleep.  Hence it is imperative that no subsystem in the
	    kernel block for an extended period while holding a
	    mutex.</p><p>To catch such errors, assertions may be added to the
	    kernel that interact with the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> subsystem to
	    emit a warning or fatal error (depending on the system
	    configuration) when a potentially blocking call is made
	    while holding a mutex.</p><p>In summary, such warnings are non-fatal, however with
	    unfortunate timing they could cause undesirable effects
	    ranging from a minor blip in the system's responsiveness
	    to a complete system lockup.</p><p>For additional information about locking in FreeBSD see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=locking&amp;sektion=9&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">locking</span>(9)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48968568"></a><a id="touch-not-found"></a><p><strong>5.12.</strong></p></td><td align="left" valign="top"><p>Why does
	    <code class="buildtarget">buildworld</code>/<code class="buildtarget">installworld</code>
	    die with the message <span class="errorname">touch: not
	      found</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This error does not mean that the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=touch&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">touch</span>(1)</span></a>
	    utility is missing.  The error is instead probably due to
	    the dates of the files being set sometime in the future.
	    If the CMOS clock is set to local time, run
	    <code class="command">adjkerntz -i</code> to adjust
	    the kernel clock when booting into single-user
	    mode.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="applications"></a>Chapter 6. User Applications</h1></div></div></div><div class="qandaset"><a id="idp48973944"></a><dl><dt>6.1. <a href="#idp48974200">Where are all the user applications?</a></dt><dt>6.2. <a href="#idp48978680">How do I download the Ports tree? Should I be using
	    Subversion?</a></dt><dt>6.3. <a href="#idp49004152">Why can I not build this port on my
	    11.X -, or
	    12.X -STABLE machine?</a></dt><dt>6.4. <a href="#idp49018488">I just tried to build INDEX using
	    make index, and it failed.  Why?</a></dt><dt>6.5. <a href="#idp49032440">I updated the sources, now how do I update my
	    installed ports?</a></dt><dt>6.6. <a href="#idp49035000">Do I need to recompile every port each time I perform
	    a major version update?</a></dt><dt>6.7. <a href="#idp49038328">Do I need to recompile every port each time I perform
	    a minor version update?</a></dt><dt>6.8. <a href="#idp49044472">Why is /bin/sh so minimal?  Why
	    does FreeBSD not use bash or another
	    shell?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp48974200"></a><a id="user-apps"></a><p><strong>6.1.</strong></p></td><td align="left" valign="top"><p>Where are all the user applications?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refer to <a class="link" href="../../../../ports/index.html" target="_top">the ports
	      page</a> for info on software packages ported to
	    FreeBSD.</p><p>Most ports should work on all supported versions of
	    FreeBSD.  Those that do not are specifically marked as such.
	    Each time a FreeBSD release is made, a snapshot of the ports
	    tree at the time of release is also included in the
	    <code class="filename">ports/</code> directory.</p><p>FreeBSD supports compressed binary packages to easily
	    install and uninstall ports.  Use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pkg&amp;sektion=7&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pkg</span>(7)</span></a> to control
	    the installation of packages.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48978680"></a><a id="how-do-download-ports-tree"></a><p><strong>6.2.</strong></p></td><td align="left" valign="top"><p>How do I download the Ports tree? Should I be using
	    Subversion?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Any of the methods listed here work:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Use portsnap for most use cases.  Refer to <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/ports-using.html" target="_top">Using
		the Ports Collection</a> for instructions on how to
		use this tool.</p></li><li class="listitem"><p>Use Subversion if custom patches to the
		ports tree are needed or if running FreeBSD-CURRENT.
		Refer to <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/svn.html" target="_top">Using
		  Subversion</a> for details.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49004152"></a><a id="ports-4x"></a><p><strong>6.3.</strong></p></td><td align="left" valign="top"><p>Why can I not build this port on my
	    11.<em class="replaceable"><code>X</code></em> -, or
	    12.<em class="replaceable"><code>X</code></em> -STABLE machine?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If the installed FreeBSD version lags significantly
	    behind <span class="emphasis"><em>-CURRENT</em></span> or
	    <span class="emphasis"><em>-STABLE</em></span>, update the Ports Collection
	    using the instructions in <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/ports-using.html" target="_top">Using
	      the Ports Collection</a>.  If the system is
	    up-to-date, someone might have committed a change to the
	    port which works for <span class="emphasis"><em>-CURRENT</em></span> but
	    which broke the port for <span class="emphasis"><em>-STABLE</em></span>.
	    <a class="link" href="https://bugs.FreeBSD.org/submit/" target="_top">Submit</a>
	    a bug report, since the Ports Collection is supposed to
	    work for both the <span class="emphasis"><em>-CURRENT</em></span> and
	    <span class="emphasis"><em>-STABLE</em></span> branches.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49018488"></a><a id="make-index"></a><p><strong>6.4.</strong></p></td><td align="left" valign="top"><p>I just tried to build <code class="filename">INDEX</code> using
	    <code class="command">make index</code>, and it failed.  Why?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First, make sure that the Ports Collection is
	    up-to-date.  Errors that affect building
	    <code class="filename">INDEX</code> from an up-to-date copy of the
	    Ports Collection are high-visibility and are thus almost
	    always fixed immediately.</p><p>There are rare cases where <code class="filename">INDEX</code>
	    will not build due to odd cases involving
	    <code class="varname">OPTIONS_SET</code>
	    being set in <code class="filename">make.conf</code>.  If
	    you suspect that this is the case, try to make
	    <code class="filename">INDEX</code> with those variables
	    turned off before reporting it to <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports" target="_top">FreeBSD ports mailing list</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49032440"></a><a id="ports-update"></a><p><strong>6.5.</strong></p></td><td align="left" valign="top"><p>I updated the sources, now how do I update my
	    installed ports?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD does not include a port upgrading tool, but it
	    does have some tools to make the upgrade process somewhat
	    easier.  Additional tools are available to simplify
	    port handling and are described the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/ports-using.html" target="_top">Upgrading
	      Ports</a> section in the FreeBSD Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49035000"></a><a id="ports-major-upgrade"></a><p><strong>6.6.</strong></p></td><td align="left" valign="top"><p>Do I need to recompile every port each time I perform
	    a major version update?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes!  While a recent system will run with
	    software compiled under an older release,
	    things will randomly crash and fail to work once
	    other ports are installed or updated.</p><p>When the system is upgraded, various shared libraries,
	    loadable modules, and other parts of the system will be
	    replaced with newer versions.  Applications linked against
	    the older versions may fail to start or, in other cases,
	    fail to function properly.</p><p>For more information, see <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/updating-upgrading-freebsdupdate.html#freebsdupdate-upgrade" target="_top">the
	      section on upgrades</a> in the FreeBSD Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49038328"></a><a id="ports-minor-upgrade"></a><p><strong>6.7.</strong></p></td><td align="left" valign="top"><p>Do I need to recompile every port each time I perform
	    a minor version update?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>In general, no.  FreeBSD developers do their utmost to
	    guarantee binary compatibility across all releases with
	    the same major version number.  Any exceptions will be
	    documented in the Release Notes, and advice given there
	    should be followed.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49044472"></a><a id="minimal-sh"></a><p><strong>6.8.</strong></p></td><td align="left" valign="top"><p>Why is <code class="command">/bin/sh</code> so minimal?  Why
	    does FreeBSD not use <code class="command">bash</code> or another
	    shell?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Many people need to write shell scripts which will be
	    portable across many systems.  That is why <span class="trademark">POSIX</span>®
	    specifies the shell and utility commands in great detail.
	    Most scripts are written in Bourne shell (<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a>), and
	    because several important programming interfaces
	    (<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=system&amp;sektion=3&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">system</span>(3)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=popen&amp;sektion=3&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">popen</span>(3)</span></a>, and
	    analogues in higher-level scripting languages like Perl
	    and Tcl) are specified to use the Bourne shell to
	    interpret commands.  Because the Bourne shell is so often
	    and widely used, it is important for it to be quick to
	    start, be deterministic in its behavior, and have a small
	    memory footprint.</p><p>The existing implementation is our best effort at
	    meeting as many of these requirements simultaneously as we
	    can.  To keep <code class="command">/bin/sh</code> small, we have
	    not provided many of the convenience features that other
	    shells have.  That is why other more featureful shells
	    like <code class="command">bash</code>, <code class="command">scsh</code>,
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tcsh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span></a>, and <code class="command">zsh</code> are available.
	    Compare the memory utilization of
	    these shells by looking at the <span class="quote">&#8220;<span class="quote">VSZ</span>&#8221;</span> and
	    <span class="quote">&#8220;<span class="quote">RSS</span>&#8221;</span> columns in a <code class="command">ps -u</code>
	    listing.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="kernelconfig"></a>Chapter 7. Kernel Configuration</h1></div></div></div><div class="qandaset"><a id="idp49068024"></a><dl><dt>7.1. <a href="#idp49068280">I would like to customize my kernel.  Is it
	    difficult?</a></dt><dt>7.2. <a href="#idp49077112">Why is my kernel so big?</a></dt><dt>7.3. <a href="#idp49093240">Why does every kernel I try to build fail to compile,
	    even GENERIC?</a></dt><dt>7.4. <a href="#idp49117816">Which scheduler is in use on a
	    running system?</a></dt><dt>7.5. <a href="#idp49133560">What is kern.sched.quantum?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49068280"></a><a id="make-kernel"></a><p><strong>7.1.</strong></p></td><td align="left" valign="top"><p>I would like to customize my kernel.  Is it
	    difficult?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Not at all!  Check out the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/kernelconfig.html" target="_top">kernel
	      config section of the Handbook</a>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The new <code class="filename">kernel</code> will be
	      installed to the <code class="filename">/boot/kernel</code>
	      directory along with its modules, while the old kernel
	      and its modules will be moved to the
	      <code class="filename">/boot/kernel.old</code> directory.  If
	      a mistake is made in the
	      configuration, simply boot the previous version of the
	      kernel.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49077112"></a><a id="why-kernel-big"></a><p><strong>7.2.</strong></p></td><td align="left" valign="top"><p>Why is my kernel so big?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">GENERIC</code> kernels shipped with FreeBSD
	    are compiled in <span class="emphasis"><em>debug mode</em></span>.
	    Kernels built in debug mode contain debug data in
	    separate files that are used for debugging.
	    FreeBSD releases prior to 11.0 store these debug files in
	    the same directory as the kernel itself,
	    <code class="filename">/boot/kernel/</code>.
	    In FreeBSD 11.0 and later the debug files are stored in
	    <code class="filename">/usr/lib/debug/boot/kernel/</code>.
	    Note that there will be little or no performance loss from
	    running a debug kernel, and it is useful to keep one
	    around in case of a system panic.</p><p>When running low on disk space, there
	    are different options to reduce the size of
	    <code class="filename">/boot/kernel/</code> and
	    <code class="filename">/usr/lib/debug/</code>.</p><p>To not install the symbol files,
	    make sure the following line exists in
	    <code class="filename">/etc/src.conf</code>:</p><pre class="programlisting">WITHOUT_KERNEL_SYMBOLS=yes</pre><p>For more information see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=src.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">src.conf</span>(5)</span></a>.</p><p>If you want to avoid building debug files altogether,
	    make sure that both of the following are true:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>This line does not exist in the kernel
		configuration file:</p><pre class="programlisting">makeoptions DEBUG=-g</pre></li><li class="listitem"><p>Do not run <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=config&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">config</span>(8)</span></a> with
		<code class="option">-g</code>.</p></li></ul></div><p>Either of the above settings will cause the kernel to
	    be built in debug mode.</p><p>To build and install only the specified modules, list
	    them in
	    <code class="filename">/etc/make.conf</code>:</p><pre class="programlisting">MODULES_OVERRIDE= <em class="replaceable"><code>accf_http ipfw</code></em></pre><p>Replace <span class="emphasis"><em>accf_httpd ipfw</em></span> with a
	    list of needed modules.  Only the listed modules will be
	    built.  This reduces the size of the kernel
	    directory and decreases the amount of time needed to
	    build the kernel.  For more information, read
	    <code class="filename">/usr/share/examples/etc/make.conf</code>.</p><p>Unneeded devices can be removed from the kernel
	    to further reduce the size.  See <a class="xref" href="#make-kernel" title="7.1.">Q: 7.1</a> for more information.</p><p>To put any of these options into effect, follow the
	    instructions to <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/kernelconfig-building.html" target="_top">build
	      and install</a> the new kernel.</p><p>For reference, the FreeBSD 11 amd64 kernel
	    (<code class="filename">/boot/kernel/kernel</code>) is
	    approximately 25 MB.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49093240"></a><a id="generic-kernel-build-failure"></a><p><strong>7.3.</strong></p></td><td align="left" valign="top"><p>Why does every kernel I try to build fail to compile,
	    even <code class="filename">GENERIC</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are a number of possible causes for this
	    problem:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The source
		tree is different from the one used to build the
		currently running system.  When attempting an upgrade,
		read <code class="filename">/usr/src/UPDATING</code>, paying
		particular attention to the <span class="quote">&#8220;<span class="quote">COMMON
		  ITEMS</span>&#8221;</span> section at the end.</p></li><li class="listitem"><p>The <code class="command">make buildkernel</code> did not
		complete successfully.  The <code class="command">make
		  buildkernel</code> target relies on files
		generated by the <code class="command">make buildworld</code>
		target to complete its job correctly.</p></li><li class="listitem"><p>Even when building <a class="link" href="#stable" title="1.9.">FreeBSD-STABLE</a>, it is possible
		that the source tree was fetched at a time when it was
		either being modified or it was broken.
		Only releases are guaranteed to be
		buildable, although <a class="link" href="#stable" title="1.9.">FreeBSD-STABLE</a> builds fine the
		majority of the time.  Try re-fetching the source tree
		and see if the problem goes away.  Try using a
		different mirror in case the previous one is having
		problems.</p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49117816"></a><a id="scheduler-in-use"></a><p><strong>7.4.</strong></p></td><td align="left" valign="top"><p>Which scheduler is in use on a
	    running system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The name of the scheduler currently being used is
	    directly available as the value of the
	    <code class="varname">kern.sched.name</code> sysctl:</p><pre class="screen"><code class="prompt">%</code> sysctl <em class="replaceable"><code>kern.sched.name</code></em>
kern.sched.name: ULE</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49133560"></a><a id="scheduler-kern-quantum"></a><p><strong>7.5.</strong></p></td><td align="left" valign="top"><p>What is <code class="varname">kern.sched.quantum</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="varname">kern.sched.quantum</code> is the maximum
	    number of ticks a process can run without being preempted
	    in the 4BSD scheduler.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="disks"></a>Chapter 8. Disks, File Systems, and Boot Loaders</h1></div></div></div><div class="qandaset"><a id="idp49137272"></a><dl><dt>8.1. <a href="#idp49137528">How can I add my new hard disk to my FreeBSD
	    system?</a></dt><dt>8.2. <a href="#idp49140088">How do I move my system over to my huge new
	    disk?</a></dt><dt>8.3. <a href="#idp49209976">Which partitions can safely use Soft Updates?  I have
	    heard that Soft Updates on / can
	    cause problems.  What about Journaled Soft Updates?</a></dt><dt>8.4. <a href="#idp49222136">Can I mount other foreign file systems under
	    FreeBSD?</a></dt><dt>8.5. <a href="#idp49237624">How do I mount a secondary DOS partition?</a></dt><dt>8.6. <a href="#idp49242104">Is there a cryptographic file system for FreeBSD?</a></dt><dt>8.7. <a href="#idp49258488">How do I boot FreeBSD and Linux® using
	    GRUB?</a></dt><dt>8.8. <a href="#idp49270008">How do I boot FreeBSD and Linux® using
	    BootEasy?</a></dt><dt>8.9. <a href="#idp49276152">How do I change the boot prompt from
	    ??? to something more
	    meaningful?</a></dt><dt>8.10. <a href="#idp49278968">How do I use a new removable drive?</a></dt><dt>8.11. <a href="#idp49294456">Why do I get Incorrect super
	      block when mounting a CD?</a></dt><dt>8.12. <a href="#idp49297400">Why do I get Device not
	      configured when mounting a CD?</a></dt><dt>8.13. <a href="#idp49300472">Why do all non-English characters in filenames show up
	    as &#8220;?&#8221; on my CDs when mounted in FreeBSD?</a></dt><dt>8.14. <a href="#idp49308024">A CD burned under FreeBSD cannot be read
	    under any other operating system.  Why?</a></dt><dt>8.15. <a href="#idp49020152">How can I create an image of a data CD?</a></dt><dt>8.16. <a href="#idp49023608">Why can I not mount an audio
	    CD?</a></dt><dt>8.17. <a href="#idp49313912">How do I mount a multi-session
	    CD?</a></dt><dt>8.18. <a href="#idp49330680">How do I let ordinary users mount CD-ROMs, DVDs,
	    USB drives, and other removable media?</a></dt><dt>8.19. <a href="#idp49351672">The du and df
	    commands show different amounts of disk space available.
	    What is going on?</a></dt><dt>8.20. <a href="#idp49361784">How can I add more swap space?</a></dt><dt>8.21. <a href="#idp49364344">Why does FreeBSD see my disk as smaller than the
	    manufacturer says it is?</a></dt><dt>8.22. <a href="#idp49367288">How is it possible for a partition to be more than
	    100% full?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49137528"></a><a id="adding-disks"></a><p><strong>8.1.</strong></p></td><td align="left" valign="top"><p>How can I add my new hard disk to my FreeBSD
	    system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/disks-adding.html" target="_top">Adding
	      Disks</a> section in the FreeBSD Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49140088"></a><a id="new-huge-disk"></a><p><strong>8.2.</strong></p></td><td align="left" valign="top"><p>How do I move my system over to my huge new
	    disk?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The best way is to reinstall the operating system on
	    the new disk, then move the user data over.  This is
	    highly recommended when tracking
	    <span class="emphasis"><em>-STABLE</em></span> for more than one release or
	    when updating a release instead of installing a new one.
	    Install booteasy on both disks with <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a> and
	    dual boot until you are happy with the new configuration.
	    Skip the next paragraph to find out how to move the data
	    after doing this.</p><p>Alternatively, partition and label the new disk with
	    either <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sade&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sade</span>(8)</span></a> or <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>.  If the disks are
	    MBR-formatted, booteasy can be installed on both disks
	    with <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=boot0cfg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">boot0cfg</span>(8)</span></a> so that the computer can dual boot
	    to the old or new system after the copying is done.</p><p>Once the new disk set up,
	    the data cannot just be copied.  Instead, use tools that
	    understand device files and system flags, such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a>.  Although it is recommended
	    to move the data while in single-user mode, it
	    is not required.</p><p>When the disks are formatted with
	    <acronym class="acronym">UFS</acronym>, never use anything but
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=restore&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">restore</span>(8)</span></a> to move the root file
	    system.  These commands should also be used when moving a
	    single partition to another empty partition.  The sequence
	    of steps to use <code class="command">dump</code> to move the data
	    from one <acronym class="acronym">UFS</acronym> partitions to a new
	    partition is:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><code class="command">newfs</code> the new partition.</p></li><li class="step"><p><code class="command">mount</code> it on a temporary mount
		point.</p></li><li class="step"><p><code class="command">cd</code> to that directory.</p></li><li class="step"><p><code class="command">dump</code> the old partition, piping
		output to the new one.</p></li></ol></div><p>For example, to move
	    <code class="filename">/dev/ada1s1a</code> with
	    <code class="filename">/mnt</code> as the temporary mount point,
	    type:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ada1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore rf -</code></strong></pre><p>Rearranging partitions with
	    <code class="command">dump</code> takes a bit more work.  To merge a
	    partition like <code class="filename">/var</code> into its parent,
	    create the new partition large enough for both, move the
	    parent partition as described above, then move the child
	    partition into the empty directory that the first move
	    created:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ada1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore rf -</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - /var | restore rf -</code></strong></pre><p>To split a directory from its parent, say putting
	    <code class="filename">/var</code> on its own partition when it was
	    not before, create both partitions, then mount the child
	    partition on the appropriate directory in the temporary
	    mount point, then move the old single partition:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1a</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/ada1s1d</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ada1s1a /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mkdir /mnt/var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>mount /dev/ada1s1d /mnt/var</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /mnt</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>dump 0af - / | restore rf -</code></strong></pre><p>The <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=cpio&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">cpio</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pax&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pax</span>(1)</span></a> utilities are also
	    available for moving user data.  These are known to lose
	    file flag information, so use them with caution.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49209976"></a><a id="safe-softupdates"></a><p><strong>8.3.</strong></p></td><td align="left" valign="top"><p>Which partitions can safely use Soft Updates?  I have
	    heard that Soft Updates on <code class="filename">/</code> can
	    cause problems.  What about Journaled Soft Updates?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: Soft Updates can usually be safely used
	    on all partitions.</p><p>Long answer:  Soft Updates has two characteristics
	    that may be undesirable on certain partitions.  First, a
	    Soft Updates partition has a small chance of losing data
	    during a system crash.  The partition will not be
	    corrupted as the data will simply be lost.  Second, Soft
	    Updates can cause temporary space shortages.</p><p>When using Soft Updates, the kernel can take up to
	    thirty seconds to write changes to the physical disk.
	    When a large file is deleted the file still resides on
	    disk until the kernel actually performs the deletion.
	    This can cause a very simple race condition.  Suppose
	    one large file is deleted and another large file is
	    immediately created.  The first large file is not yet
	    actually removed from the physical disk, so the disk might
	    not have enough room for the second large file.  This will
	    produce an error that the partition does not have enough
	    space, even though a large chunk of space has just been
	    released.  A few seconds later, the file creation works as
	    expected.</p><p>If a system should crash after the kernel accepts a
	    chunk of data for writing to disk, but before that data is
	    actually written out, data could be lost.  This risk is
	    extremely small, but generally manageable.</p><p>These issues affect all partitions using Soft Updates.
	    So, what does this mean for the root partition?</p><p>Vital information on the root partition changes very
	    rarely.  If the system crashed during the thirty-second
	    window after such a change is made, it is possible that
	    data could be lost.  This risk is negligible for most
	    applications, but be aware that it exists.  If
	    the system cannot tolerate this much risk, do not use
	    Soft Updates on the root file system!</p><p><code class="filename">/</code> is traditionally one of the
	    smallest partitions.  If
	    <code class="filename">/tmp</code> is on
	    <code class="filename">/</code>, there may be intermittent
	    space problems.  Symlinking <code class="filename">/tmp</code> to
	    <code class="filename">/var/tmp</code> will solve this
	    problem.</p><p>Finally, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dump&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dump</span>(8)</span></a> does not work in live mode (-L)
	    on a filesystem, with Journaled Soft Updates
	    (<acronym class="acronym">SU+J</acronym>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49222136"></a><a id="mount-foreign-fs"></a><p><strong>8.4.</strong></p></td><td align="left" valign="top"><p>Can I mount other foreign file systems under
	    FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD supports a variety of other file systems.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">UFS</span></dt><dd><p>UFS CD-ROMs can be mounted directly on FreeBSD.
		  Mounting disk partitions from Digital UNIX and other
		  systems that support UFS may be more complex,
		  depending on the details of the disk partitioning
		  for the operating system in question.</p></dd><dt><span class="term">ext2/ext3</span></dt><dd><p>FreeBSD supports <code class="literal">ext2fs</code> and
		  <code class="literal">ext3fs</code> partitions.  See
		  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ext2fs&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ext2fs</span>(5)</span></a> for more information.</p></dd><dt><span class="term">NTFS</span></dt><dd><p>FUSE based NTFS support is available as a port
		  (<a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/sysutils/fusefs-ntfs/pkg-descr">sysutils/fusefs-ntfs</a>).  For more
		  information see <a class="link" href="http://www.tuxera.com/community/ntfs-3g-manual/" target="_top"><span class="application">ntfs-3g</span></a>.</p></dd><dt><span class="term">FAT</span></dt><dd><p>FreeBSD includes a read-write FAT driver.  For more
		  information, see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=mount_msdosfs&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">mount_msdosfs</span>(8)</span></a>.</p></dd><dt><span class="term">ZFS</span></dt><dd><p>FreeBSD includes a port of <span class="trademark">Sun</span>&#8482;'s ZFS driver.  The
		  current recommendation is to use it only on
		  amd64 platforms with sufficient memory.  For
		  more information, see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=zfs&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">zfs</span>(8)</span></a>.</p></dd></dl></div><p>FreeBSD includes the Network File System
	    <acronym class="acronym">NFS</acronym> and the FreeBSD Ports Collection
	    provides several FUSE applications to support many other
	    file systems.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49237624"></a><a id="mount-dos"></a><p><strong>8.5.</strong></p></td><td align="left" valign="top"><p>How do I mount a secondary DOS partition?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The secondary DOS partitions are found after
	    <span class="emphasis"><em>all</em></span> the primary partitions.  For
	    example, if <code class="literal">E</code> is the
	    second DOS partition on the second SCSI drive, there will
	    be a device file for <span class="quote">&#8220;<span class="quote">slice 5</span>&#8221;</span> in
	    <code class="filename">/dev</code>.  To mount it:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t msdosfs /dev/da1s5 /dos/e</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49242104"></a><a id="crypto-file-system"></a><p><strong>8.6.</strong></p></td><td align="left" valign="top"><p>Is there a cryptographic file system for FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=gbde&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">gbde</span>(8)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a>.
	    See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/disks-encrypting.html" target="_top">Encrypting
	      Disk Partitions</a> section of the FreeBSD
	    Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49258488"></a><a id="grub-loader"></a><p><strong>8.7.</strong></p></td><td align="left" valign="top"><p>How do I boot FreeBSD and <span class="trademark">Linux</span>® using
	    <span class="application">GRUB</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>To boot FreeBSD using <span class="application">GRUB</span>,
	    add the following to either
	    <code class="filename">/boot/grub/menu.lst</code> or
	    <code class="filename">/boot/grub/grub.conf</code>, depending upon
	    which is used by the <span class="trademark">Linux</span>® distribution.</p><pre class="programlisting">title FreeBSD 9.1
	root <em class="replaceable"><code>(hd0,a)</code></em>
	kernel /boot/loader</pre><p>Where <em class="replaceable"><code>hd0,a</code></em> points to the
	    root partition on the first disk.  To specify
	    the slice number, use something like this
	    <em class="replaceable"><code>(hd0,2,a)</code></em>.  By default, if the
	    slice number is omitted, <span class="application">GRUB</span>
	    searches the first slice
	    which has the <code class="literal">a</code> partition.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49270008"></a><a id="booteasy-loader"></a><p><strong>8.8.</strong></p></td><td align="left" valign="top"><p>How do I boot FreeBSD and <span class="trademark">Linux</span>® using
	    <span class="application">BootEasy?</span></p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Install LILO at the start of the <span class="trademark">Linux</span>® boot
	    partition instead of in the Master Boot Record.  Then boot
	    LILO from <span class="application">BootEasy</span>.</p><p>This is recommended when running <span class="trademark">Windows</span>® and <span class="trademark">Linux</span>®
	    as it makes it simpler to get <span class="trademark">Linux</span>® booting again if
	    <span class="trademark">Windows</span>® is reinstalled.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49276152"></a><a id="changing-bootprompt"></a><p><strong>8.9.</strong></p></td><td align="left" valign="top"><p>How do I change the boot prompt from
	    <code class="literal">???</code> to something more
	    meaningful?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This cannot be accomplished with the standard boot
	    manager without rewriting it.  There are a number of other
	    boot managers in the <code class="filename">sysutils</code>
	    category of the Ports Collection.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49278968"></a><a id="removable-drives"></a><p><strong>8.10.</strong></p></td><td align="left" valign="top"><p>How do I use a new removable drive?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If the drive already has a file system on it,
	    use a command like this:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -t msdosfs /dev/da0s1 /mnt</code></strong></pre><p>If the drive will only be used with FreeBSD systems,
	    partition it with <acronym class="acronym">UFS</acronym> or
	    <acronym class="acronym">ZFS</acronym>.  This will provide long filename
	    support, improvement in performance, and stability.  If
	    the drive will be used by other operating systems, a more
	    portable choice, such as msdosfs, is better.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/dev/da0 count=2</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gpart create -s GPT /dev/da0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gpart add -t freebsd-ufs /dev/da0</code></strong></pre><p>Finally, create a new file system:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>newfs /dev/da0p1</code></strong></pre><p>and mount it:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/da0s1 /mnt</code></strong></pre><p>It is a good idea to add a line to
	    <code class="filename">/etc/fstab</code> (see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fstab&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fstab</span>(5)</span></a>) so you
	    can just type <code class="command">mount /mnt</code> in the
	    future:</p><pre class="programlisting">/dev/da0p1 /mnt ufs rw,noauto 0 0</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49294456"></a><a id="mount-cd-superblock"></a><p><strong>8.11.</strong></p></td><td align="left" valign="top"><p>Why do I get <span class="errorname">Incorrect super
	      block</span> when mounting a CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The type of device to mount must be specified.  This
	    is described in the Handbook section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/creating-cds.html#mounting-cd" target="_top">Using
	      Data CDs</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49297400"></a><a id="cdrom-not-configured"></a><p><strong>8.12.</strong></p></td><td align="left" valign="top"><p>Why do I get <span class="errorname">Device not
	      configured</span> when mounting a CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This generally means that there is no CD in the
	    drive, or the drive is not visible on the bus.
	    Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/creating-cds.html#mounting-cd" target="_top">Using
	      Data CDs</a> section of the Handbook for a detailed
	    discussion of this issue.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49300472"></a><a id="cdrom-unicode-filenames"></a><p><strong>8.13.</strong></p></td><td align="left" valign="top"><p>Why do all non-English characters in filenames show up
	    as <span class="quote">&#8220;<span class="quote">?</span>&#8221;</span> on my CDs when mounted in FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The CD probably uses the <span class="quote">&#8220;<span class="quote">Joliet</span>&#8221;</span>
	    extension for storing information about files and
	    directories.  This is discussed in the Handbook section on
	   <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/creating-cds.html#mounting-cd" target="_top">Using
	      Data CD-ROMs</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49308024"></a><a id="burncd-isofs"></a><p><strong>8.14.</strong></p></td><td align="left" valign="top"><p>A CD burned under FreeBSD cannot be read
	    under any other operating system.  Why?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This means a raw file was burned to the CD, rather
	    than creating an ISO 9660 file system.  Take a look
	    at the Handbook section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/creating-cds.html#mounting-cd" target="_top">Using
	      Data <acronym class="acronym">CD</acronym>s</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49020152"></a><a id="copy-cd"></a><p><strong>8.15.</strong></p></td><td align="left" valign="top"><p>How can I create an image of a data CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is discussed in the Handbook section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/creating-cds.html#mkisofs" target="_top">Writing
	      Data to an <acronym class="acronym">ISO</acronym> File System</a>.
	    For more on working with CD-ROMs, see the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/creating-cds.html" target="_top">Creating
	      CDs Section</a> in the Storage chapter in the
	    Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49023608"></a><a id="mount-audio-CD"></a><p><strong>8.16.</strong></p></td><td align="left" valign="top"><p>Why can I not <code class="command">mount</code> an audio
	    CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Trying to mount an audio CD will produce an error
	    like <span class="errorname">cd9660: /dev/cd0: Invalid
	      argument</span>.  This is because
	    <code class="command">mount</code> only works on file systems.
	    Audio CDs do not have file systems; they just have data.
	    Instead, use a program that reads audio CDs, such as the
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/audio/xmcd/pkg-descr">audio/xmcd</a> package or port.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49313912"></a><a id="multi-session-CD"></a><p><strong>8.17.</strong></p></td><td align="left" valign="top"><p>How do I <code class="command">mount</code> a multi-session
	    CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>By default, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a> will attempt to mount the
	    last data track (session) of a CD.  To
	    load an earlier session, use the
	    <code class="option">-s</code> command line argument.  Refer to
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">mount_cd9660</span>(8)</span></a> for specific examples.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49330680"></a><a id="user-floppymount"></a><p><strong>8.18.</strong></p></td><td align="left" valign="top"><p>How do I let ordinary users mount CD-ROMs, DVDs,
	    USB drives, and other removable media?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As <code class="systemitem">root</code> set
	    the sysctl variable <code class="varname">vfs.usermount</code> to
	    <code class="literal">1</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl vfs.usermount=1</code></strong></pre><p>To make this persist across reboots, add the line
	    <code class="literal">vfs.usermount=1</code> to
	    <code class="filename">/etc/sysctl.conf</code> so that it is reset
	    at system boot time.</p><p>Users can only mount devices they have read
	    permissions to.  To allow users to mount a device
	    permissions must be set in
	    <code class="filename">/etc/devfs.conf</code>.</p><p>For example, to allow users to mount the first USB
	    drive add:</p><pre class="programlisting"># Allow all users to mount a USB drive.
	    own       /dev/da0       root:operator
	    perm      /dev/da0       0666</pre><p>All users can now mount devices they could read onto a
	    directory that they own:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>mkdir ~/my-mount-point</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>mount -t msdosfs /dev/da0 ~/my-mount-point</code></strong></pre><p>Unmounting the device is simple:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>umount ~/my-mount-point</code></strong></pre><p>Enabling <code class="varname">vfs.usermount</code>, however,
	    has negative security implications.  A better way to
	    access <span class="trademark">MS-DOS</span>® formatted media is to use the
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/emulators/mtools/pkg-descr">emulators/mtools</a> package in the Ports
	    Collection.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The device name used in the previous examples must
	      be changed according to the configuration.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49351672"></a><a id="du-vs-df"></a><p><strong>8.19.</strong></p></td><td align="left" valign="top"><p>The <code class="command">du</code> and <code class="command">df</code>
	    commands show different amounts of disk space available.
	    What is going on?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is due to how these commands actually work.
	    <code class="command">du</code> goes through the directory tree,
	    measures how large each file is, and presents the totals.
	    <code class="command">df</code> just asks the file system how much
	    space it has left.  They seem to be the same thing, but a
	    file without a directory entry will affect
	    <code class="command">df</code> but not
	    <code class="command">du</code>.</p><p>When a program is using a file, and the file is
	    deleted, the file is not really removed from the file
	    system until the program stops using it.  The file is
	    immediately deleted from the directory listing, however.
	    As an example, consider a file large enough
	    to affect the output of
	    <code class="command">du</code> and <code class="command">df</code>.  A
	    file being viewed with <code class="command">more</code> can be
	    deleted wihout causing an error.
	    The entry is
	    removed from the directory so no other program or user can
	    access it.  However, <code class="command">du</code> shows that it
	    is gone as it has walked the directory tree and the
	    file is not listed.  <code class="command">df</code> shows that it
	    is still there, as the file system knows that
	    <code class="command">more</code> is still using that space.  Once
	    the <code class="command">more</code> session ends,
	    <code class="command">du</code> and <code class="command">df</code> will
	    agree.</p><p>This situation is common on web servers.  Many people
	    set up a FreeBSD web server and forget to rotate the log
	    files.  The access log fills up <code class="filename">/var</code>.
	    The new administrator deletes the file, but the system
	    still complains that the partition is full.  Stopping and
	    restarting the web server program would free the file,
	    allowing the system to release the disk space.  To prevent
	    this from happening, set up <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a>.</p><p>Note that Soft Updates can delay the freeing of disk
	    space and it can take up to 30 seconds for the
	    change to be visible.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49361784"></a><a id="add-swap-space"></a><p><strong>8.20.</strong></p></td><td align="left" valign="top"><p>How can I add more swap space?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This section <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/adding-swap-space.html" target="_top">of
	      the Handbook</a> describes how to do this.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49364344"></a><a id="manufacturer-disk-size"></a><p><strong>8.21.</strong></p></td><td align="left" valign="top"><p>Why does FreeBSD see my disk as smaller than the
	    manufacturer says it is?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Disk manufacturers calculate gigabytes as a billion
	    bytes each, whereas FreeBSD calculates them as
	    1,073,741,824 bytes each.  This explains why, for
	    example, FreeBSD's boot messages will report a disk that
	    supposedly has 80 GB as holding
	    76,319 MB.</p><p>Also note that FreeBSD will (by default) <a class="link" href="#disk-more-than-full" title="8.22.">reserve</a> 8% of the
	    disk space.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49367288"></a><a id="disk-more-than-full"></a><p><strong>8.22.</strong></p></td><td align="left" valign="top"><p>How is it possible for a partition to be more than
	    100% full?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A portion of each UFS partition (8%, by default) is
	    reserved for use by the operating system and the
	    <code class="systemitem">root</code> user.
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=df&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">df</span>(1)</span></a> does not count that space when calculating the
	    <code class="literal">Capacity</code> column, so it can exceed 100%.
	    Notice that the <code class="literal">Blocks</code>
	    column is always greater than the sum of the
	    <code class="literal">Used</code> and <code class="literal">Avail</code>
	    columns, usually by a factor of 8%.</p><p>For more details, look up <code class="option">-m</code> in
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tunefs&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tunefs</span>(8)</span></a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="all-about-zfs"></a>Chapter 9. ZFS</h1></div></div></div><div class="qandaset"><a id="idp49391096"></a><dl><dt>9.1. <a href="#idp49391352">What is the minimum amount of RAM one should have to
	    run ZFS?</a></dt><dt>9.2. <a href="#idp49393400">What is the ZIL and when does it get used?</a></dt><dt>9.3. <a href="#idp49397368">Do I need a SSD for ZIL?</a></dt><dt>9.4. <a href="#idp49399416">What is the L2ARC?</a></dt><dt>9.5. <a href="#idp49402616">Is enabling deduplication advisable?</a></dt><dt>9.6. <a href="#idp49409656">I cannot delete or create files on my ZFS pool.  How
	    can I fix this?</a></dt><dt>9.7. <a href="#idp49413880">Does ZFS support TRIM for Solid State Drives?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49391352"></a><a id="how-much-ram-for-zfs"></a><p><strong>9.1.</strong></p></td><td align="left" valign="top"><p>What is the minimum amount of RAM one should have to
	    run ZFS?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A minimum of 4GB of RAM is required for comfortable
	    usage, but individual workloads can vary widely.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49393400"></a><a id="what-is-zil"></a><p><strong>9.2.</strong></p></td><td align="left" valign="top"><p>What is the ZIL and when does it get used?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <acronym class="acronym">ZIL</acronym> (<acronym class="acronym">ZFS</acronym>
	    intent log) is a write log used to implement posix write
	    commitment semantics across crashes.  Normally writes are
	    bundled up into transaction groups and written to disk
	    when filled (<span class="quote">&#8220;<span class="quote">Transaction Group Commit</span>&#8221;</span>).
	    However syscalls like <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fsync&amp;sektion=2&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fsync</span>(2)</span></a> require a commitment
	    that the data is written to stable storage before
	    returning.  The ZIL is needed for writes that have been
	    acknowledged as written but which are not yet on disk as
	    part of a transaction.  The transaction groups are
	    timestamped.  In the event of a crash the last valid
	    timestamp is found and missing data is merged in from the
	    ZIL.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49397368"></a><a id="need-ssd-for-zil"></a><p><strong>9.3.</strong></p></td><td align="left" valign="top"><p>Do I need a SSD for ZIL?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>By default, ZFS stores the ZIL in the pool with all
	    the data.  If an application has a heavy write load,
	    storing the ZIL in a separate device that has very fast
	    synchronous, sequential write performance can improve
	    overall system performance.  For other workloads, a SSD
	    is unlikely to make much of an improvement.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49399416"></a><a id="what-is-l2arc"></a><p><strong>9.4.</strong></p></td><td align="left" valign="top"><p>What is the L2ARC?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <acronym class="acronym">L2ARC</acronym> is a read cache stored on
	    a fast device such as an <acronym class="acronym">SSD</acronym>.  This
	    cache is not persistent across reboots.  Note that RAM is
	    used as the first layer of cache and the L2ARC is only
	    needed if there is insufficient RAM.</p><p>L2ARC needs space in the ARC to index it.  So,
	    perversely, a working set that fits perfectly in the ARC
	    will not fit perfectly any more if a L2ARC is used because
	    part of the ARC is holding the L2ARC index, pushing part
	    of the working set into the L2ARC which is slower than
	    RAM.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49402616"></a><a id="should-enable-dedup"></a><p><strong>9.5.</strong></p></td><td align="left" valign="top"><p>Is enabling deduplication advisable?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Generally speaking, no.</p><p>Deduplication takes up a significant amount of RAM and
	    may slow down read and write disk access times.  Unless
	    one is storing data that is very heavily duplicated, such
	    as virtual machine images or user backups, it is possible
	    that deduplication will do more harm than good.  Another
	    consideration is the inability to revert deduplication
	    status.  If data is written when deduplication is enabled,
	    disabling dedup will not cause those blocks which were
	    deduplicated to be replicated until they are next
	    modified.</p><p>Deduplication can also lead to some unexpected
	    situations.  In particular, deleting files may become much
	    slower.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49409656"></a><a id="zpool-fully-full"></a><p><strong>9.6.</strong></p></td><td align="left" valign="top"><p>I cannot delete or create files on my ZFS pool.  How
	    can I fix this?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This could happen because the pool is 100% full.  ZFS
	    requires space on the disk to write transaction metadata.
	    To restore the pool to a usable state, truncate the file
	    to delete:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>truncate -s 0 unimportant-file</code></strong></pre><p>File truncation works because a new transaction is not
	    started, new spare blocks are created instead.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">On systems with additional ZFS dataset tuning, such
	      as deduplication, the space may not be immediately
	      available</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49413880"></a><a id="zfs-ssd-trim"></a><p><strong>9.7.</strong></p></td><td align="left" valign="top"><p>Does ZFS support TRIM for Solid State Drives?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>ZFS TRIM support was added to FreeBSD 10-CURRENT
	    with revision r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/240868"><span class="svnref">240868</span></a>.  ZFS TRIM
	    support was added to all FreeBSD-STABLE branches in
	    r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/252162"><span class="svnref">252162</span></a> and
	    r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/251419"><span class="svnref">251419</span></a>, respectively.</p><p>ZFS TRIM is enabled by default, and can be turned off
	    by adding this line to
	    <code class="filename">/etc/sysctl.conf</code>:</p><pre class="programlisting">vfs.zfs.trim.enabled=0</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">ZFS TRIM support was added to GELI as of
	      r<a xmlns="" href="https://svnweb.freebsd.org/changeset/base/286444"><span class="svnref">286444</span></a>.  Please see
	      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=geli&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">geli</span>(8)</span></a> and the <code class="option">-T</code> switch.</p></div></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="admin"></a>Chapter 10. System Administration</h1></div></div></div><div class="qandaset"><a id="idp49421560"></a><dl><dt>10.1. <a href="#idp49421816">Where are the system start-up configuration
	    files?</a></dt><dt>10.2. <a href="#idp49439096">How do I add a user easily?</a></dt><dt>10.3. <a href="#idp49444600">Why do I keep getting messages like root:
	      not found after editing
	    /etc/crontab?</a></dt><dt>10.4. <a href="#idp49461752">Why do I get the error, you are not in the
	      correct group to su root when I try to
	    su to root?</a></dt><dt>10.5. <a href="#idp49475576">I made a mistake in rc.conf, or
	    another startup file, and now I cannot edit it because the
	    file system is read-only.  What should I do?</a></dt><dt>10.6. <a href="#idp49488504">Why am I having trouble setting up my printer?</a></dt><dt>10.7. <a href="#idp49491064">How can I correct the keyboard mappings for my
	    system?</a></dt><dt>10.8. <a href="#idp49494136">Why can I not get user quotas to work properly?</a></dt><dt>10.9. <a href="#idp49511288">Does FreeBSD support System V IPC primitives?</a></dt><dt>10.10. <a href="#idp49515768">What other mail-server software can I use instead of
	    Sendmail?</a></dt><dt>10.11. <a href="#idp49536504">I have forgotten the root password!  What do I
	    do?</a></dt><dt>10.12. <a href="#idp49159160">How do I keep Control+Alt+Delete
	    from rebooting the system?</a></dt><dt>10.13. <a href="#idp49164792">How do I reformat DOS text files to UNIX®
	    ones?</a></dt><dt>10.14. <a href="#idp49555448">How do I re-read /etc/rc.conf and
	    re-start /etc/rc without a
	    reboot?</a></dt><dt>10.15. <a href="#idp49572984">I tried to update my system to the latest
	    -STABLE, but got
	    -BETAx,
	    -RC or
	    -PRERELEASE!  What is going
	    on?</a></dt><dt>10.16. <a href="#idp49581432">I tried to install a new kernel, and the
	    chflags(1) failed.  How do I get around this?</a></dt><dt>10.17. <a href="#idp49597304">I cannot change the time on my system by more than one
	    second!  How do I get around this?</a></dt><dt>10.18. <a href="#idp49604088">Why is rpc.statd using 256 MB
	    of memory?</a></dt><dt>10.19. <a href="#idp49611000">Why can I not unset the schg file
	    flag?</a></dt><dt>10.20. <a href="#idp49619320">What is vnlru?</a></dt><dt>10.21. <a href="#idp49622392">What do the various memory states displayed by
	    top mean?</a></dt><dt>10.22. <a href="#idp49635320">How much free memory is available?</a></dt><dt>10.23. <a href="#idp49652984">What is /var/empty?</a></dt><dt>10.24. <a href="#idp49661816">I just changed
	    /etc/newsyslog.conf.  How can I check
	    if it does what I expect?</a></dt><dt>10.25. <a href="#idp49670008">My time is wrong, how can I change the
	    timezone?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49421816"></a><a id="startup-config-files"></a><p><strong>10.1.</strong></p></td><td align="left" valign="top"><p>Where are the system start-up configuration
	    files?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The primary configuration file is
	    <code class="filename">/etc/defaults/rc.conf</code> which is
	    described in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>.  System startup scripts
	    such as <code class="filename">/etc/rc</code> and
	    <code class="filename">/etc/rc.d</code>, which are described in
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>, include this file.  <span class="emphasis"><em>Do not edit this
	      file!</em></span>  Instead, to edit an entry in
	    <code class="filename">/etc/defaults/rc.conf</code>, copy the line
	    into <code class="filename">/etc/rc.conf</code> and change it
	    there.</p><p>For example, if to start <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>, the
	    included DNS server:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'named_enable="YES"' &gt;&gt; /etc/rc.conf</code></strong></pre><p>To start up local services, place shell scripts in the
	    <code class="filename">/usr/local/etc/rc.d</code> directory.  These
	    shell scripts should be set executable, the default file
	    mode is <code class="literal">555</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49439096"></a><a id="adding-users"></a><p><strong>10.2.</strong></p></td><td align="left" valign="top"><p>How do I add a user easily?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> command, or the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>
	    command for more complicated situations.</p><p>To remove the user, use the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> command or,
	    if necessary, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49444600"></a><a id="root-not-found-cron-errors"></a><p><strong>10.3.</strong></p></td><td align="left" valign="top"><p>Why do I keep getting messages like <span class="errorname">root:
	      not found</span> after editing
	    <code class="filename">/etc/crontab</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is normally caused by editing the system crontab.
	    This is not the correct way to do things as the system
	    crontab has a different format to the per-user crontabs.
	    The system
	    crontab has an extra field, specifying which user to run
	    the command as.  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> assumes this user is the
	    first word of the command to execute.  Since no such
	    command exists, this error message is displayed.</p><p>To delete the extra, incorrect crontab:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab -r</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49461752"></a><a id="su-wheel-group"></a><p><strong>10.4.</strong></p></td><td align="left" valign="top"><p>Why do I get the error, <span class="errorname">you are not in the
	      correct group to su root</span> when I try to
	    <code class="command">su</code> to <code class="systemitem">root</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is a security feature.  In order to
	    <code class="command">su</code> to
	    <code class="systemitem">root</code>, or any
	    other account with superuser privileges, the user account
	    must be a member of the
	    <code class="systemitem">wheel</code> group.
	    If this feature were not there, anybody with an
	    account on a system who also found out <code class="systemitem">root</code>'s password would be
	    able to gain superuser level access to the system.</p><p>To allow someone to <code class="command">su</code> to
	    <code class="systemitem">root</code>, put
	    them in the <code class="systemitem">wheel</code> group using
	    <code class="command">pw</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupmod wheel -m lisa</code></strong></pre><p>The above example will add user <code class="systemitem">lisa</code> to the group
	    <code class="systemitem">wheel</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49475576"></a><a id="rcconf-readonly"></a><p><strong>10.5.</strong></p></td><td align="left" valign="top"><p>I made a mistake in <code class="filename">rc.conf</code>, or
	    another startup file, and now I cannot edit it because the
	    file system is read-only.  What should I do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Restart the system using <strong class="userinput"><code>boot
	      -s</code></strong> at the loader prompt to enter single-user
	    mode.  When prompted for a shell pathname, press
	    <span class="keycap"><strong>Enter</strong></span> and run <code class="command">mount -urw
	      /</code> to re-mount the root file system in
	    read/write mode.  You may also need to run <code class="command">mount
	      -a -t ufs</code> to mount the file system where your
	    favorite editor is defined.  If that editor is on a
	    network file system, either configure the network manually
	    before mounting the network file systems, or use an editor
	    which resides on a local file system, such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ed</span>(1)</span></a>.</p><p>In order to use a full screen editor such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a> or <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=emacs&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">emacs</span>(1)</span></a>, run
	    <code class="command">export TERM=xterm</code>
	    so that these editors can load the correct data from the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=termcap&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">termcap</span>(5)</span></a> database.</p><p>After performing these steps, edit
	    <code class="filename">/etc/rc.conf</code> to
	    fix the syntax error.  The error message displayed
	    immediately after the kernel boot messages should indicate
	    the number of the line in the file which is at
	    fault.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49488504"></a><a id="printer-setup"></a><p><strong>10.6.</strong></p></td><td align="left" valign="top"><p>Why am I having trouble setting up my printer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/printing.html" target="_top">Handbook
	      entry on printing</a> for troubleshooting
	    tips.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49491064"></a><a id="keyboard-mappings"></a><p><strong>10.7.</strong></p></td><td align="left" valign="top"><p>How can I correct the keyboard mappings for my
	    system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refer to the Handbook section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/using-localization.html" target="_top">using
	      localization</a>, specifically the section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/using-localization.html#setting-console" target="_top">console
	      setup</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49494136"></a><a id="user-quotas"></a><p><strong>10.8.</strong></p></td><td align="left" valign="top"><p>Why can I not get user quotas to work properly?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>It is possible that the kernel is not configured
		to use quotas.  In this case,
		add the following line to the kernel configuration
		file and recompile the kernel:</p><pre class="programlisting">options QUOTA</pre><p>Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/quotas.html" target="_top">Handbook
		  entry on quotas</a> for full details.</p></li><li class="listitem"><p>Do not turn on quotas on
		<code class="filename">/</code>.</p></li><li class="listitem"><p>Put the quota file on the file system that the
		quotas are to be enforced on:</p><div class="informaltable"><table class="informaltable" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>File System</th><th>Quota file</th></tr></thead><tbody><tr><td><code class="filename">/usr</code></td><td><code class="filename">/usr/admin/quotas</code></td></tr><tr><td><code class="filename">/home</code></td><td><code class="filename">/home/admin/quotas</code></td></tr><tr><td>&#8230;</td><td>&#8230;</td></tr></tbody></table></div></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49511288"></a><a id="sysv-ipc"></a><p><strong>10.9.</strong></p></td><td align="left" valign="top"><p>Does FreeBSD support System V IPC primitives?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, FreeBSD supports System V-style IPC, including
	    shared memory, messages and semaphores, in the
	    <code class="filename">GENERIC</code> kernel.  With a custom
	    kernel, support may be loaded with the
	    <code class="filename">sysvshm.ko</code>,
	    <code class="filename">sysvsem.ko</code> and
	    <code class="filename">sysvmsg.ko</code> kernel modules, or
	    enabled in the custom kernel by adding the following lines
	    to the kernel configuration file:</p><pre class="programlisting">options    SYSVSHM          # enable shared memory
options    SYSVSEM          # enable for semaphores
options    SYSVMSG          # enable for messaging</pre><p>Recompile and install the kernel.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49515768"></a><a id="sendmail-alternative"></a><p><strong>10.10.</strong></p></td><td align="left" valign="top"><p>What other mail-server software can I use instead of
	    <span class="application">Sendmail</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <a class="link" href="http://www.sendmail.org/" target="_top"><span class="application">Sendmail</span></a>
	    server is the default mail-server software for FreeBSD, but
	    it can be replaced with another
	    MTA installed from the Ports Collection.  Available ports
	    include <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/mail/exim/pkg-descr">mail/exim</a>,
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/mail/postfix/pkg-descr">mail/postfix</a>, and
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/mail/qmail/pkg-descr">mail/qmail</a>.  Search the mailing lists
	    for discussions regarding the advantages and disadvantages
	    of the available MTAs.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49536504"></a><a id="forgot-root-pw"></a><p><strong>10.11.</strong></p></td><td align="left" valign="top"><p>I have forgotten the <code class="systemitem">root</code> password!  What do I
	    do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Do not panic!  Restart the system, type
	    <strong class="userinput"><code>boot -s</code></strong> at the
	    <code class="literal">Boot:</code> prompt to enter single-user mode.
	    At the question about the shell to use, hit
	    <span class="keycap"><strong>Enter</strong></span> which will display a
	    <code class="prompt">#</code> prompt.  Enter <code class="command">mount
	      -urw /</code> to remount the root file system
	    read/write, then run <code class="command">mount -a</code> to
	    remount all the file systems.  Run <code class="command">passwd
	      root</code> to change the <code class="systemitem">root</code> password then run
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=exit&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">exit</span>(1)</span></a> to continue booting.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If you are still prompted to give the <code class="systemitem">root</code> password when
	      entering the single-user mode, it means that the console
	      has been marked as <code class="literal">insecure</code> in
	      <code class="filename">/etc/ttys</code>.  In this case, it will
	      be required to boot from a FreeBSD installation disk,
	      choose the <span class="guimenuitem">Live CD</span> or
	      <span class="guimenuitem">Shell</span> at the beginning of the
	      install process and issue the commands mentioned above.
	      Mount the specific partition in this
	      case and then chroot to it.  For example, replace
	      <code class="command">mount -urw /</code> with
	      <code class="command">mount /dev/ada0p1 /mnt; chroot /mnt</code>
	      for a system on
	      <em class="replaceable"><code>ada0p1</code></em>.</p></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If the root partition cannot be mounted from
	      single-user mode, it is possible that the partitions are
	      encrypted and it is impossible to mount them without the
	      access keys.  For more information see the section
	      about encrypted disks in the FreeBSD <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/disks-encrypting.html" target="_top">Handbook</a>.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49159160"></a><a id="CAD-reboot"></a><p><strong>10.12.</strong></p></td><td align="left" valign="top"><p>How do I keep <span class="keycap"><strong>Control</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Delete</strong></span>
	    from rebooting the system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vt</span>(4)</span></a>, the default console
	    driver, this can be done by setting the following
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.vt.kbd_reboot=0</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49164792"></a><a id="dos-to-unix-txt"></a><p><strong>10.13.</strong></p></td><td align="left" valign="top"><p>How do I reformat DOS text files to <span class="trademark">UNIX</span>®
	    ones?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use this <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=perl&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">perl</span>(1)</span></a> command:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>perl -i.bak -npe 's/\r\n/\n/g' file(s)</code></strong></pre><p>where <em class="replaceable"><code>file(s)</code></em> is one or
	    more files to process.  The modification is done in-place,
	    with the original file stored with a
	    <code class="filename">.bak</code> extension.</p><p>Alternatively, use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tr&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tr</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>tr -d '\r' &lt; dos-text-file &gt; unix-file</code></strong></pre><p><em class="replaceable"><code>dos-text-file</code></em> is the file
	    containing DOS text while
	    <em class="replaceable"><code>unix-file</code></em> will contain the
	    converted output.  This can be quite a bit faster than
	    using <code class="command">perl</code>.</p><p>Yet another way to reformat DOS text files is to use
	    the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/converters/dosunix/pkg-descr">converters/dosunix</a> port from the
	    Ports Collection.  Consult its documentation about the
	    details.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49555448"></a><a id="reread-rc"></a><p><strong>10.14.</strong></p></td><td align="left" valign="top"><p>How do I re-read <code class="filename">/etc/rc.conf</code> and
	    re-start <code class="filename">/etc/rc</code> without a
	    reboot?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Go into single-user mode and then back to multi-user
	    mode:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>shutdown now</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>return</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49572984"></a><a id="release-candidate"></a><p><strong>10.15.</strong></p></td><td align="left" valign="top"><p>I tried to update my system to the latest
	    <span class="emphasis"><em>-STABLE</em></span>, but got
	    <span class="emphasis"><em>-BETA<em class="replaceable"><code>x</code></em></em></span>,
	    <span class="emphasis"><em>-RC</em></span> or
	    <span class="emphasis"><em>-PRERELEASE</em></span>!  What is going
	    on?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: it is just a name.
	    <span class="emphasis"><em>RC</em></span> stands for <span class="quote">&#8220;<span class="quote">Release
	      Candidate</span>&#8221;</span>.  It signifies that a release is
	    imminent.  In FreeBSD, <span class="emphasis"><em>-PRERELEASE</em></span> is
	    typically synonymous with the code freeze before a
	    release.  (For some releases, the
	    <span class="emphasis"><em>-BETA</em></span> label was used in the same way
	    as <span class="emphasis"><em>-PRERELEASE</em></span>.)</p><p>Long answer: FreeBSD derives its releases from one of two
	    places.  Major, dot-zero, releases, such as 9.0-RELEASE
	    are branched from the head of the development stream,
	    commonly referred to as <a class="link" href="#current" title="1.8.">-CURRENT</a>.  Minor releases, such
	    as 6.3-RELEASE or 5.2-RELEASE, have been snapshots of the
	    active <a class="link" href="#stable" title="1.9.">-STABLE</a> branch.
	    Starting with 4.3-RELEASE, each release also now has its
	    own branch which can be tracked by people requiring an
	    extremely conservative rate of development (typically only
	    security advisories).</p><p>When a release is about to be made, the branch from
	    which it will be derived from has to undergo a certain
	    process.  Part of this process is a code freeze.  When a
	    code freeze is initiated, the name of the branch is
	    changed to reflect that it is about to become a release.
	    For example, if the branch used to be called 6.2-STABLE,
	    its name will be changed to 6.3-PRERELEASE to signify the
	    code freeze and signify that extra pre-release testing
	    should be happening.  Bug fixes can still be committed to
	    be part of the release.  When the source code is in shape
	    for the release the name will be changed to 6.3-RC to
	    signify that a release is about to be made from it.  Once
	    in the RC stage, only the most critical bugs found can be
	    fixed.  Once the release (6.3-RELEASE in this example) and
	    release branch have been made, the branch will be renamed
	    to 6.3-STABLE.</p><p>For more information on version numbers and the
	    various Subversion branches, refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/releng/article.html" target="_top">Release
	      Engineering</a> article.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49581432"></a><a id="kernel-chflag-failure"></a><p><strong>10.16.</strong></p></td><td align="left" valign="top"><p>I tried to install a new kernel, and the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a> failed.  How do I get around this?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: the security level is
	    greater than 0.  Reboot directly to single-user mode to
	    install the kernel.</p><p>Long answer: FreeBSD disallows changing system flags at
	    security levels greater than 0.  To check the current
	    security level:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>The security level cannot be lowered in multi-user
	    mode, so boot to single-user mode to install the kernel,
	    or change the security level in
	    <code class="filename">/etc/rc.conf</code> then reboot.  See the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page for details on
	    <code class="literal">securelevel</code>, and see
	    <code class="filename">/etc/defaults/rc.conf</code> and the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> manual page for more information on
	    <code class="filename">rc.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49597304"></a><a id="kernel-securelevel-time"></a><p><strong>10.17.</strong></p></td><td align="left" valign="top"><p>I cannot change the time on my system by more than one
	    second!  How do I get around this?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: the system is at a security level
	    greater than 1.  Reboot directly to single-user mode to
	    change the date.</p><p>Long answer: FreeBSD disallows changing the time by more
	    that one second at security levels greater than 1.  To
	    check the security level:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>The security level cannot be lowered in multi-user
	    mode.  Either boot to single-user mode to change the date
	    or change the security level in
	    <code class="filename">/etc/rc.conf</code> and reboot.  See the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page for details on
	    <code class="literal">securelevel</code>, and see
	    <code class="filename">/etc/defaults/rc.conf</code> and the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> manual page for more information on
	    <code class="filename">rc.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49604088"></a><a id="statd-mem-leak"></a><p><strong>10.18.</strong></p></td><td align="left" valign="top"><p>Why is <code class="command">rpc.statd</code> using 256 MB
	    of memory?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No, there is no memory leak, and it is not using
	    256 MB of memory.  For convenience,
	    <code class="command">rpc.statd</code> maps an obscene amount of
	    memory into its address space.  There is nothing terribly
	    wrong with this from a technical standpoint; it just
	    throws off things like <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>.</p><p><a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rpc.statd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rpc.statd</span>(8)</span></a> maps its status file (resident on
	    <code class="filename">/var</code>) into its address space; to save
	    worrying about remapping the status file later when it
	    needs to grow, it maps the status file with a generous
	    size.  This is very evident from the source code, where
	    one can see that the length argument to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=mmap&amp;sektion=2&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">mmap</span>(2)</span></a> is
	    <code class="literal">0x10000000</code>, or one sixteenth of the
	    address space on an IA32, or exactly 256 MB.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49611000"></a><a id="unsetting-schg"></a><p><strong>10.19.</strong></p></td><td align="left" valign="top"><p>Why can I not unset the <code class="literal">schg</code> file
	    flag?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The system is running at securelevel greater than 0.
	    Lower the securelevel and try again.  For more
	    information, see <a class="link" href="#securelevel" title="13.2.">the
	      <acronym class="acronym">FAQ</acronym> entry on securelevel</a> and
	    the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49619320"></a><a id="vnlru"></a><p><strong>10.20.</strong></p></td><td align="left" valign="top"><p>What is <code class="literal">vnlru</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">vnlru</code> flushes and frees vnodes when
	    the system hits the <code class="varname">kern.maxvnodes</code>
	    limit.  This kernel thread sits mostly idle, and only
	    activates when there is a huge amount of RAM and users are
	    accessing tens of thousands of tiny files.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49622392"></a><a id="top-memory-states"></a><p><strong>10.21.</strong></p></td><td align="left" valign="top"><p>What do the various memory states displayed by
	    <code class="command">top</code> mean?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">Active</code>: pages recently
		statistically used.</p></li><li class="listitem"><p><code class="literal">Inactive</code>: pages recently
		statistically unused.</p></li><li class="listitem"><p><code class="literal">Laundry</code>: pages recently
		statistically unused but known to be dirty, that is,
                whose contents needs to be paged out before they can
		be reused.</p></li><li class="listitem"><p><code class="literal">Free</code>: pages without data
		content, which can be immediately reused.</p></li><li class="listitem"><p><code class="literal">Wired</code>: pages that are fixed
		into memory, usually for kernel purposes, but also
		sometimes for special use in processes.</p></li></ul></div><p>Pages are most often written to disk (sort of a VM
	    sync) when they are in the laundry state, but active or
	    inactive pages can also be synced.  This depends upon the
	    CPU tracking of the modified bit being available, and in
	    certain situations there can be an advantage for a block
	    of VM pages to be synced, regardless of the queue they
	    belong to.  In most common cases, it is best to think of
	    the laundry queue as a queue of relatively unused
	    pages that might or might not be in the process of being
	    written to disk.  The inactive queue contains a mix of
	    clean and dirty pages; clean pages near the head of the
	    queue are reclaimed immediately to alleviate a free page
	    shortage, and dirty pages are moved to the laundry queue
	    for deferred processing.</p><p>There are some other flags (e.g., busy flag or busy
	    count) that might modify some of the described
	    rules.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49635320"></a><a id="free-memory-amount"></a><p><strong>10.22.</strong></p></td><td align="left" valign="top"><p>How much free memory is available?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are a couple of kinds of <span class="quote">&#8220;<span class="quote">free
	    memory</span>&#8221;</span>.  The most common is the amount of memory
	    immediately available without reclaiming memory already
	    in use.  That is the size of the free pages queue plus
	    some other reserved pages.  This amount is exported by the
	    <code class="literal">vm.stats.vm.v_free_count</code>
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>, shown, for instance, by <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>.
	    Another kind of <span class="quote">&#8220;<span class="quote">free memory</span>&#8221;</span> is
	    the total amount of virtual memory available to userland
	    processes, which depends on the sum of swap space and
	    usable memory.  Other kinds of <span class="quote">&#8220;<span class="quote">free memory</span>&#8221;</span>
	    descriptions are also possible, but it is relatively
	    useless to define these, but rather it is important to
	    make sure that the paging rate is kept low, and to avoid
	    running out of swap space.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49652984"></a><a id="var-empty"></a><p><strong>10.23.</strong></p></td><td align="left" valign="top"><p>What is <code class="filename">/var/empty</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="filename">/var/empty</code> is a directory that
	    the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> program uses when performing privilege
	    separation.  The <code class="filename">/var/empty</code>
	    directory is empty, owned by <code class="systemitem">root</code> and has the
	    <code class="literal">schg</code> flag set.  This directory should
	    not be deleted.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49661816"></a><a id="newsyslog-expectations"></a><p><strong>10.24.</strong></p></td><td align="left" valign="top"><p>I just changed
	    <code class="filename">/etc/newsyslog.conf</code>.  How can I check
	    if it does what I expect?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>To see what <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> will do, use the
	    following:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>newsyslog -nrvv</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49670008"></a><a id="timezone"></a><p><strong>10.25.</strong></p></td><td align="left" valign="top"><p>My time is wrong, how can I change the
	    timezone?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tzsetup&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tzsetup</span>(8)</span></a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="x"></a>Chapter 11. The X Window System and Virtual Consoles</h1></div></div></div><div class="qandaset"><a id="idp49673848"></a><dl><dt>11.1. <a href="#idp49674104">What is the X Window System?</a></dt><dt>11.2. <a href="#idp49679864">I want to run Xorg, how do I go about it?</a></dt><dt>11.3. <a href="#idp49685496">I tried to run X, but I get a
	    No devices detected. error when I
	    type startx.  What do I do now?</a></dt><dt>11.4. <a href="#idp49711096">Why does my mouse not work with X?</a></dt><dt>11.5. <a href="#idp49748984">My mouse has a fancy wheel.  Can I use it in X?</a></dt><dt>11.6. <a href="#idp49758584">My laptop has a Synaptics touchpad.  Can I use it in
	    X?</a></dt><dt>11.7. <a href="#idp49765240">How do I use remote X displays?</a></dt><dt>11.8. <a href="#idp49769336">What is a virtual console and how do I make
	    more?</a></dt><dt>11.9. <a href="#idp49812088">How do I access the virtual consoles from X?</a></dt><dt>11.10. <a href="#idp49820024">How do I start XDM on
	    boot?</a></dt><dt>11.11. <a href="#idp49855480">Why do I get Couldn't open
	      console when I run
	    xconsole?</a></dt><dt>11.12. <a href="#idp49868536">Why does my PS/2 mouse misbehave under X?</a></dt><dt>11.13. <a href="#idp49872632">How do I reverse the mouse buttons?</a></dt><dt>11.14. <a href="#idp49879928">How do I install a splash screen and where do I find
	    them?</a></dt><dt>11.15. <a href="#idp49882488">Can I use the Windows keys on my
	    keyboard in X?</a></dt><dt>11.16. <a href="#idp49906936">How can I get 3D hardware acceleration for
	    OpenGL®?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49674104"></a><a id="whatis-X"></a><p><strong>11.1.</strong></p></td><td align="left" valign="top"><p>What is the X Window System?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The X Window System (commonly <code class="literal">X11</code>)
	    is the most widely available windowing system capable of
	    running on <span class="trademark">UNIX</span>® or <span class="trademark">UNIX</span>® like systems, including
	    FreeBSD.  <a class="link" href="http://www.x.org/wiki/" target="_top">The X.Org
	      Foundation</a> administers the <a class="link" href="http://en.wikipedia.org/wiki/X_Window_System_core_protocol" target="_top">X
	      protocol standards</a>, with the current reference
	    implementation, version 11 release 7.7, so
	    references are often shortened to
	    <code class="literal">X11</code>.</p><p>Many implementations are available for different
	    architectures and operating systems.  An implementation of
	    the server-side code is properly known as an <code class="literal">X
	      server</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49679864"></a><a id="running-X"></a><p><strong>11.2.</strong></p></td><td align="left" valign="top"><p>I want to run Xorg, how do I go about it?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>To install Xorg do one of the following:</p><p>Use the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11/xorg/pkg-descr">x11/xorg</a>
	    meta-port, which builds and installs every Xorg
	    component.</p><p>Use <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11/xorg-minimal/pkg-descr">x11/xorg-minimal</a>, which builds
	    and installs only the necessary Xorg components.</p><p>Install Xorg from FreeBSD packages:</p><pre class="screen"><strong class="userinput"><code><code class="prompt">#</code> pkg install xorg</code></strong></pre><p>After the installation of Xorg, follow the
	    instructions from the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/x-config.html" target="_top">X11
	      Configuration</a> section of the FreeBSD
	    Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49685496"></a><a id="running-X-securelevels"></a><p><strong>11.3.</strong></p></td><td align="left" valign="top"><p>I <span class="emphasis"><em>tried</em></span> to run X, but I get a
	    <span class="errorname">No devices detected.</span> error when I
	    type <code class="command">startx</code>.  What do I do now?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The system is probably running at a raised
	    <code class="literal">securelevel</code>.  It is not possible to
	    start X at a raised <code class="literal">securelevel</code> because
	    X requires write access to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=io&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">io</span>(4)</span></a>.  For more
	    information, see at the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page.</p><p>There are two solutions to the problem: set the
	    <code class="literal">securelevel</code> back down to zero or run
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> (or an alternative display manager) at boot
	    time before the <code class="literal">securelevel</code> is
	    raised.</p><p>See <a class="xref" href="#xdm-boot" title="11.10.">Q: 11.10</a> for more information
	    about running <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a> at boot time.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49711096"></a><a id="x-and-moused"></a><p><strong>11.4.</strong></p></td><td align="left" valign="top"><p>Why does my mouse not work with X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vt</span>(4)</span></a>, the default console
	    driver, FreeBSD can be configured to support a mouse pointer
	    on each virtual screen.  To avoid conflicting with X,
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vt</span>(4)</span></a> supports a virtual device called
	    <code class="filename">/dev/sysmouse</code>.  All mouse events
	    received from the real mouse device are written to the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysmouse&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysmouse</span>(4)</span></a> device via <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>.  To use the
	    mouse on one or more virtual consoles,
	    <span class="emphasis"><em>and</em></span> use X, see <a class="xref" href="#moused" title="4.4.1.">Q: 4.4.1</a> and set up
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=moused&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">moused</span>(8)</span></a>.</p><p>Then edit <code class="filename">/etc/X11/xorg.conf</code> and
	    make sure the following lines exist:</p><pre class="programlisting">Section "InputDevice"
   Option          "Protocol" "SysMouse"
   Option          "Device" "/dev/sysmouse"
.....</pre><p>Starting with Xorg version 7.4, the
	    <code class="literal">InputDevice</code> sections in
	    <code class="filename">xorg.conf</code> are ignored in favor of
	    autodetected devices.  To restore the old behavior, add
	    the following line to the <code class="literal">ServerLayout</code>
	    or <code class="literal">ServerFlags</code> section:</p><pre class="programlisting">Option "AutoAddDevices" "false"</pre><p>Some people prefer to use
	    <code class="filename">/dev/mouse</code> under X.  To make this
	    work, <code class="filename">/dev/mouse</code> should be linked
	    to <code class="filename">/dev/sysmouse</code> (see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysmouse&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysmouse</span>(4)</span></a>) by adding the following line to
	    <code class="filename">/etc/devfs.conf</code> (see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=devfs.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">devfs.conf</span>(5)</span></a>):</p><pre class="programlisting">link    sysmouse    mouse</pre><p>This link can be created by restarting <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a>
	    with the following command (as <code class="systemitem">root</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service devfs restart</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49748984"></a><a id="x-and-wheel"></a><p><strong>11.5.</strong></p></td><td align="left" valign="top"><p>My mouse has a fancy wheel.  Can I use it in X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, if X is configured for a 5 button mouse.  To
	    do this, add the lines <code class="literal">Buttons 5</code>
	    and <code class="literal">ZAxisMapping 4 5</code> to the
	    <span class="quote">&#8220;<span class="quote">InputDevice</span>&#8221;</span> section of
	    <code class="filename">/etc/X11/xorg.conf</code>, as seen in this
	    example:</p><pre class="programlisting">Section "InputDevice"
   Identifier      "Mouse1"
   Driver          "mouse"
   Option          "Protocol" "auto"
   Option          "Device" "/dev/sysmouse"
   Option          "Buttons" "5"
   Option          "ZAxisMapping" "4 5"
EndSection</pre><p>The mouse can be enabled in
	      <span class="application">Emacs</span> by adding these
	      lines to <code class="filename">~/.emacs</code>:</p><pre class="programlisting">;; wheel mouse
(global-set-key [mouse-4] 'scroll-down)
(global-set-key [mouse-5] 'scroll-up)</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49758584"></a><a id="x-and-synaptic"></a><p><strong>11.6.</strong></p></td><td align="left" valign="top"><p>My laptop has a Synaptics touchpad.  Can I use it in
	    X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, after configuring a few things to make
	    it work.</p><p>In order to use the Xorg synaptics driver,
	    first remove <code class="literal">moused_enable</code> from
	    <code class="filename">rc.conf</code>.</p><p>To enable synaptics, add the following line to
	    <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">hw.psm.synaptics_support="1"</pre><p>Add the following to
	    <code class="filename">/etc/X11/xorg.conf</code>:</p><pre class="programlisting">Section "InputDevice"
Identifier  "Touchpad0"
Driver      "synaptics"
Option      "Protocol" "psm"
Option      "Device" "/dev/psm0"
EndSection</pre><p>And be sure to add the following into the
	    <span class="quote">&#8220;<span class="quote">ServerLayout</span>&#8221;</span> section:</p><pre class="programlisting">InputDevice    "Touchpad0" "SendCoreEvents"</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49765240"></a><a id="no-remote-x11"></a><p><strong>11.7.</strong></p></td><td align="left" valign="top"><p>How do I use remote X displays?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>For security reasons, the default setting is to not
	    allow a machine to remotely open a window.</p><p>To enable this feature, start
	    <span class="application">X</span> with the optional
	    <code class="option">-listen_tcp</code> argument:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>startx -listen_tcp</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49769336"></a><a id="virtual-console"></a><p><strong>11.8.</strong></p></td><td align="left" valign="top"><p>What is a virtual console and how do I make
	    more?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Virtual consoles provide
	    several simultaneous sessions on the same machine without
	    doing anything complicated like setting up a network or
	    running X.</p><p>When the system starts, it will display a login prompt
	    on the monitor after displaying all the boot messages.
	    Type in your login name and password to
	    start working on the first virtual
	    console.</p><p>To start another
	    session, perhaps to look at documentation for a program
	    or to read mail while waiting for an
	    FTP transfer to finish,
	    hold down <span class="keycap"><strong>Alt</strong></span> and press
	    <span class="keycap"><strong>F2</strong></span>.  This will display the login prompt
	    for the second virtual
	      console.  To go back to the
	    original session, press <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>.</p><p>The default FreeBSD installation has eight virtual
	    consoles enabled.  <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>,
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span>,
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F3</strong></span>,
	    and so on will switch between these virtual
	    consoles.</p><p>To enable more of virtual consoles, edit
	    <code class="filename">/etc/ttys</code> (see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>) and add
	    entries for <code class="filename">ttyv8</code> to
	    <code class="filename">ttyvc</code>, after the comment on
	    <span class="quote">&#8220;<span class="quote">Virtual terminals</span>&#8221;</span>:</p><pre class="programlisting"># Edit the existing entry for ttyv8 in /etc/ttys and change
# "off" to "on".
ttyv8   "/usr/libexec/getty Pc"         xterm  on secure
ttyv9   "/usr/libexec/getty Pc"         xterm  on secure
ttyva   "/usr/libexec/getty Pc"         xterm  on secure
ttyvb   "/usr/libexec/getty Pc"         xterm  on secure</pre><p>The more virtual
	    terminals, the more resources that are used.  This can be
	    problematic on systems with 8 MB RAM or less.
	    Consider changing <code class="literal">secure</code> to
	    <code class="literal">insecure</code>.</p><div xmlns="" class="important"><h3 class="admontitle">Important: </h3><p xmlns="http://www.w3.org/1999/xhtml">In order to run an X server, at least one virtual
	      terminal must be left to <code class="literal">off</code> for it
	      to use.  This means that only eleven of the Alt-function
	      keys can be used as virtual consoles so that one is left
	      for the X server.</p></div><p>For example, to run X and eleven virtual consoles, the
	    setting for virtual terminal 12 should be:</p><pre class="programlisting">ttyvb   "/usr/libexec/getty Pc"         xterm  off secure</pre><p>The easiest way to activate the
	    virtual consoles is to reboot.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49812088"></a><a id="vty-from-x"></a><p><strong>11.9.</strong></p></td><td align="left" valign="top"><p>How do I access the virtual consoles from X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F<em class="replaceable"><code>n</code></em></strong></span>
	    to switch back to a virtual console.  Press <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>
	    to return to the first virtual console.</p><p>Once at a text console, use
	    <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F<em class="replaceable"><code>n</code></em></strong></span>
	    to move between them.</p><p>To return to the X session, switch to the
	    virtual console running X.  If X was started from the
	    command line using <code class="command">startx</code>,
	    the X session will attach to the next unused virtual
	    console, not the text console from which it was invoked.
	    For eight active virtual terminals, X will
	    run on the ninth, so use <span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F9</strong></span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49820024"></a><a id="xdm-boot"></a><p><strong>11.10.</strong></p></td><td align="left" valign="top"><p>How do I start <span class="application">XDM</span> on
	    boot?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are two schools of thought on how to start
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xdm</span>(1)</span></a>.  One school starts <code class="command">xdm</code>
	    from <code class="filename">/etc/ttys</code> (see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>)
	    using the supplied example, while the other runs
	    <code class="command">xdm</code> from
	    <code class="filename">rc.local</code> (see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>) or from an
	    <code class="filename">X</code> script in
	    <code class="filename">/usr/local/etc/rc.d</code>.  Both are
	    equally valid, and one may work in situations where the
	    other does not.  In both cases the result is the same: X
	    will pop up a graphical login prompt.</p><p>The <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a> method has the advantage of
	    documenting which vty X will start on and passing the
	    responsibility of restarting the X server on logout to
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.  The <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> method makes it easy to
	    <code class="command">kill</code> <code class="command">xdm</code> if there is
	    a problem starting the X server.</p><p>If loaded from <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>, <code class="command">xdm</code>
	    should be started without any arguments.
	    <code class="command">xdm</code> must start
	    <span class="emphasis"><em>after</em></span> <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a> runs, or else
	    <code class="command">getty</code> and <code class="command">xdm</code> will
	    conflict, locking out the console.  The best way around
	    this is to have the script sleep 10 seconds or so then
	    launch <code class="command">xdm</code>.</p><p>When starting <code class="command">xdm</code> from
	    <code class="filename">/etc/ttys</code>, there still is a chance of
	    conflict between <code class="command">xdm</code> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=getty&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">getty</span>(8)</span></a>.
	    One way to avoid this is to add the <code class="literal">vt</code>
	    number in
	    <code class="filename">/usr/local/lib/X11/xdm/Xservers</code>:</p><pre class="programlisting">:0 local /usr/local/bin/X vt4</pre><p>The above example will direct the X server to run in
	    <code class="filename">/dev/ttyv3</code>.  Note the number is
	    offset by one.  The X server counts the vty from one,
	    whereas the FreeBSD kernel numbers the vty from zero.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49855480"></a><a id="xconsole-failure"></a><p><strong>11.11.</strong></p></td><td align="left" valign="top"><p>Why do I get <span class="errorname">Couldn't open
	      console</span> when I run
	    <code class="command">xconsole</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When <span class="application">X</span> is started with
	    <code class="command">startx</code>, the permissions on
	    <code class="filename">/dev/console</code> will
	    <span class="emphasis"><em>not</em></span> get changed, resulting in things
	    like <code class="command">xterm -C</code> and
	    <code class="command">xconsole</code> not working.</p><p>This is because of the way console permissions are set
	    by default.  On a multi-user system, one does not
	    necessarily want just any user to be able to write on the
	    system console.  For users who are logging directly onto a
	    machine with a VTY, the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fbtab&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fbtab</span>(5)</span></a> file exists to solve
	    such problems.</p><p>In a nutshell, make sure an uncommented line of the
	    form is in <code class="filename">/etc/fbtab</code> (see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=fbtab&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">fbtab</span>(5)</span></a>):</p><pre class="programlisting">/dev/ttyv0 0600 /dev/console</pre><p>It will ensure that whomever logs in on
	    <code class="filename">/dev/ttyv0</code> will own the
	    console.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49868536"></a><a id="ps2-x"></a><p><strong>11.12.</strong></p></td><td align="left" valign="top"><p>Why does my PS/2 mouse misbehave under X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The mouse and the mouse driver may have become out of
	    synchronization.  In rare cases, the driver may also
	    erroneously report synchronization errors:</p><pre class="programlisting">psmintr: out of sync (xxxx != yyyy)</pre><p>If this happens, disable the synchronization check
	    code by setting the driver flags for the PS/2 mouse driver
	    to <code class="literal">0x100</code>.  This can be easiest achieved
	    by adding <code class="literal">hint.psm.0.flags="0x100"</code> to
	    <code class="filename">/boot/loader.conf</code> and
	    rebooting.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49872632"></a><a id="mouse-button-reverse"></a><p><strong>11.13.</strong></p></td><td align="left" valign="top"><p>How do I reverse the mouse buttons?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Type
	    <code class="command">xmodmap -e "pointer = 3 2 1"</code>.  Add this
	    command to <code class="filename">~/.xinitrc</code> or
	    <code class="filename">~/.xsession</code> to make it happen
	    automatically.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49879928"></a><a id="install-splash"></a><p><strong>11.14.</strong></p></td><td align="left" valign="top"><p>How do I install a splash screen and where do I find
	    them?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The detailed answer for this question can be found in
	    the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/boot-splash.html" target="_top">Boot
	    Time Splash Screens</a> section of the FreeBSD
	    Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49882488"></a><a id="windows-keys"></a><p><strong>11.15.</strong></p></td><td align="left" valign="top"><p>Can I use the <span class="keycap"><strong>Windows</strong></span> keys on my
	    keyboard in X?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  Use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xmodmap&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xmodmap</span>(1)</span></a> to
	    define which functions the keys should perform.</p><p>Assuming all Windows keyboards are
	    standard, the keycodes for these three keys are the
	    following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="keycode">115</span> &#8212;
		<span class="keycap"><strong>Windows</strong></span> key, between the left-hand
		<span class="keycap"><strong>Ctrl</strong></span> and <span class="keycap"><strong>Alt</strong></span>
		keys</p></li><li class="listitem"><p><span class="keycode">116</span> &#8212;
		<span class="keycap"><strong>Windows</strong></span> key, to the right of
		<span class="keycap"><strong>AltGr</strong></span></p></li><li class="listitem"><p><span class="keycode">117</span> &#8212;
		<span class="keycap"><strong>Menu</strong></span>, to the left of the right-hand
		<span class="keycap"><strong>Ctrl</strong></span></p></li></ul></div><p>To have the left <span class="keycap"><strong>Windows</strong></span> key print a
	    comma, try this.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>xmodmap -e "keycode 115 = comma"</code></strong></pre><p>To have the <span class="keycap"><strong>Windows</strong></span> key-mappings
	    enabled automatically every time X is started, either put
	    the <code class="command">xmodmap</code> commands in
	    <code class="filename">~/.xinitrc</code> or, preferably, create
	    a <code class="filename">~/.xmodmaprc</code> and include the
	    <code class="command">xmodmap</code> options, one per line, then add
	    the following line to
	    <code class="filename">~/.xinitrc</code>:</p><pre class="programlisting">xmodmap $HOME/.xmodmaprc</pre><p>For example, to map the 3 keys to be
	    <span class="keycap"><strong>F13</strong></span>, <span class="keycap"><strong>F14</strong></span>, and
	    <span class="keycap"><strong>F15</strong></span>, respectively.  This would make it
	    easy to map them to useful functions within applications
	    or the window manager.</p><p>To do this, put the following in
	    <code class="filename">~/.xmodmaprc</code>.</p><pre class="programlisting">keycode 115 = F13
keycode 116 = F14
keycode 117 = F15</pre><p>For the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11-wm/fvwm2/pkg-descr">x11-wm/fvwm2</a> desktop
	    manager, one could map the keys so that
	    <span class="keycap"><strong>F13</strong></span> iconifies or de-iconifies the
	    window the cursor is in, <span class="keycap"><strong>F14</strong></span> brings the
	    window the cursor is in to the front or, if it is already
	    at the front, pushes it to the back, and
	    <span class="keycap"><strong>F15</strong></span> pops up the main Workplace
	    menu even if the cursor is not on the
	    desktop, which is useful when no part of
	    the desktop is visible.</p><p>The following entries in
	    <code class="filename">~/.fvwmrc</code> implement the
	    aforementioned setup:</p><pre class="programlisting">Key F13        FTIWS    A        Iconify
Key F14        FTIWS    A        RaiseLower
Key F15        A        A        Menu Workplace Nop</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49906936"></a><a id="x-3d-acceleration"></a><p><strong>11.16.</strong></p></td><td align="left" valign="top"><p>How can I get 3D hardware acceleration for
	    <span class="trademark">OpenGL</span>®?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The availability of 3D acceleration depends on the
	    version of Xorg and the type of video
	    chip.  For an nVidia chip, use
	    the binary drivers provided for FreeBSD by installing one of
	    the following ports:</p><p>The latest versions of nVidia cards are supported
	    by the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11/nvidia-driver/pkg-descr">x11/nvidia-driver</a>
	    port.</p><p>Older drivers are available as
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11/nvidia-driver-###/pkg-descr">x11/nvidia-driver-<em xmlns="http://www.w3.org/1999/xhtml" class="replaceable"><code>###</code></em></a></p><p>nVidia provides detailed information on which
	    card is supported by which driver on their web site: <code class="uri"><a class="uri" href="http://www.nvidia.com/object/IO_32667.html" target="_top">http://www.nvidia.com/object/IO_32667.html</a></code>.</p><p>For Matrox G200/G400, check the
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11-drivers/xf86-video-mga/pkg-descr">x11-drivers/xf86-video-mga</a>
	    port.</p><p>For ATI Rage 128 and Radeon see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ati&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ati</span>(4)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=r128&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">r128</span>(4)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=radeon&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">radeon</span>(4)</span></a>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="networking"></a>Chapter 12. Networking</h1></div></div></div><div class="qandaset"><a id="idp49961976"></a><dl><dt>12.1. <a href="#idp49962232">Where can I get information on &#8220;diskless
	      booting&#8221;?</a></dt><dt>12.2. <a href="#idp49965432">Can a FreeBSD box be used as a dedicated network
	    router?</a></dt><dt>12.3. <a href="#idp49968504">Does FreeBSD support NAT or Masquerading?</a></dt><dt>12.4. <a href="#idp49971576">How can I set up Ethernet aliases?</a></dt><dt>12.5. <a href="#idp49978616">Why can I not NFS-mount from a Linux® box?</a></dt><dt>12.6. <a href="#idp49982584">Why does mountd keep telling me it
	    can't change attributes and that I
	    have a bad exports list on my FreeBSD
	    NFS server?</a></dt><dt>12.7. <a href="#idp49656184">How do I enable IP multicast support?</a></dt><dt>12.8. <a href="#idp49991160">Why do I have to use the FQDN for hosts on my
	    site?</a></dt><dt>12.9. <a href="#idp49993720">Why do I get an error, Permission
	      denied, for all networking
	    operations?</a></dt><dt>12.10. <a href="#idp50000504">Why is my ipfw &#8220;fwd&#8221;
	    rule to redirect a service to another machine not
	    working?</a></dt><dt>12.11. <a href="#idp50013688">How can I redirect service requests from one machine
	    to another?</a></dt><dt>12.12. <a href="#idp50031736">Where can I get a bandwidth management tool?</a></dt><dt>12.13. <a href="#idp50049400">Why do I get /dev/bpf0: device not
	      configured?</a></dt><dt>12.14. <a href="#idp50053112">How do I mount a disk from a Windows® machine that is
	    on my network, like smbmount in Linux®?</a></dt><dt>12.15. <a href="#idp50057336">What are these messages about: Limiting
	      icmp/open port/closed port response in my
	    log files?</a></dt><dt>12.16. <a href="#idp50066808">What are these arp: unknown hardware
	      address format error messages?</a></dt><dt>12.17. <a href="#idp50069240">Why do I keep seeing messages like:
	    192.168.0.10 is on
	      fxp1 but got reply from 00:15:17:67:cf:82 on
	      rl0, and how do I disable it?</a></dt><dt>12.18. <a href="#idp50084728">How do I compile an IPv6 only kernel?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49962232"></a><a id="diskless-booting"></a><p><strong>12.1.</strong></p></td><td align="left" valign="top"><p>Where can I get information on <span class="quote">&#8220;<span class="quote">diskless
	      booting</span>&#8221;</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="quote">&#8220;<span class="quote">Diskless booting</span>&#8221;</span> means that the FreeBSD
	    box is booted over a network, and reads the necessary
	    files from a server instead of its hard disk.  For full
	    details, see <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/network-diskless.html" target="_top">the
	      Handbook entry on diskless booting</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49965432"></a><a id="router"></a><p><strong>12.2.</strong></p></td><td align="left" valign="top"><p>Can a FreeBSD box be used as a dedicated network
	    router?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  Refer to the Handbook entry on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/advanced-networking.html" target="_top">advanced
	      networking</a>, specifically the section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/network-routing.html" target="_top">routing
	      and gateways</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49968504"></a><a id="natd"></a><p><strong>12.3.</strong></p></td><td align="left" valign="top"><p>Does FreeBSD support NAT or Masquerading?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  For instructions on how to use NAT over a PPP
	    connection, see the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/userppp.html" target="_top">Handbook
	      entry on PPP</a>.  To use NAT over
	    some other sort of network connection, look at the
	    <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/firewalls-ipfw.html#network-natd" target="_top">natd</a>
	    section of the Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49971576"></a><a id="ethernet-aliases"></a><p><strong>12.4.</strong></p></td><td align="left" valign="top"><p>How can I set up Ethernet aliases?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If the alias is on the same subnet as an address
	    already configured on the interface, add
	    <code class="literal">netmask 0xffffffff</code> to this
	    command:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig <em class="replaceable"><code>ed0</code></em> alias <em class="replaceable"><code>192.0.2.2 </code></em>netmask 0xffffffff</code></strong></pre><p>Otherwise, specify the network address and
	    netmask as usual:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig <em class="replaceable"><code>ed0</code></em> alias <em class="replaceable"><code>172.16.141.5</code></em> netmask 0xffffff00</code></strong></pre><p>More information can be found in the FreeBSD <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-virtual-hosts.html" target="_top">Handbook</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49978616"></a><a id="nfs-linux"></a><p><strong>12.5.</strong></p></td><td align="left" valign="top"><p>Why can I not NFS-mount from a <span class="trademark">Linux</span>® box?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Some versions of the <span class="trademark">Linux</span>® NFS code only accept
	    mount requests from a privileged port; try to issue the
	    following command:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount -o -P linuxbox:/blah /mnt</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49982584"></a><a id="exports-errors"></a><p><strong>12.6.</strong></p></td><td align="left" valign="top"><p>Why does <code class="command">mountd</code> keep telling me it
	    <span class="errorname">can't change attributes</span> and that I
	    have a <span class="errorname">bad exports list</span> on my FreeBSD
	    NFS server?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The most frequent problem is not understanding the
	    correct format of <code class="filename">/etc/exports</code>.
	    Review <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=exports&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">exports</span>(5)</span></a> and the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/network-nfs.html" target="_top">NFS</a>
	    entry in the Handbook, especially the section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/network-nfs.html#configuring-nfs" target="_top">configuring
	      NFS</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49656184"></a><a id="ip-multicast"></a><p><strong>12.7.</strong></p></td><td align="left" valign="top"><p>How do I enable IP multicast support?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Install the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/net/mrouted/pkg-descr">net/mrouted</a> package
	    or port and add
	    <code class="literal">mrouted_enable="YES"</code> to
	    <code class="filename">/etc/rc.conf</code> start this service at
	    boot time.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49991160"></a><a id="fqdn-hosts"></a><p><strong>12.8.</strong></p></td><td align="left" valign="top"><p>Why do I have to use the FQDN for hosts on my
	    site?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the answer in the FreeBSD <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/mail-trouble.html" target="_top">Handbook</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49993720"></a><a id="network-permission-denied"></a><p><strong>12.9.</strong></p></td><td align="left" valign="top"><p>Why do I get an error, <span class="errorname">Permission
	      denied</span>, for all networking
	    operations?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If the kernel is compiled with the
	    <code class="literal">IPFIREWALL</code> option, be aware
	    that the default policy is to deny all packets that are
	    not explicitly allowed.</p><p>If the firewall is unintentionally misconfigured,
	    restore network operability by
	    typing the following as <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ipfw add 65534 allow all from any to any</code></strong></pre><p>Consider setting
	    <code class="literal">firewall_type="open"</code> in
	    <code class="filename">/etc/rc.conf</code>.</p><p>For further information on configuring this
	    firewall, see the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/firewalls-ipfw.html" target="_top">Handbook
	      chapter</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50000504"></a><a id="ipfw-fwd"></a><p><strong>12.10.</strong></p></td><td align="left" valign="top"><p>Why is my <code class="command">ipfw</code> <span class="quote">&#8220;<span class="quote">fwd</span>&#8221;</span>
	    rule to redirect a service to another machine not
	    working?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Possibly because network address translation (NAT) is
	    needed instead of just forwarding packets.  A
	    <span class="quote">&#8220;<span class="quote">fwd</span>&#8221;</span> rule only forwards packets, it does not
	    actually change the data inside the packet.  Consider this
	    rule:</p><pre class="screen">01000 fwd <em class="replaceable"><code>10.0.0.1</code></em> from any to <em class="replaceable"><code>foo 21</code></em></pre><p>When a packet with a destination address of
	    <em class="replaceable"><code>foo</code></em> arrives at the machine with
	    this rule, the packet is forwarded to
	    <em class="replaceable"><code>10.0.0.1</code></em>, but it still has the
	    destination address of <em class="replaceable"><code>foo</code></em>.
	    The destination address of the packet is
	    not changed to
	    <em class="replaceable"><code>10.0.0.1</code></em>.  Most machines would
	    probably drop a packet that they receive with a
	    destination address that is not their own.  Therefore,
	    using a <span class="quote">&#8220;<span class="quote">fwd</span>&#8221;</span> rule does not often work the
	    way the user expects.  This behavior is a feature and not
	    a bug.</p><p>See the <a class="link" href="#service-redirect" title="12.11."><acronym class="acronym">FAQ</acronym> about
	      redirecting services</a>, the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=natd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">natd</span>(8)</span></a> manual, or
	    one of the several port redirecting utilities in the <a class="link" href="../../../../ports/index.html" target="_top">Ports
	      Collection</a> for a correct way to do this.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50013688"></a><a id="service-redirect"></a><p><strong>12.11.</strong></p></td><td align="left" valign="top"><p>How can I redirect service requests from one machine
	    to another?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FTP and other service requests can be redirected with
	    the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/sysutils/socket/pkg-descr">sysutils/socket</a> package or port.
	    Replace the entry for the service in
	    <code class="filename">/etc/inetd.conf</code> to call
	    <code class="command">socket</code>, as seen in this example for
	    <span class="application">ftpd</span>:</p><pre class="programlisting">ftp stream tcp nowait nobody /usr/local/bin/socket socket <em class="replaceable"><code>ftp.example.com</code></em> <em class="replaceable"><code>ftp</code></em></pre><p>where <em class="replaceable"><code>ftp.example.com</code></em> and
	    <em class="replaceable"><code>ftp</code></em> are the host and port to
	    redirect to, respectively.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50031736"></a><a id="bandwidth-mgr-tool"></a><p><strong>12.12.</strong></p></td><td align="left" valign="top"><p>Where can I get a bandwidth management tool?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are three bandwidth management tools available
	    for FreeBSD.  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dummynet&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dummynet</span>(4)</span></a> is integrated into FreeBSD as
	    part of <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ipfw&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ipfw</span>(4)</span></a>.  <a class="link" href="http://www.sonycsl.co.jp/person/kjc/programs.html" target="_top">ALTQ</a>
	    has been integrated into FreeBSD as part of <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pf&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pf</span>(4)</span></a>.
	    Bandwidth Manager from <a class="link" href="http://www.etinc.com/" target="_top">Emerging
	      Technologies</a> is a commercial product.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50049400"></a><a id="bpf-not-configured"></a><p><strong>12.13.</strong></p></td><td align="left" valign="top"><p>Why do I get <span class="errorname">/dev/bpf0: device not
	      configured</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The running application requires the Berkeley
	    Packet Filter (<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=bpf&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">bpf</span>(4)</span></a>), but it was removed from a
	    custom kernel.  Add this to the kernel config file and
	    build a new kernel:</p><pre class="programlisting">device bpf        # Berkeley Packet Filter</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50053112"></a><a id="mount-smb-share"></a><p><strong>12.14.</strong></p></td><td align="left" valign="top"><p>How do I mount a disk from a <span class="trademark">Windows</span>® machine that is
	    on my network, like smbmount in <span class="trademark">Linux</span>®?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use the <span class="application">SMBFS</span> toolset.  It
	    includes a set of kernel modifications and a set of
	    userland programs.  The programs and information are
	    available as <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=mount_smbfs&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">mount_smbfs</span>(8)</span></a> in the base
	    system.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50057336"></a><a id="icmp-response-bw-limit"></a><p><strong>12.15.</strong></p></td><td align="left" valign="top"><p>What are these messages about: <span class="errorname">Limiting
	      icmp/open port/closed port response</span> in my
	    log files?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This kernel message indicates that some activity is
	    provoking it to send a large amount of ICMP or TCP reset
	    (RST) responses.  ICMP responses are
	    often generated as a result of attempted connections to
	    unused UDP ports.  TCP resets are generated as a result of
	    attempted connections to unopened TCP ports.  Among
	    others, these are the kinds of activities which may cause
	    these messages:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Brute-force denial of service (DoS) attacks (as
		opposed to single-packet attacks which exploit a
		specific vulnerability).</p></li><li class="listitem"><p>Port scans which attempt to connect to a large
		number of ports (as opposed to only trying a few
		well-known ports).</p></li></ul></div><p>The first number in the message indicates how many
	    packets the kernel would have sent if the limit was not in
	    place, and the second indicates the limit.  This limit
	    is controlled using
	    <code class="varname">net.inet.icmp.icmplim</code>.  This example
	    sets the limit to <code class="literal">300</code>
	    packets per second:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.icmp.icmplim=300</code></strong></pre><p>To disable these messages
	    without disabling response
	    limiting, use
	    <code class="varname">net.inet.icmp.icmplim_output</code>
	    to disable the output:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.icmp.icmplim_output=0</code></strong></pre><p>Finally, to disable response limiting completely,
	    set <code class="varname">net.inet.icmp.icmplim</code> to
	    <code class="literal">0</code>.  Disabling response limiting is
	    discouraged for the reasons listed above.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50066808"></a><a id="unknown-hw-addr-format"></a><p><strong>12.16.</strong></p></td><td align="left" valign="top"><p>What are these <span class="errorname">arp: unknown hardware
	      address format</span> error messages?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This means that some device on the local Ethernet is
	    using a MAC address in a format that FreeBSD does not
	    recognize.  This is probably caused by someone
	    experimenting with an Ethernet card somewhere else on the
	    network.  This is most commonly seen on cable modem
	    networks.  It is harmless, and should not affect the
	    performance of the FreeBSD system.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50069240"></a><a id="arp-wrong-iface"></a><p><strong>12.17.</strong></p></td><td align="left" valign="top"><p>Why do I keep seeing messages like:
	    <span class="errorname">192.168.0.10 is on
	      fxp1 but got reply from 00:15:17:67:cf:82 on
	      rl0</span>, and how do I disable it?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Because a packet is coming from outside the network
	    unexpectedly.  To disable them, set
	    <code class="varname">net.link.ether.inet.log_arp_wrong_iface</code>
	    to <code class="literal">0</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50084728"></a><a id="ipv6-only"></a><p><strong>12.18.</strong></p></td><td align="left" valign="top"><p>How do I compile an IPv6 only kernel?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Configure your kernel with these settings:

	    </p><pre class="screen">include GENERIC
ident GENERIC-IPV6ONLY
makeoptions MKMODULESENV+="WITHOUT_INET_SUPPORT="
nooptions INET
nodevice gre</pre></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="security"></a>Chapter 13. Security</h1></div></div></div><div class="qandaset"><a id="idp50088184"></a><dl><dt>13.1. <a href="#idp50088440">What is a sandbox?</a></dt><dt>13.2. <a href="#idp50108152">What is securelevel?</a></dt><dt>13.3. <a href="#idp50130680">What is this UID 0 toor account?  Have I been
	    compromised?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp50088440"></a><a id="sandbox"></a><p><strong>13.1.</strong></p></td><td align="left" valign="top"><p>What is a sandbox?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="quote">&#8220;<span class="quote">Sandbox</span>&#8221;</span> is a security term.  It can
	    mean two things:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A process which is placed inside a set of virtual
		walls that are designed to prevent someone who breaks
		into the process from being able to break into the
		wider system.</p><p>The process is only able to run inside the walls.
		Since nothing the process does in regards to executing
		code is supposed to be able to breach the walls, a
		detailed audit of its code is not needed in order to
		be able to say certain things about its
		security.</p><p>The walls might be a user ID, for example.
		This is the definition used in the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=security&amp;sektion=7&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">security</span>(7)</span></a>
		and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a> man pages.</p><p>Take the <code class="literal">ntalk</code> service, for
		example (see <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">inetd</span>(8)</span></a>).  This service used to run
		as user ID <code class="systemitem">root</code>.  Now it runs as
		user ID <code class="systemitem">tty</code>.  The <code class="systemitem">tty</code> user is a sandbox
		designed to make it more difficult for someone who has
		successfully hacked into the system via
		<code class="literal">ntalk</code> from being able to hack
		beyond that user ID.</p></li><li class="listitem"><p>A process which is placed inside a simulation of
		the machine.  It means that someone who is able to
		break into the process may believe that he can break
		into the wider machine but is, in fact, only breaking
		into a simulation of that machine and not modifying
		any real data.</p><p>The most common way to accomplish this is to build
		a simulated environment in a subdirectory and then run
		the processes in that directory chrooted so that
		<code class="filename">/</code> for that process is this
		directory, not the real <code class="filename">/</code> of the
		system).</p><p>Another common use is to mount an underlying file
		system read-only and then create a file system layer
		on top of it that gives a process a seemingly
		writeable view into that file system.  The process may
		believe it is able to write to those files, but only
		the process sees the effects &#8212; other processes
		in the system do not, necessarily.</p><p>An attempt is made to make this sort of sandbox so
		transparent that the user (or hacker) does not realize
		that he is sitting in it.</p></li></ul></div><p><span class="trademark">UNIX</span>® implements two core sandboxes.  One is at the
	    process level, and one is at the userid level.</p><p>Every <span class="trademark">UNIX</span>® process is completely firewalled off from
	    every other <span class="trademark">UNIX</span>® process.  One process cannot modify the
	    address space of another.</p><p>A <span class="trademark">UNIX</span>® process is owned by a particular userid.  If
	    the user ID is not the <code class="systemitem">root</code> user, it serves to
	    firewall the process off from processes owned by other
	    users.  The user ID is also used to firewall off
	    on-disk data.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50108152"></a><a id="securelevel"></a><p><strong>13.2.</strong></p></td><td align="left" valign="top"><p>What is securelevel?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">securelevel</code> is a security
	    mechanism implemented in the kernel.  When the securelevel
	    is positive, the kernel restricts certain tasks; not even
	    the superuser (<code class="systemitem">root</code>) is allowed to do
	    them.  The securelevel mechanism limits the ability
	    to:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Unset certain file flags, such as
		<code class="literal">schg</code> (the system immutable
		flag).</p></li><li class="listitem"><p>Write to kernel memory via
		<code class="filename">/dev/mem</code> and
		<code class="filename">/dev/kmem</code>.</p></li><li class="listitem"><p>Load kernel modules.</p></li><li class="listitem"><p>Alter firewall rules.</p></li></ul></div><p>To check the status of the securelevel on a running
	    system:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl -n kern.securelevel</code></strong></pre><p>The output contains the current value of the
	    securelevel.  If it is greater than 0, at
	    least some of the securelevel's protections are
	    enabled.</p><p>The securelevel of a running system cannot be lowered
	    as this would defeat its purpose.  If a task requires that
	    the securelevel be non-positive, change the
	    <code class="varname">kern_securelevel</code> and
	    <code class="varname">kern_securelevel_enable</code> variables in
	    <code class="filename">/etc/rc.conf</code> and reboot.</p><p>For more information on securelevel and the specific
	    things all the levels do, consult <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>.</p><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml">Securelevel is not a silver bullet; it has many
	      known deficiencies.  More often than not, it provides a
	      false sense of security.</p><p xmlns="http://www.w3.org/1999/xhtml">One of its biggest problems is that in order for it
	      to be at all effective, all files used in the boot
	      process up until the securelevel is set must be
	      protected.  If an attacker can get the system to execute
	      their code prior to the securelevel being set (which
	      happens quite late in the boot process since some things
	      the system must do at start-up cannot be done at an
	      elevated securelevel), its protections are invalidated.
	      While this task of protecting all files used in the boot
	      process is not technically impossible, if it is
	      achieved, system maintenance will become a nightmare
	      since one would have to take the system down, at least
	      to single-user mode, to modify a configuration
	      file.</p><p xmlns="http://www.w3.org/1999/xhtml">This point and others are often discussed on the
	      mailing lists, particularly the <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security" target="_top">FreeBSD security mailing list</a>.
	      Search the archives <a class="link" href="../../../../search/index.html" target="_top">here</a>
	      for an extensive discussion.  A more fine-grained
	      mechanism is preferred.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50130680"></a><a id="toor-account"></a><p><strong>13.3.</strong></p></td><td align="left" valign="top"><p>What is this UID 0 <code class="systemitem">toor</code> account?  Have I been
	    compromised?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Do not worry.  <code class="systemitem">toor</code> is an
	    <span class="quote">&#8220;<span class="quote">alternative</span>&#8221;</span> superuser account, where toor
	    is root spelled backwards.  It is intended to be used with
	    a non-standard shell so the default shell for <code class="systemitem">root</code> does not need to
	    change.  This is important as shells which are not part of
	    the base distribution, but are instead installed from
	    ports or packages, are installed in
	    <code class="filename">/usr/local/bin</code> which, by default,
	    resides on a different file system.  If <code class="systemitem">root</code>'s shell is located in
	    <code class="filename">/usr/local/bin</code> and the
	    file system
	    containing <code class="filename">/usr/local/bin</code>) is not
	    mounted, <code class="systemitem">root</code> will not be able to
	    log in to fix a problem and will have to reboot into
	    single-user mode in order to enter the path to a
	    shell.</p><p>Some people use <code class="systemitem">toor</code> for day-to-day
	    <code class="systemitem">root</code> tasks with
	    a non-standard shell, leaving <code class="systemitem">root</code>, with a standard
	    shell, for single-user mode or emergencies.  By default, a
	    user cannot log in using <code class="systemitem">toor</code> as it does not have a
	    password, so log in as <code class="systemitem">root</code> and set a password
	    for <code class="systemitem">toor</code> before
	    using it to login.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="serial"></a>Chapter 14. Serial Communications</h1></div></div></div><p>This section answers common questions about serial
      communications with FreeBSD.</p><div class="qandaset"><a id="idp50158200"></a><dl><dt>14.1. <a href="#idp50158456">How do I get the boot: prompt to show on the serial
	    console?</a></dt><dt>14.2. <a href="#idp50161016">How do I tell if FreeBSD found my serial ports or modem
	    cards?</a></dt><dt>14.3. <a href="#idp50178936">How do I access the serial ports on FreeBSD? (x86-specific)</a></dt><dt>14.4. <a href="#idp50189304">How do I enable support for a multi-port serial
	    card?</a></dt><dt>14.5. <a href="#idp49942264">Can I set the default serial parameters for a
	    port?</a></dt><dt>14.6. <a href="#idp49944824">Why can I not run tip or
	    cu?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp50158456"></a><a id="serial-console-prompt"></a><p><strong>14.1.</strong></p></td><td align="left" valign="top"><p>How do I get the boot: prompt to show on the serial
	    console?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/serialconsole-setup.html" target="_top">this
	      section of the Handbook</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50161016"></a><a id="found-serial"></a><p><strong>14.2.</strong></p></td><td align="left" valign="top"><p>How do I tell if FreeBSD found my serial ports or modem
	    cards?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As the FreeBSD kernel boots, it will probe for the serial
	    ports for which the kernel is configured.
	    Either watch the boot messages closely
	    or run this command after the system is up and
	    running:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>grep -E '^(sio|uart)[0-9]' &lt; /var/run/dmesg.boot</code></strong>
sio0: &lt;16550A-compatible COM port&gt; port 0x3f8-0x3ff irq 4 flags 0x10 on acpi0
sio0: type 16550A
sio1: &lt;16550A-compatible COM port&gt; port 0x2f8-0x2ff irq 3 on acpi0
sio1: type 16550A</pre><p>This example shows two serial ports.  The first is on
	    IRQ4, port address
	    <code class="literal">0x3f8</code>, and has a 16550A-type UART chip.
	    The second uses the same kind of chip but is on
	    IRQ3 and is at port address
	    <code class="literal">0x2f8</code>.  Internal modem cards are
	    treated just like serial ports, except that they
	    always have a modem attached to the
	    port.</p><p>The <code class="filename">GENERIC</code> kernel includes
	    support for two serial ports using the same IRQ and port
	    address settings in the above example.  If these settings
	    are not right for the system, or if there are more modem
	    cards or serial ports than the kernel is
	    configured for, reconfigure using the instructions in
	    <a class="link" href="#make-kernel" title="7.1.">building a kernel</a>
	    for more details.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50178936"></a><a id="access-serial-ports"></a><p><strong>14.3.</strong></p></td><td align="left" valign="top"><p>How do I access the serial ports on FreeBSD? (x86-specific)</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The third serial port, <code class="filename">sio2</code>,
	    or <code class="filename">COM3</code>,
	    is on <code class="filename">/dev/cuad2</code> for dial-out
	    devices, and on <code class="filename">/dev/ttyd2</code> for
	    dial-in devices.  What is the difference between these two
	    classes of devices?</p><p>When
	    opening <code class="filename">/dev/ttydX</code> in blocking mode,
	    a process will wait for the corresponding
	    <code class="filename">cuadX</code> device to become inactive, and
	    then wait for the carrier detect line to go active.  When
	    the <code class="filename">cuadX</code> device is opened, it makes
	    sure the serial port is not already in use by the
	    <code class="filename">ttydX</code> device.  If the port is
	    available, it steals it from the
	    <code class="filename">ttydX</code> device.  Also, the
	    <code class="filename">cuadX</code> device does not care about
	    carrier detect.  With this scheme and an auto-answer
	    modem, remote users can log in and local users can still
	    dial out with the same modem and the system will take care
	    of all the conflicts.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50189304"></a><a id="enable-multiport-serial"></a><p><strong>14.4.</strong></p></td><td align="left" valign="top"><p>How do I enable support for a multi-port serial
	    card?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The section on kernel configuration provides
	    information about configuring the kernel.  For a
	    multi-port serial card, place an <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sio&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sio</span>(4)</span></a> line for each
	    serial port on the card in the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=device.hints&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">device.hints</span>(5)</span></a> file.
	    But place the IRQ specifiers on only one of the entries.
	    All of the ports on the card should share one IRQ.  For
	    consistency, use the last serial port to specify the IRQ.
	    Also, specify the following option in the kernel
	    configuration file:</p><pre class="programlisting">options COM_MULTIPORT</pre><p>The following <code class="filename">/boot/device.hints</code>
	    example is for an AST 4-port serial card on
	    IRQ 12:</p><pre class="programlisting">hint.sio.4.at="isa"
hint.sio.4.port="0x2a0"
hint.sio.4.flags="0x701"
hint.sio.5.at="isa"
hint.sio.5.port="0x2a8"
hint.sio.5.flags="0x701"
hint.sio.6.at="isa"
hint.sio.6.port="0x2b0"
hint.sio.6.flags="0x701"
hint.sio.7.at="isa"
hint.sio.7.port="0x2b8"
hint.sio.7.flags="0x701"
hint.sio.7.irq="12"</pre><p>The flags indicate that the master port has minor
	    number <code class="literal">7</code> (<code class="literal">0x700</code>),
	    and all the ports share an IRQ
	    (<code class="literal">0x001</code>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49942264"></a><a id="default-serial-params"></a><p><strong>14.5.</strong></p></td><td align="left" valign="top"><p>Can I set the default serial parameters for a
	    port?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/serial.html#serial-hw-config" target="_top">Serial
	      Communications</a> section in the FreeBSD
	    Handbook.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49944824"></a><a id="cannot-tip"></a><p><strong>14.6.</strong></p></td><td align="left" valign="top"><p>Why can I not run <code class="command">tip</code> or
	    <code class="command">cu</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The built-in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> and
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> utilities can only access the
	    <code class="filename">/var/spool/lock</code> directory via user
	    <code class="systemitem">uucp</code> and group
	    <code class="systemitem">dialer</code>.
	    Use the <code class="systemitem">dialer</code> group to control
	    who has access to the modem or remote systems by adding
	    user accounts to <code class="systemitem">dialer</code>.</p><p>Alternatively, everyone can be configured to run
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tip&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tip</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=cu&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">cu</span>(1)</span></a> by typing:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/cu</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 4511 /usr/bin/tip</code></strong></pre></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="misc"></a>Chapter 15. Miscellaneous Questions</h1></div></div></div><div class="qandaset"><a id="idp49956216"></a><dl><dt>15.1. <a href="#idp49956472">FreeBSD uses a lot of swap space even when the computer
	    has free memory left.  Why?</a></dt><dt>15.2. <a href="#idp49958904">Why does top show very little free
	    memory even when I have very few programs running?</a></dt><dt>15.3. <a href="#idp50206072">Why will chmod not change the
	    permissions on symlinks?</a></dt><dt>15.4. <a href="#idp50235640">Can I run DOS binaries under FreeBSD?</a></dt><dt>15.5. <a href="#idp50240120">What do I need to do to translate a FreeBSD document into
	    my native language?</a></dt><dt>15.6. <a href="#idp50242936">Why does my email to any address at FreeBSD.org
	    bounce?</a></dt><dt>15.7. <a href="#idp50256504">Where can I find a free FreeBSD account?</a></dt><dt>15.8. <a href="#idp50262264">What is the cute little red guy's name?</a></dt><dt>15.9. <a href="#idp50266744">Can I use the BSD daemon image?</a></dt><dt>15.10. <a href="#idp50282872">Do you have any BSD daemon images I could use?</a></dt><dt>15.11. <a href="#idp50285304">I have seen an acronym or other term on the mailing
	    lists and I do not understand what it means.  Where should
	    I look?</a></dt><dt>15.12. <a href="#idp50287864">Why should I care what color the bikeshed is?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp49956472"></a><a id="more-swap"></a><p><strong>15.1.</strong></p></td><td align="left" valign="top"><p>FreeBSD uses a lot of swap space even when the computer
	    has free memory left.  Why?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>FreeBSD will proactively move entirely idle, unused pages
	    of main memory into swap in order to make more main memory
	    available for active use.  This heavy use of swap is
	    balanced by using the extra free memory for
	    caching.</p><p>Note that while FreeBSD is proactive in this regard, it
	    does not arbitrarily decide to swap pages when the system
	    is truly idle.  Thus, the system will not be all
	    paged out after leaving it
	    idle overnight.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp49958904"></a><a id="top-freemem"></a><p><strong>15.2.</strong></p></td><td align="left" valign="top"><p>Why does <code class="command">top</code> show very little free
	    memory even when I have very few programs running?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The simple answer is that free memory is wasted
	    memory.  Any memory that programs do not actively
	    allocate is used within the FreeBSD kernel as disk cache.
	    The values shown by <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> labeled as
	    <code class="literal">Inact</code> and <code class="literal">Laundry</code>
	    are cached data at different
	    aging levels.  This cached data means the system does not
	    have to access a slow disk again for data it has accessed
	    recently, thus increasing overall performance.  In
	    general, a low value shown for <code class="literal">Free</code>
	    memory in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> is good, provided it is not
	    <span class="emphasis"><em>very</em></span> low.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50206072"></a><a id="chmod-symlinks"></a><p><strong>15.3.</strong></p></td><td align="left" valign="top"><p>Why will <code class="command">chmod</code> not change the
	    permissions on symlinks?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Symlinks do not have permissions, and by default,
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> will follow symlinks to change the
	    permissions on the source file, if possible.  For
	    the file, <code class="filename">foo</code> with a symlink named
	    <code class="filename">bar</code>, this command
	    will always succeed.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod g-w bar</code></strong></pre><p>However, the permissions on <code class="filename">bar</code>
	    will not have changed.</p><p>When changing modes of the file hierarchies rooted in
	    the files instead of the files themselves, use
	    either <code class="option">-H</code> or <code class="option">-L</code> together
	    with <code class="option">-R</code> to make this work.  See
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=symlink&amp;sektion=7&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">symlink</span>(7)</span></a> for more
	    information.</p><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="option">-R</code> does a
	      <span class="emphasis"><em>recursive</em></span> <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.  Be
	      careful about specifying directories or symlinks to
	      directories to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.  To change the
	      permissions of a directory referenced by a symlink, use
	      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> without any options and follow the symlink
	      with a trailing slash (<code class="filename">/</code>).  For
	      example, if <code class="filename">foo</code> is a symlink to
	      directory <code class="filename">bar</code>, to
	      change the permissions of <code class="filename">foo</code>
	      (actually <code class="filename">bar</code>), do
	      something like:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod 555 foo/</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">With the trailing slash, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> will follow
	      the symlink, <code class="filename">foo</code>, to change the
	      permissions of the directory,
	      <code class="filename">bar</code>.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50235640"></a><a id="dos-binaries"></a><p><strong>15.4.</strong></p></td><td align="left" valign="top"><p>Can I run DOS binaries under FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  A DOS emulation program,
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/emulators/doscmd/pkg-descr">emulators/doscmd</a>, is available in the
	    FreeBSD Ports Collection.</p><p>If <span class="application">doscmd</span> will not suffice,
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/emulators/pcemu/pkg-descr">emulators/pcemu</a>
	    emulates an 8088 and enough BIOS services to run many DOS
	    text-mode applications.  It requires the X Window
	    System.</p><p>The Ports Collection also has
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/emulators/dosbox/pkg-descr">emulators/dosbox</a>.  The main focus of
	    this application is emulating old DOS games using the
	    local file system for files.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50240120"></a><a id="translation"></a><p><strong>15.5.</strong></p></td><td align="left" valign="top"><p>What do I need to do to translate a FreeBSD document into
	    my native language?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/fdp-primer/translations.html" target="_top">Translation
	      <acronym class="acronym">FAQ</acronym></a> in the FreeBSD Documentation
	    Project Primer.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50242936"></a><a id="freebsd-mail-bounces"></a><p><strong>15.6.</strong></p></td><td align="left" valign="top"><p>Why does my email to any address at <code class="systemitem">FreeBSD.org</code>
	    bounce?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <code class="systemitem">FreeBSD.org</code> mail
	    system implements some <span class="application">Postfix</span>
	    checks on incoming mail and rejects mail that is either
	    from misconfigured relays or otherwise appears likely to
	    be spam.  Some of the specific requirements are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The IP address of the SMTP client must
		"reverse-resolve" to a forward confirmed
		hostname.</p></li><li class="listitem"><p>The fully-qualified hostname given in the
		SMTP conversation (either HELO or EHLO) must resolve
		to the IP address of the client.</p></li></ul></div><p>Other advice to help mail reach its destination
	    include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Mail should be sent in plain text, and messages
		sent to mailing lists should generally be no more than
		200KB in length.</p></li><li class="listitem"><p>Avoid excessive cross posting.  Choose
		<span class="emphasis"><em>one</em></span> mailing list which seems most
		relevant and send it there.</p></li></ul></div><p>If you still have trouble with email infrastructure at
	    <code class="systemitem">FreeBSD.org</code>,
	    send a note with the details to
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:postmaster@freebsd.org">postmaster@freebsd.org</a>&gt;</code>;  Include a
	    date/time interval so that logs may be reviewed &#8212;
	    and note that we only keep one week's worth of mail logs.
	    (Be sure to specify the time zone or offset from
	    UTC.)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50256504"></a><a id="free-account"></a><p><strong>15.7.</strong></p></td><td align="left" valign="top"><p>Where can I find a free FreeBSD account?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>While FreeBSD does not provide open access to any of
	    their servers, others do provide open access <span class="trademark">UNIX</span>®
	    systems.  The charge varies and limited services may be
	    available.</p><p><a class="link" href="http://www.arbornet.org/" target="_top">Arbornet,
	      Inc</a>, also known as <span class="emphasis"><em>M-Net</em></span>,
	    has been providing open access to <span class="trademark">UNIX</span>® systems since
	    1983.  Starting on an Altos running System III, the site
	    switched to BSD/OS in 1991.  In June of 2000, the site
	    switched again to FreeBSD.  <span class="emphasis"><em>M-Net</em></span> can be
	    accessed via <span class="application">telnet</span> and
	    <span class="application">SSH</span> and provides basic access
	    to the entire FreeBSD software suite.  However, network
	    access is limited to members and patrons who donate to the
	    system, which is run as a non-profit organization.
	    <span class="emphasis"><em>M-Net</em></span> also provides an bulletin board
	    system and interactive chat.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50262264"></a><a id="daemon-name"></a><p><strong>15.8.</strong></p></td><td align="left" valign="top"><p>What is the cute little red guy's name?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>He does not have one, and is just called <span class="quote">&#8220;<span class="quote">the
	      BSD daemon</span>&#8221;</span>.  If you insist upon using a name,
	    call him <span class="quote">&#8220;<span class="quote">beastie</span>&#8221;</span>.  Note that
	    <span class="quote">&#8220;<span class="quote">beastie</span>&#8221;</span> is pronounced
	    <span class="quote">&#8220;<span class="quote">BSD</span>&#8221;</span>.</p><p>More about the BSD daemon is available on his <a class="link" href="http://www.mckusick.com/beastie/index.html" target="_top">home
	      page</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50266744"></a><a id="use-beastie"></a><p><strong>15.9.</strong></p></td><td align="left" valign="top"><p>Can I use the BSD daemon image?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Perhaps.  The BSD daemon is copyrighted by Marshall
	    Kirk McKusick.  Check his <a class="link" href="http://www.mckusick.com/beastie/mainpage/copyright.html" target="_top">Statement
	      on the Use of the BSD Daemon Figure</a> for detailed
	    usage terms.</p><p>In summary, the image can be used in a tasteful
	    manner, for personal use, so long as appropriate credit
	    is given.  Before using the logo commercially, contact
	    Kirk McKusick <code class="email">&lt;<a xmlns="" class="email" href="mailto:mckusick@FreeBSD.org">mckusick@FreeBSD.org</a>&gt;</code> for permission.  More details are
	    available on the <a class="link" href="http://www.mckusick.com/beastie/index.html" target="_top">BSD
	      Daemon's home page</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50282872"></a><a id="daemon-images"></a><p><strong>15.10.</strong></p></td><td align="left" valign="top"><p>Do you have any BSD daemon images I could use?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Xfig and eps drawings are available under
	    <code class="filename">/usr/share/examples/BSD_daemon/</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50285304"></a><a id="glossary"></a><p><strong>15.11.</strong></p></td><td align="left" valign="top"><p>I have seen an acronym or other term on the mailing
	    lists and I do not understand what it means.  Where should
	    I look?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/freebsd-glossary.html" target="_top">FreeBSD
	      Glossary</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50287864"></a><a id="bikeshed-painting"></a><p><strong>15.12.</strong></p></td><td align="left" valign="top"><p>Why should I care what color the bikeshed is?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The really, really short answer is that you should
	    not.  The somewhat longer answer is that just because you
	    are capable of building a bikeshed does not mean you
	    should stop others from building one just because you do
	    not like the color they plan to paint it.  This is a
	    metaphor indicating that you need not argue about every
	    little feature just because you know enough to do so.
	    Some people have commented that the amount of noise
	    generated by a change is inversely proportional to the
	    complexity of the change.</p><p>The longer and more complete answer is that after a
	    very long argument about whether <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sleep&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sleep</span>(1)</span></a> should take
	    fractional second arguments, Poul-Henning Kamp <code class="email">&lt;<a xmlns="" class="email" href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a>&gt;</code> posted a long
	    message entitled <span class="quote">&#8220;<span class="quote"><a class="link" href="http://www.bikeshed.com" target="_top">A
	      bike shed (any color will do) on greener
	      grass...</a></span>&#8221;</span>.  The appropriate portions of
	    that message are quoted below.</p><div class="blockquote"><table border="0" class="blockquote" style="width: 100%; cellspacing: 0; cellpadding: 0;" summary="Block quote"><tr><td width="10%" valign="top"> </td><td width="80%" valign="top"><p><span class="quote">&#8220;<span class="quote">What is it about this bike shed?</span>&#8221;</span>
	      Some of you have asked me.</p><p>It is a long story, or rather it is an old story,
	      but it is quite short actually.  C. Northcote Parkinson
	      wrote a book in the early 1960s, called
	      <span class="quote">&#8220;<span class="quote">Parkinson's Law</span>&#8221;</span>, which contains a lot of
	      insight into the dynamics of management.</p><p><span class="emphasis"><em>[snip a bit of commentary on the
		book]</em></span></p><p>In the specific example involving the bike shed, the
	      other vital component is an atomic power-plant, I guess
	      that illustrates the age of the book.</p><p>Parkinson shows how you can go into the board of
	      directors and get approval for building a multi-million
	      or even billion dollar atomic power plant, but if you
	      want to build a bike shed you will be tangled up in
	      endless discussions.</p><p>Parkinson explains that this is because an atomic
	      plant is so vast, so expensive and so complicated that
	      people cannot grasp it, and rather than try, they fall
	      back on the assumption that somebody else checked all
	      the details before it got this far.  Richard P. Feynmann
	      gives a couple of interesting, and very much to the
	      point, examples relating to Los Alamos in his
	      books.</p><p>A bike shed on the other hand.  Anyone can build one
	      of those over a weekend, and still have time to watch
	      the game on TV.  So no matter how well prepared, no
	      matter how reasonable you are with your proposal,
	      somebody will seize the chance to show that he is doing
	      his job, that he is paying attention, that he is
	      <span class="emphasis"><em>here</em></span>.</p><p>In Denmark we call it <span class="quote">&#8220;<span class="quote">setting your
		fingerprint</span>&#8221;</span>.  It is about personal pride and
	      prestige, it is about being able to point somewhere and
	      say <span class="quote">&#8220;<span class="quote">There!  <span class="emphasis"><em>I</em></span> did
		that.</span>&#8221;</span> It is a strong trait in politicians, but
	      present in most people given the chance.  Just think
	      about footsteps in wet cement.</p></td><td width="10%" valign="top"> </td></tr><tr><td width="10%" valign="top"> </td><td colspan="2" align="right" valign="top">--<span class="attribution">Poul-Henning Kamp <code class="email">&lt;<a xmlns="" class="email" href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a>&gt;</code> on <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hackers" target="_top">freebsd-hackers</a>, October 2,
	      1999</span></td></tr></table></div></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="funnies"></a>Chapter 16. The FreeBSD Funnies</h1></div></div></div><div class="qandaset"><a id="idp50308344"></a><dl><dt>16.1. <a href="#idp50308600">How cool is FreeBSD?</a></dt><dt>16.2. <a href="#idp50342392">Who is scratching in my memory banks??</a></dt><dt>16.3. <a href="#idp50346872">How many FreeBSD hackers does it take to change a
	    lightbulb?</a></dt><dt>16.4. <a href="#idp50382328">Where does data written to
	    /dev/null go?</a></dt><dt>16.5. <a href="#idp50392440">My colleague sits at the computer too much, how
	    can I prank her?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp50308600"></a><a id="very-very-cool"></a><p><strong>16.1.</strong></p></td><td align="left" valign="top"><p>How cool is FreeBSD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Q.  Has anyone done any temperature testing while
	    running FreeBSD?  I know <span class="trademark">Linux</span>® runs cooler than DOS, but
	    have never seen a mention of FreeBSD.  It seems to run really
	    hot.</p><p>A.  No, but we have done numerous taste tests on
	    blindfolded volunteers who have also had 250 micrograms of
	    LSD-25 administered beforehand.  35% of the volunteers
	    said that FreeBSD tasted sort of orange, whereas <span class="trademark">Linux</span>®
	    tasted like purple haze.  Neither group mentioned any
	    significant variances in temperature.  We eventually had
	    to throw the results of this survey out entirely anyway
	    when we found that too many volunteers were wandering out
	    of the room during the tests, thus skewing the results.
	    We think most of the volunteers are at Apple now, working
	    on their new <span class="quote">&#8220;<span class="quote">scratch and sniff</span>&#8221;</span> GUI.  It is
	    a funny old business we are in!</p><p>Seriously, FreeBSD uses the <acronym class="acronym">HLT</acronym> (halt)
	    instruction when the system is idle thus lowering its
	    energy consumption and therefore the heat it generates.
	    Also if you have <acronym class="acronym">ACPI</acronym> (Advanced
	    Configuration and Power Interface) configured, then FreeBSD
	    can also put the CPU into a low power mode.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50342392"></a><a id="letmeoutofhere"></a><p><strong>16.2.</strong></p></td><td align="left" valign="top"><p>Who is scratching in my memory banks??</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Q.  Is there anything <span class="quote">&#8220;<span class="quote">odd</span>&#8221;</span> that FreeBSD
	    does when compiling the kernel which would cause the
	    memory to make a scratchy sound?  When compiling (and for
	    a brief moment after recognizing the floppy drive upon
	    startup, as well), a strange scratchy sound emanates from
	    what appears to be the memory banks.</p><p>A.  Yes!  You will see frequent references to
	    <span class="quote">&#8220;<span class="quote">daemons</span>&#8221;</span> in the BSD documentation, and what
	    most people do not know is that this refers to genuine,
	    non-corporeal entities that now possess your computer.
	    The scratchy sound coming from your memory is actually
	    high-pitched whispering exchanged among the daemons as
	    they best decide how to deal with various system
	    administration tasks.</p><p>If the noise gets to you, a good <code class="command">fdisk
	      /mbr</code> from DOS will get rid of them, but do not
	    be surprised if they react adversely and try to stop you.
	    In fact, if at any point during the exercise you hear the
	    satanic voice of Bill Gates coming from the built-in
	    speaker, take off running and do not ever look back!
	    Freed from the counterbalancing influence of the BSD
	    daemons, the twin demons of DOS and <span class="trademark">Windows</span>® are often
	    able to re-assert total control over your machine to the
	    eternal damnation of your soul.  Now that you know, given
	    a choice you would probably prefer to get used to the
	    scratchy noises, no?</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50346872"></a><a id="changing-lightbulbs"></a><p><strong>16.3.</strong></p></td><td align="left" valign="top"><p>How many FreeBSD hackers does it take to change a
	    lightbulb?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>One thousand, one hundred and sixty-nine:</p><p>Twenty-three to complain to -CURRENT about the lights
	    being out;</p><p>Four to claim that it is a configuration problem, and
	    that such matters really belong on -questions;</p><p>Three to submit PRs about it, one of which is misfiled
	    under doc and consists only of <span class="quote">&#8220;<span class="quote">it's
	      dark</span>&#8221;</span>;</p><p>One to commit an untested lightbulb which breaks
	    buildworld, then back it out five minutes later;</p><p>Eight to flame the PR originators for not including
	    patches in their PRs;</p><p>Five to complain about buildworld being broken;</p><p>Thirty-one to answer that it works for them, and they
	    must have updated at a bad time;</p><p>One to post a patch for a new lightbulb to
	    -hackers;</p><p>One to complain that he had patches for this three
	    years ago, but when he sent them to -CURRENT they were
	    just ignored, and he has had bad experiences with the PR
	    system; besides, the proposed new lightbulb is
	    non-reflexive;</p><p>Thirty-seven to scream that lightbulbs do not belong
	    in the base system, that committers have no right to do
	    things like this without consulting the Community, and
	    WHAT IS -CORE DOING ABOUT IT!?</p><p>Two hundred to complain about the color of the bicycle
	    shed;</p><p>Three to point out that the patch breaks
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=style&amp;sektion=9&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">style</span>(9)</span></a>;</p><p>Seventeen to complain that the proposed new lightbulb
	    is under GPL;</p><p>Five hundred and eighty-six to engage in a flame war
	    about the comparative advantages of the GPL, the BSD
	    license, the MIT license, the NPL, and the personal
	    hygiene of unnamed FSF founders;</p><p>Seven to move various portions of the thread to -chat
	    and -advocacy;</p><p>One to commit the suggested lightbulb, even though it
	    shines dimmer than the old one;</p><p>Two to back it out with a furious flame of a commit
	    message, arguing that FreeBSD is better off in the dark than
	    with a dim lightbulb;</p><p>Forty-six to argue vociferously about the backing out
	    of the dim lightbulb and demanding a statement from
	    -core;</p><p>Eleven to request a smaller lightbulb so it will fit
	    their Tamagotchi if we ever decide to port FreeBSD to that
	    platform;</p><p>Seventy-three to complain about the SNR on -hackers
	    and -chat and unsubscribe in protest;</p><p>Thirteen to post <span class="quote">&#8220;<span class="quote">unsubscribe</span>&#8221;</span>,
	    <span class="quote">&#8220;<span class="quote">How do I unsubscribe?</span>&#8221;</span>, or <span class="quote">&#8220;<span class="quote">Please
	      remove me from the list</span>&#8221;</span>, followed by the usual
	    footer;</p><p>One to commit a working lightbulb while everybody is
	    too busy flaming everybody else to notice;</p><p>Thirty-one to point out that the new lightbulb would
	    shine 0.364% brighter if compiled with TenDRA (although it
	    will have to be reshaped into a cube), and that FreeBSD
	    should therefore switch to TenDRA instead of GCC;</p><p>One to complain that the new lightbulb lacks
	    fairings;</p><p>Nine (including the PR originators) to ask <span class="quote">&#8220;<span class="quote">what
	      is MFC?</span>&#8221;</span>;</p><p>Fifty-seven to complain about the lights being out two
	    weeks after the bulb has been changed.</p><p><span class="emphasis"><em>Nik Clayton <code class="email">&lt;<a xmlns="" class="email" href="mailto:nik@FreeBSD.org">nik@FreeBSD.org</a>&gt;</code> adds:</em></span></p><p><span class="emphasis"><em>I was laughing quite hard at
	      this.</em></span></p><p><span class="emphasis"><em>And then I thought, <span class="quote">&#8220;<span class="quote">Hang on,
	      shouldn't there be '1 to document it.' in that list
	      somewhere?</span>&#8221;</span></em></span></p><p><span class="emphasis"><em>And then I was enlightened
	      :-)</em></span></p><p><span class="emphasis"><em>Thomas Abthorpe <code class="email">&lt;<a xmlns="" class="email" href="mailto:tabthorpe@FreeBSD.org">tabthorpe@FreeBSD.org</a>&gt;</code></em></span> says:
	    <span class="quote">&#8220;<span class="quote">None, <span class="emphasis"><em>real</em></span> FreeBSD hackers are
	      not afraid of the dark!</span>&#8221;</span></p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50382328"></a><a id="dev-null"></a><p><strong>16.4.</strong></p></td><td align="left" valign="top"><p>Where does data written to
	    <code class="filename">/dev/null</code> go?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>It goes into a special data sink in the CPU where it
	    is converted to heat which is vented through the heatsink
	    / fan assembly.  This is why CPU cooling is increasingly
	    important; as people get used to faster processors, they
	    become careless with their data and more and more of it
	    ends up in <code class="filename">/dev/null</code>, overheating
	    their CPUs.  If you delete <code class="filename">/dev/null</code>
	    (which effectively disables the CPU data sink) your CPU
	    may run cooler but your system will quickly become
	    constipated with all that excess data and start to behave
	    erratically.  If you have a fast network connection you
	    can cool down your CPU by reading data out of
	    <code class="filename">/dev/random</code> and sending it off
	    somewhere; however you run the risk of overheating your
	    network connection and <code class="filename">/</code> or angering
	    your ISP, as most of the data will end up getting
	    converted to heat by their equipment, but they generally
	    have good cooling, so if you do not overdo it you should
	    be OK.</p><p><span class="emphasis"><em>Paul Robinson adds:</em></span></p><p>There are other methods.  As every good sysadmin
	    knows, it is part of standard practice to send data to the
	    screen of interesting variety to keep all the pixies that
	    make up your picture happy.  Screen pixies (commonly
	    mis-typed or re-named as <span class="quote">&#8220;<span class="quote">pixels</span>&#8221;</span>) are
	    categorized by the type of hat they wear (red, green or
	    blue) and will hide or appear (thereby showing the color
	    of their hat) whenever they receive a little piece of
	    food.  Video cards turn data into pixie-food, and then
	    send them to the pixies &#8212; the more expensive the
	    card, the better the food, so the better behaved the
	    pixies are.  They also need constant stimulation &#8212;
	    this is why screen savers exist.</p><p>To take your suggestions further, you could just throw
	    the random data to console, thereby letting the pixies
	    consume it.  This causes no heat to be produced at all,
	    keeps the pixies happy and gets rid of your data quite
	    quickly, even if it does make things look a bit messy on
	    your screen.</p><p>Incidentally, as an ex-admin of a large ISP who
	    experienced many problems attempting to maintain a stable
	    temperature in a server room, I would strongly discourage
	    people sending the data they do not want out to the
	    network.  The fairies who do the packet switching and
	    routing get annoyed by it as well.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50392440"></a><a id="punk-my-friend"></a><p><strong>16.5.</strong></p></td><td align="left" valign="top"><p>My colleague sits at the computer too much, how
	    can I prank her?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Install <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/games/sl/pkg-descr">games/sl</a> and
	    wait for her to mistype <strong class="userinput"><code>sl</code></strong> for
	    <code class="command">ls</code>.</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="advanced"></a>Chapter 17. Advanced Topics</h1></div></div></div><div class="qandaset"><a id="idp50417272"></a><dl><dt>17.1. <a href="#idp50417528">How can I learn more about FreeBSD's internals?</a></dt><dt>17.2. <a href="#idp50420984">How can I contribute to FreeBSD?  What can I do to
	    help?</a></dt><dt>17.3. <a href="#idp50423928">What are snapshots and releases?</a></dt><dt>17.4. <a href="#idp50439800">How can I make the most of the data I see when my
	    kernel panics?</a></dt><dt>17.5. <a href="#idp50539640">Why has dlsym() stopped working
	    for ELF executables?</a></dt><dt>17.6. <a href="#idp50544760">How can I increase or reduce the kernel address space
	    on i386?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp50417528"></a><a id="learn-advanced"></a><p><strong>17.1.</strong></p></td><td align="left" valign="top"><p>How can I learn more about FreeBSD's internals?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/arch-handbook" target="_top">FreeBSD
	      Architecture Handbook</a>.</p><p>Additionally, much general <span class="trademark">UNIX</span>® knowledge is
	    directly applicable to FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50420984"></a><a id="how-to-contribute"></a><p><strong>17.2.</strong></p></td><td align="left" valign="top"><p>How can I contribute to FreeBSD?  What can I do to
	    help?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>We accept all types of contributions: documentation,
	    code, and even art.  See the article on <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/contributing/article.html" target="_top">Contributing
	      to FreeBSD</a> for specific advice on how to do
	    this.</p><p>And thanks for the thought!</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50423928"></a><a id="define-snap-release"></a><p><strong>17.3.</strong></p></td><td align="left" valign="top"><p>What are snapshots and releases?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are currently 3 active/semi-active
	    branches in the FreeBSD <a class="link" href="http://svnweb.FreeBSD.org/base/" target="_top">Subversion
	      Repository</a>.  (Earlier branches are only changed
	    very rarely, which is why there are only 3
	    active branches of development):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="symbol">stable/11/</span> AKA
		<span class="emphasis"><em>11-STABLE</em></span></p></li><li class="listitem"><p><span class="symbol">stable/12/</span> AKA
		<span class="emphasis"><em>12-STABLE</em></span></p></li><li class="listitem"><p><span class="symbol">head/</span> AKA
		<span class="emphasis"><em>-CURRENT</em></span> AKA
		<span class="emphasis"><em>13-CURRENT</em></span></p></li></ul></div><p><code class="literal">HEAD</code> is not an actual branch tag.
	    It is a symbolic constant for
	    the current, non-branched development
		stream known as
	    <span class="emphasis"><em>-CURRENT</em></span>.</p><p>Right now, <span class="emphasis"><em>-CURRENT</em></span> is the
	    13.<em class="replaceable"><code>X</code></em> development stream; the <span class="emphasis"><em>12-STABLE</em></span>
	    branch, <span class="symbol">stable/12/</span>, forked off from
	    <span class="emphasis"><em>-CURRENT</em></span> in December 2018 and the
	    <span class="emphasis"><em>11-STABLE</em></span> branch, <span class="symbol">stable/11/</span>, forked off from
	    <span class="emphasis"><em>-CURRENT</em></span> in October 2016.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50439800"></a><a id="kernel-panic-troubleshooting"></a><p><strong>17.4.</strong></p></td><td align="left" valign="top"><p>How can I make the most of the data I see when my
	    kernel panics?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Here is typical kernel panic:</p><pre class="programlisting">Fatal trap 12: page fault while in kernel mode
fault virtual address   = 0x40
fault code              = supervisor read, page not present
instruction pointer     = 0x8:0xf014a7e5
stack pointer           = 0x10:0xf4ed6f24
frame pointer           = 0x10:0xf4ed6f28
code segment            = base 0x0, limit 0xfffff, type 0x1b
                        = DPL 0, pres 1, def32 1, gran 1
processor eflags        = interrupt enabled, resume, IOPL = 0
current process         = 80 (mount)
interrupt mask          =
trap number             = 12
panic: page fault</pre><p>This message is not enough.  While the instruction
	    pointer value is important, it is also configuration
	    dependent as it varies depending on the kernel image.
	    If it is a <code class="filename">GENERIC</code> kernel
	    image from one of the snapshots, it is possible for
	    somebody else to track down the offending function, but
	    for a custom kernel, only you can tell us where the fault
	    occurred.</p><p>To proceed:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Write down the instruction pointer value.  Note
		that the <code class="literal">0x8:</code> part at the beginning
		is not significant in this case: it is the
		<code class="literal">0xf0xxxxxx</code> part that we
		want.</p></li><li class="step"><p>When the system reboots, do the following:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>nm -n kernel.that.caused.the.panic | grep f0xxxxxx</code></strong></pre><p>where <code class="literal">f0xxxxxx</code> is the
		instruction pointer value.  The odds are you will not
		get an exact match since the symbols in the kernel
		symbol table are for the entry points of functions and
		the instruction pointer address will be somewhere
		inside a function, not at the start.  If you do not
		get an exact match, omit the last digit from the
		instruction pointer value and try again:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>nm -n kernel.that.caused.the.panic | grep f0xxxxx</code></strong></pre><p>If that does not yield any results, chop off
		another digit.  Repeat until there is some sort of
		output.  The result will be a possible list of
		functions which caused the panic.  This is a less than
		exact mechanism for tracking down the point of
		failure, but it is better than nothing.</p></li></ol></div><p>However, the best way to track down the cause of a
	    panic is by capturing a crash dump, then using
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a> to generate a stack trace on the crash
	    dump.</p><p>In any case, the method is this:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Make sure that the following line is included in
		the kernel configuration file:</p><pre class="programlisting">makeoptions     DEBUG=-g          # Build kernel with gdb(1) debug symbols</pre></li><li class="step"><p>Change to the <code class="filename">/usr/src</code>
		directory:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/src</code></strong></pre></li><li class="step"><p>Compile the kernel:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make buildkernel KERNCONF=<em class="replaceable"><code>MYKERNEL</code></em></code></strong></pre></li><li class="step"><p>Wait for <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> to finish compiling.</p></li><li class="step"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>make installkernel KERNCONF=MYKERNEL</code></strong></pre></li><li class="step"><p>Reboot.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If <code class="varname">KERNCONF</code> is not included,
	      the <code class="filename">GENERIC</code> kernel will instead
	      be built and installed.</p></div><p>The <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=make&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">make</span>(1)</span></a> process will have built two kernels.
	    <code class="filename">/usr/obj/usr/src/sys/MYKERNEL/kernel</code>
	    and
	    <code class="filename">/usr/obj/usr/src/sys/MYKERNEL/kernel.debug</code>.
	    <code class="filename">kernel</code> was installed as
	    <code class="filename">/boot/kernel/kernel</code>, while
	    <code class="filename">kernel.debug</code> can be used as the
	    source of debugging symbols for <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a>.</p><p>To capture a crash dump, edit
	    <code class="filename">/etc/rc.conf</code> and set
	    <code class="literal">dumpdev</code> to point to either the swap
	    partition or <code class="literal">AUTO</code>.  This will cause the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> scripts to use the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dumpon&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dumpon</span>(8)</span></a> command to
	    enable crash dumps.  This command can also be run
	    manually.  After a panic, the crash dump can be recovered
	    using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a>; if <code class="literal">dumpdev</code> is
	    set in <code class="filename">/etc/rc.conf</code>, the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>
	    scripts will run <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a> automatically and put
	    the crash dump in <code class="filename">/var/crash</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD crash dumps are usually the same size as
	      physical RAM.  Therefore, make sure there is enough
	      space in <code class="filename">/var/crash</code> to hold the
	      dump.  Alternatively, run <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=savecore&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">savecore</span>(8)</span></a> manually
	      and have it recover the crash dump to another directory
	      with more room.  It is possible to limit the
	      size of the crash dump by using <code class="literal">options
		MAXMEM=N</code> where
	      <em class="replaceable"><code>N</code></em> is the size of kernel's
	      memory usage in KBs.  For example, for 1 GB
	      of RAM, limit the kernel's memory usage to
	      128 MB, so that the crash dump size
	      will be 128 MB instead of 1 GB.</p></div><p>Once the crash dump has been recovered , get a
	    stack trace as follows:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kgdb /usr/obj/usr/src/sys/MYKERNEL/kernel.debug /var/crash/vmcore.0</code></strong>
<code class="prompt">(kgdb)</code> <strong class="userinput"><code>backtrace</code></strong></pre><p>Note that there may be several screens worth of
	    information.  Ideally, use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=script&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">script</span>(1)</span></a> to
	    capture all of them.  Using the unstripped kernel image
	    with all the debug symbols should show the exact line of
	    kernel source code where the panic occurred.  The stack
	    trace is usually read from the bottom up to trace
	    the exact sequence of events that lead to the crash.
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a> can also be used to print out the contents of
	    various variables or structures to examine the system
	    state at the time of the crash.</p><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">If a second computer is available, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=kgdb&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">kgdb</span>(1)</span></a> can
	      be configured to do remote debugging, including setting
	      breakpoints and single-stepping through the kernel
	      code.</p></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If <code class="literal">DDB</code> is enabled and the
	      kernel drops into the debugger, a panic
	      and a crash dump can be forced by typing
	      <code class="literal">panic</code> at the <code class="literal">ddb</code>
	      prompt.  It may stop in the debugger again during the
	      panic phase.  If it does, type
	      <code class="literal">continue</code> and it will finish the crash
	      dump.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50539640"></a><a id="dlsym-failure"></a><p><strong>17.5.</strong></p></td><td align="left" valign="top"><p>Why has <code class="function">dlsym()</code> stopped working
	    for ELF executables?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The ELF toolchain does not, by default, make the
	    symbols defined in an executable visible to the dynamic
	    linker.  Consequently <code class="function">dlsym()</code>
	    searches on handles obtained from calls to
	    <code class="function">dlopen(NULL, flags)</code> will fail to find
	    such symbols.</p><p>To search, using
	    <code class="function">dlsym()</code>, for symbols present in the
	    main executable of a process, link the
	    executable using the <code class="option">--export-dynamic</code>
	    option to the ELF linker (<a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ld&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ld</span>(1)</span></a>).</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50544760"></a><a id="change-kernel-address-space"></a><p><strong>17.6.</strong></p></td><td align="left" valign="top"><p>How can I increase or reduce the kernel address space
	    on i386?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>By default, the kernel address space is 1 GB
	    (2 GB for PAE) for i386.  When running a
	    network-intensive server or using
	    ZFS, this will probably not be
	    enough.</p><p>Add the following line to the kernel configuration
	    file to increase available space and rebuild the
	    kernel:</p><pre class="programlisting">options KVA_PAGES=<em class="replaceable"><code>N</code></em></pre><p>To find the correct value of
	    <em class="replaceable"><code>N</code></em>, divide the desired address
	    space size (in megabytes) by four.  (For example, it is
	    <code class="literal">512</code> for 2 GB.)</p></td></tr></tbody></table></div></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="acknowledgments"></a>Chapter 18. Acknowledgments</h1></div></div></div><p>This innocent little Frequently Asked Questions document has
      been written, rewritten, edited, folded, spindled, mutilated,
      eviscerated, contemplated, discombobulated, cogitated,
      regurgitated, rebuilt, castigated, and reinvigorated over the
      last decade, by a cast of hundreds if not thousands.
      Repeatedly.</p><p>We wish to thank every one of the people responsible, and we
      encourage you to <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/contributing/article.html" target="_top">join
	them</a> in making this <acronym class="acronym">FAQ</acronym> even
      better.</p></div></div></body></html>