<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Chapter 5. Troubleshooting</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Frequently Asked Questions for FreeBSD 11.X and 12.X" /><link rel="up" href="index.html" title="Frequently Asked Questions for FreeBSD 11.X and 12.X" /><link rel="prev" href="compatibility-other.html" title="4.5. Other Hardware" /><link rel="next" href="applications.html" title="Chapter 6. User Applications" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 5. Troubleshooting</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="compatibility-other.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="applications.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="troubleshoot"></a>Chapter 5. Troubleshooting</h1></div></div></div><div class="qandaset"><a id="idp48088824"></a><dl><dt>5.1. <a href="troubleshoot.html#idp48089464">Why is FreeBSD finding the wrong amount of memory on
	    i386&#8482; hardware?</a></dt><dt>5.2. <a href="troubleshoot.html#idp48104568">Why do my programs occasionally die with
	    Signal 11 errors?</a></dt><dt>5.3. <a href="troubleshoot.html#idp48145144">My system crashes with either Fatal trap
	      12: page fault in kernel mode, or
	    panic:, and spits out a bunch of
	    information.  What should I do?</a></dt><dt>5.4. <a href="troubleshoot.html#idp48171896">What is the meaning of the error maxproc
	      limit exceeded by uid %i, please see tuning(7) and
	      login.conf(5)?</a></dt><dt>5.5. <a href="troubleshoot.html#idp48195064">Why do full screen applications on remote machines
	    misbehave?</a></dt><dt>5.6. <a href="troubleshoot.html#idp48223992">Why does it take so long to connect to my computer via
	    ssh or
	    telnet?</a></dt><dt>5.7. <a href="troubleshoot.html#idp48255480">Why does file: table is full
	    show up repeatedly in dmesg(8)?</a></dt><dt>5.8. <a href="troubleshoot.html#idp48277880">Why does the clock on my computer keep incorrect
	    time?</a></dt><dt>5.9. <a href="troubleshoot.html#idp48307960">What does the error swap_pager: indefinite
	      wait buffer: mean?</a></dt><dt>5.10. <a href="troubleshoot.html#idp48315896">What is a lock order
	      reversal?</a></dt><dt>5.11. <a href="troubleshoot.html#idp48338936">What does Called ...  with the following
	      non-sleepable locks held mean?</a></dt><dt>5.12. <a href="troubleshoot.html#idp50962424">Why does
	    buildworld/installworld
	    die with the message touch: not
	      found?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp48089464"></a><a id="pae"></a><p><strong>5.1.</strong></p></td><td align="left" valign="top"><p>Why is FreeBSD finding the wrong amount of memory on
	    <span class="trademark">i386</span>&#8482; hardware?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The most likely reason is the difference between
	    physical memory addresses and virtual addresses.</p><p>The convention for most PC hardware is to use the
	    memory area between 3.5 GB and 4 GB for a
	    special purpose (usually for PCI).  This address space is
	    used to access PCI hardware.  As a result real, physical
	    memory cannot be accessed by that address space.</p><p>What happens to the memory that should appear in that
	    location is hardware dependent.  Unfortunately,
	    some hardware does nothing and the ability to use that
	    last 500 MB of RAM is entirely lost.</p><p>Luckily, most hardware remaps the memory to a higher
	    location so that it can still be used.  However, this can
	    cause some confusion when watching the boot
	    messages.</p><p>On a 32-bit version of FreeBSD, the memory appears lost,
	    since it will be remapped above 4 GB, which a 32-bit
	    kernel is unable to access.  In this case, the solution is
	    to build a PAE enabled kernel.  See the entry on memory
	    limits for more information.</p><p>On a 64-bit version of FreeBSD, or when running a
	    PAE-enabled kernel, FreeBSD will correctly detect and remap
	    the memory so it is usable.  During boot, however, it may
	    seem as if FreeBSD is detecting more memory than the system
	    really has, due to the described remapping.  This is
	    normal and the available memory will be corrected as the
	    boot process completes.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48104568"></a><a id="signal11"></a><p><strong>5.2.</strong></p></td><td align="left" valign="top"><p>Why do my programs occasionally die with
	    <span class="errorname">Signal 11</span> errors?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Signal 11 errors are caused when a process has
	    attempted to access memory which the operating system has
	    not granted it access to.  If something like this is
	    happening at seemingly random intervals,
	    start investigating the cause.</p><p>These problems can usually be attributed to
	    either:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>If the problem is occurring only in a specific
		custom application, it is
		probably a bug in the code.</p></li><li class="listitem"><p>If it is a problem with part of the base FreeBSD
		system, it may also be buggy code, but more often than
		not these problems are found and fixed long before us
		general <acronym class="acronym">FAQ</acronym> readers get to use
		these bits of code (that is what -CURRENT is
		for).</p></li></ol></div><p>It is probably
	    not a FreeBSD bug if the
	    problem occurs compiling a program, but the activity
	    that the compiler is carrying out changes each
	    time.</p><p>For example, if <code class="command">make
	      buildworld</code> fails while trying
	    to compile <code class="filename">ls.c</code> into
	    <code class="filename">ls.o</code> and, when run again, it fails
	    in the same place, this is a broken build.  Try
	    updating source and try again.  If the compile fails
	    elsewhere, it is almost certainly due to hardware.</p><p>In the first case, use a debugger such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=gdb&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">gdb</span>(1)</span></a> to find the point in the program which is
	    attempting to access a bogus address and fix
	    it.</p><p>In the second case, verify which piece of
	    hardware is at fault.</p><p>Common causes of this include:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The hard disks might be overheating: Check that
		the fans are still working, as the disk and
		other hardware might be overheating.</p></li><li class="listitem"><p>The processor running is overheating: This might
		be because the processor has been overclocked, or the
		fan on the processor might have died.  In either case,
		ensure that the hardware is running at
		what it is specified to run at, at least while trying
		to solve this problem.  If it is not, clock it back
		to the default settings.)</p><p>Regarding overclocking, it is far
		cheaper to have a slow system than a fried system that
		needs replacing!  Also the community is not
		sympathetic to problems on overclocked systems.</p></li><li class="listitem"><p>Dodgy memory: if multiple memory
		SIMMS/DIMMS are installed, pull them all out and try
		running the machine with each SIMM or DIMM
		individually to narrow the problem down to either the
		problematic DIMM/SIMM or perhaps even a
		combination.</p></li><li class="listitem"><p>Over-optimistic motherboard settings: the BIOS
		settings, and some motherboard jumpers, provide
		options to set various timings.  The defaults
		are often sufficient, but sometimes setting the wait
		states on RAM too low, or setting the <span class="quote">&#8220;<span class="quote">RAM
		  Speed: Turbo</span>&#8221;</span> option
		will cause strange behavior.  A possible idea is to
		set to BIOS defaults, after noting
		the current settings first.</p></li><li class="listitem"><p>Unclean or insufficient power to the motherboard.
		Remove any unused I/O boards, hard disks, or
		CD-ROMs,
		or disconnect the power cable from them, to see if
		the power supply can manage a smaller load.  Or try
		another power supply, preferably one with a little
		more power.  For instance, if the current power supply
		is rated at 250 Watts, try one rated at
		300 Watts.</p></li></ol></div><p>Read the section on
	    <a class="link" href="troubleshoot.html#signal11" title="5.2.">Signal 11</a> for a further
	    explanation and a discussion on how memory testing
	    software or hardware can still pass faulty memory.  There
	    is an extensive <acronym class="acronym">FAQ</acronym> on this at <a class="link" href="http://www.bitwizard.nl/sig11/" target="_top">the SIG11
	      problem <acronym class="acronym">FAQ</acronym></a>.</p><p>Finally, if none of this has helped, it is possibly
	    a bug in FreeBSD.
	    Follow <a class="link" href="introduction.html#access-pr" title="1.14.">these instructions</a>
	    to send a problem report.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48145144"></a><a id="trap-12-panic"></a><p><strong>5.3.</strong></p></td><td align="left" valign="top"><p>My system crashes with either <span class="errorname">Fatal trap
	      12: page fault in kernel mode</span>, or
	    <span class="errorname">panic:</span>, and spits out a bunch of
	    information.  What should I do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The FreeBSD developers are interested in these
	    errors, but need more information than just the error
	    message.  Copy the full crash message.  Then consult the
	    <acronym class="acronym">FAQ</acronym> section on <a class="link" href="advanced.html#kernel-panic-troubleshooting" title="17.4.">kernel
	      panics</a>, build a debugging kernel, and get a
	    backtrace.  This might sound difficult, but does not
	    require any programming skills.  Just follow the
	    instructions.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48171896"></a><a id="proc-table-full"></a><p><strong>5.4.</strong></p></td><td align="left" valign="top"><p>What is the meaning of the error <span class="errorname">maxproc
	      limit exceeded by uid %i, please see tuning(7) and
	      login.conf(5)</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The FreeBSD kernel will only allow a certain number of
	    processes to exist at one time.  The number is based on
	    the <code class="varname">kern.maxusers</code> <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>
	    variable.  <code class="varname">kern.maxusers</code> also affects
	    various other in-kernel limits, such as network buffers.
	    If the machine is heavily loaded,
	    increase <code class="varname">kern.maxusers</code>.  This will
	    increase these other system limits in addition to the
	    maximum number of processes.</p><p>To adjust the <code class="varname">kern.maxusers</code> value,
	    see the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-kernel-limits.html#kern-maxfiles" target="_top">File/Process
	      Limits</a> section of the Handbook.  While that
	    section refers to open files, the same limits apply to
	    processes.</p><p>If the machine is lightly loaded but running a very
	    large number of processes, adjust the
	    <code class="varname">kern.maxproc</code> tunable by defining it in
	    <code class="filename">/boot/loader.conf</code>.  The tunable will
	    not get adjusted until the system is rebooted.  For more
	    information about tuning tunables, see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">loader.conf</span>(5)</span></a>.  If these processes are being run by
	    a single user, adjust
	    <code class="varname">kern.maxprocperuid</code> to be one less than
	    the new <code class="varname">kern.maxproc</code> value.  It must
	    be at least one less because one system program,
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>, must always be running.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48195064"></a><a id="remote-fullscreen"></a><p><strong>5.5.</strong></p></td><td align="left" valign="top"><p>Why do full screen applications on remote machines
	    misbehave?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The remote machine may be setting the terminal type to
	    something other than <code class="literal">xterm</code> which is
	    required by the FreeBSD console.  Alternatively the kernel
	    may have the wrong values for the width and height of the
	    terminal.</p><p>Check the value of the <code class="envar">TERM</code>
	    environment variable is <code class="literal">xterm</code>.  If the
	    remote machine does not support that try
	    <code class="literal">vt100</code>.</p><p>Run <code class="command">stty -a</code> to check what the
	    kernel thinks the terminal dimensions are.  If they are
	    incorrect, they can be changed by running
	    <code class="command">stty rows <em class="replaceable"><code>RR</code></em> cols
	    <em class="replaceable"><code>CC</code></em></code>.</p><p>Alternatively, if the client machine has
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/x11/xterm/pkg-descr">x11/xterm</a> installed, then running
	    <code class="command">resize</code> will query the terminal for the
	    correct dimensions and set them.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48223992"></a><a id="connection-delay"></a><p><strong>5.6.</strong></p></td><td align="left" valign="top"><p>Why does it take so long to connect to my computer via
	    <code class="command">ssh</code> or
	    <code class="command">telnet</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The symptom: there is a long delay between the time
	    the TCP connection is established and the time when the
	    client software asks for a password (or, in
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=telnet&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">telnet</span>(1)</span></a>'s case, when a login prompt
	    appears).</p><p>The problem: more likely than not, the delay is caused
	    by the server software trying to resolve the client's IP
	    address into a hostname.  Many servers, including the
	    <span class="application">Telnet</span> and
	    <span class="application">SSH</span> servers that come with
	    FreeBSD, do this to store the hostname in a log file for
	    future reference by the administrator.</p><p>The remedy: if the problem occurs whenever connecting
	    the client computer to any server, the problem
	    is with the client.  If the problem only occurs
	    when someone connects to the server computer, the
	    problem is with the server.</p><p>If the problem is with the client, the only remedy is
	    to fix the DNS so the server can resolve it.  If this is
	    on a local network, consider it a server problem and keep
	    reading.  If this is on the Internet,
	    contact your ISP.</p><p>If the problem is with the server on a
	    local network, configure the server
	    to resolve address-to-hostname queries for the local
	    address range.  See <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>
	    for more information.  If this is on the
	    Internet, the problem may be that the local server's
	    resolver is not functioning correctly.  To check, try to
	    look up another host such as
	    <code class="systemitem">www.yahoo.com</code>.  If it does not
	    work, that is the problem.</p><p>Following a fresh install of FreeBSD, it is also possible
	    that domain and name server information is missing from
	    <code class="filename">/etc/resolv.conf</code>.  This will often
	    cause a delay in <span class="application">SSH</span>, as the
	    option <code class="literal">UseDNS</code> is set to
	    <code class="literal">yes</code> by default in
	    <code class="filename">/etc/ssh/sshd_config</code>.  If this is
	    causing the problem, either fill in the
	    missing information in
	    <code class="filename">/etc/resolv.conf</code> or set
	    <code class="literal">UseDNS</code> to <code class="literal">no</code> in
	    <code class="filename">sshd_config</code> as a temporary
	    workaround.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48255480"></a><a id="file-table-full"></a><p><strong>5.7.</strong></p></td><td align="left" valign="top"><p>Why does <span class="errorname">file: table is full</span>
	    show up repeatedly in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This error message indicates that the number of
	    available file descriptors have been exhausted on the
	    system.  Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-kernel-limits.html#kern-maxfiles" target="_top">kern.maxfiles</a>
	    section of the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/configtuning-kernel-limits.html" target="_top">Tuning
	      Kernel Limits</a> section of the Handbook for a
	    discussion and solution.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48277880"></a><a id="computer-clock-skew"></a><p><strong>5.8.</strong></p></td><td align="left" valign="top"><p>Why does the clock on my computer keep incorrect
	    time?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The computer has two or more clocks, and FreeBSD has
	    chosen to use the wrong one.</p><p>Run <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>, and check for lines that contain
	    <code class="literal">Timecounter</code>.  The one with the highest
	    quality value that FreeBSD chose.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dmesg | grep Timecounter</code></strong>
Timecounter "i8254" frequency 1193182 Hz quality 0
Timecounter "ACPI-fast" frequency 3579545 Hz quality 1000
Timecounter "TSC" frequency 2998570050 Hz quality 800
Timecounters tick every 1.000 msec</pre><p>Confirm this by checking the
	    <code class="varname">kern.timecounter.hardware</code>
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware</code></strong>
kern.timecounter.hardware: ACPI-fast</pre><p>It may be a broken ACPI timer.  The simplest solution
	    is to disable the ACPI timer in
	    <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">debug.acpi.disabled="timer"</pre><p>Or the BIOS may modify the TSC clock&#8212;perhaps to
	    change the speed of the processor when running from
	    batteries, or going into a power saving mode, but FreeBSD is
	    unaware of these adjustments, and appears to gain or lose
	    time.</p><p>In this example, the <code class="literal">i8254</code> clock is
	    also available, and can be selected by writing its name to
	    the <code class="varname">kern.timecounter.hardware</code>
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=3&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(3)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.timecounter.hardware=i8254</code></strong>
kern.timecounter.hardware: TSC -&gt; i8254</pre><p>The computer should now start keeping more accurate
	    time.</p><p>To have this change automatically run at boot time,
	    add the following line to
	    <code class="filename">/etc/sysctl.conf</code>:</p><pre class="programlisting">kern.timecounter.hardware=i8254</pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48307960"></a><a id="indefinite-wait-buffer"></a><p><strong>5.9.</strong></p></td><td align="left" valign="top"><p>What does the error <span class="errorname">swap_pager: indefinite
	      wait buffer:</span> mean?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This means that a process is trying to page memory
	    from
	    disk, and the page attempt has hung trying to access the
	    disk for more than 20 seconds.  It might be caused by bad
	    blocks on the disk drive, disk wiring, cables, or any
	    other disk I/O-related hardware.  If the drive itself is
	    bad, disk errors will appear in
	    <code class="filename">/var/log/messages</code> and in the output
	    of <code class="command">dmesg</code>.  Otherwise, check the cables
	    and connections.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48315896"></a><a id="lock-order-reversal"></a><p><strong>5.10.</strong></p></td><td align="left" valign="top"><p>What is a <span class="errorname">lock order
	      reversal</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The FreeBSD kernel uses a number of resource locks to
	    arbitrate contention for certain resources.  When multiple
	    kernel threads try to obtain multiple resource locks,
	    there's always the potential for a deadlock, where two
	    threads have each obtained one of the locks and blocks
	    forever waiting for the other thread to release one of the
	    other locks.  This sort of locking problem can be avoided
	    if all threads obtain the locks in the same order.</p><p>A run-time lock diagnostic system called
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a>, enabled in FreeBSD-CURRENT and disabled by
	    default for stable branches and releases, detects the
	    potential for deadlocks due to locking errors, including
	    errors caused by obtaining multiple resource locks with a
	    different order from different parts of the kernel.  The
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> framework tries to detect this problem as
	    it happens, and reports it by printing a message to the
	    system console about a <span class="errorname">lock order
	      reversal</span> (often referred to also as
	    <acronym class="acronym">LOR</acronym>).</p><p>It is possible to get false positives, as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> is conservative.  A true positive report
	    <span class="emphasis"><em>does not</em></span> mean that a system is
	    dead-locked; instead it should be understood as a warning
	    that a deadlock could have happened here.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Problematic <acronym class="acronym">LOR</acronym>s tend to get
	      fixed quickly, so check the <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current" target="_top">FreeBSD-CURRENT mailing list</a> before posting
	      to it.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp48338936"></a><a id="called-with-non-sleepable-locks-held"></a><p><strong>5.11.</strong></p></td><td align="left" valign="top"><p>What does <span class="errorname">Called ...  with the following
	      non-sleepable locks held</span> mean?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This means that a function that may sleep was called
	    while a mutex (or other unsleepable) lock was held.</p><p>The reason this is an error is because mutexes are not
	    intended to be held for long periods of time; they are
	    supposed to only be held to maintain short periods of
	    synchronization.  This programming contract allows device
	    drivers to use mutexes to synchronize with the rest of the
	    kernel during interrupts.  Interrupts (under FreeBSD) may not
	    sleep.  Hence it is imperative that no subsystem in the
	    kernel block for an extended period while holding a
	    mutex.</p><p>To catch such errors, assertions may be added to the
	    kernel that interact with the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=witness&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">witness</span>(4)</span></a> subsystem to
	    emit a warning or fatal error (depending on the system
	    configuration) when a potentially blocking call is made
	    while holding a mutex.</p><p>In summary, such warnings are non-fatal, however with
	    unfortunate timing they could cause undesirable effects
	    ranging from a minor blip in the system's responsiveness
	    to a complete system lockup.</p><p>For additional information about locking in FreeBSD see
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=locking&amp;sektion=9&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">locking</span>(9)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp50962424"></a><a id="touch-not-found"></a><p><strong>5.12.</strong></p></td><td align="left" valign="top"><p>Why does
	    <code class="buildtarget">buildworld</code>/<code class="buildtarget">installworld</code>
	    die with the message <span class="errorname">touch: not
	      found</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This error does not mean that the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=touch&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">touch</span>(1)</span></a>
	    utility is missing.  The error is instead probably due to
	    the dates of the files being set sometime in the future.
	    If the CMOS clock is set to local time, run
	    <code class="command">adjkerntz -i</code> to adjust
	    the kernel clock when booting into single-user
	    mode.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="compatibility-other.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="applications.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.5. Other Hardware </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. User Applications</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>