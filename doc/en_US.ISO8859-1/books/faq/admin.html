<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Chapter 10. System Administration</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Frequently Asked Questions for FreeBSD 11.X and 12.X" /><link rel="up" href="index.html" title="Frequently Asked Questions for FreeBSD 11.X and 12.X" /><link rel="prev" href="all-about-zfs.html" title="Chapter 9. ZFS" /><link rel="next" href="x.html" title="Chapter 11. The X Window System and Virtual Consoles" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 10. System Administration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="all-about-zfs.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="x.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="admin"></a>Chapter 10. System Administration</h1></div></div></div><div class="qandaset"><a id="idp51427704"></a><dl><dt>10.1. <a href="admin.html#idp51427960">Where are the system start-up configuration
	    files?</a></dt><dt>10.2. <a href="admin.html#idp51445240">How do I add a user easily?</a></dt><dt>10.3. <a href="admin.html#idp51450744">Why do I keep getting messages like root:
	      not found after editing
	    /etc/crontab?</a></dt><dt>10.4. <a href="admin.html#idp51459704">Why do I get the error, you are not in the
	      correct group to su root when I try to
	    su to root?</a></dt><dt>10.5. <a href="admin.html#idp51489912">I made a mistake in rc.conf, or
	    another startup file, and now I cannot edit it because the
	    file system is read-only.  What should I do?</a></dt><dt>10.6. <a href="admin.html#idp51498744">Why am I having trouble setting up my printer?</a></dt><dt>10.7. <a href="admin.html#idp51501304">How can I correct the keyboard mappings for my
	    system?</a></dt><dt>10.8. <a href="admin.html#idp51516664">Why can I not get user quotas to work properly?</a></dt><dt>10.9. <a href="admin.html#idp51533816">Does FreeBSD support System V IPC primitives?</a></dt><dt>10.10. <a href="admin.html#idp51538296">What other mail-server software can I use instead of
	    Sendmail?</a></dt><dt>10.11. <a href="admin.html#idp51542648">I have forgotten the root password!  What do I
	    do?</a></dt><dt>10.12. <a href="admin.html#idp51566712">How do I keep Control+Alt+Delete
	    from rebooting the system?</a></dt><dt>10.13. <a href="admin.html#idp51576440">How do I reformat DOS text files to UNIX®
	    ones?</a></dt><dt>10.14. <a href="admin.html#idp51586168">How do I re-read /etc/rc.conf and
	    re-start /etc/rc without a
	    reboot?</a></dt><dt>10.15. <a href="admin.html#idp51595512">I tried to update my system to the latest
	    -STABLE, but got
	    -BETAx,
	    -RC or
	    -PRERELEASE!  What is going
	    on?</a></dt><dt>10.16. <a href="admin.html#idp51603960">I tried to install a new kernel, and the
	    chflags(1) failed.  How do I get around this?</a></dt><dt>10.17. <a href="admin.html#idp51619832">I cannot change the time on my system by more than one
	    second!  How do I get around this?</a></dt><dt>10.18. <a href="admin.html#idp51626616">Why is rpc.statd using 256 MB
	    of memory?</a></dt><dt>10.19. <a href="admin.html#idp51649912">Why can I not unset the schg file
	    flag?</a></dt><dt>10.20. <a href="admin.html#idp51654136">What is vnlru?</a></dt><dt>10.21. <a href="admin.html#idp51657208">What do the various memory states displayed by
	    top mean?</a></dt><dt>10.22. <a href="admin.html#idp51375224">How much free memory is available?</a></dt><dt>10.23. <a href="admin.html#idp51380600">What is /var/empty?</a></dt><dt>10.24. <a href="admin.html#idp51356664">I just changed
	    /etc/newsyslog.conf.  How can I check
	    if it does what I expect?</a></dt><dt>10.25. <a href="admin.html#idp51360760">My time is wrong, how can I change the
	    timezone?</a></dt></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="question"><td align="left" valign="top"><a id="idp51427960"></a><a id="startup-config-files"></a><p><strong>10.1.</strong></p></td><td align="left" valign="top"><p>Where are the system start-up configuration
	    files?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The primary configuration file is
	    <code class="filename">/etc/defaults/rc.conf</code> which is
	    described in <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a>.  System startup scripts
	    such as <code class="filename">/etc/rc</code> and
	    <code class="filename">/etc/rc.d</code>, which are described in
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a>, include this file.  <span class="emphasis"><em>Do not edit this
	      file!</em></span>  Instead, to edit an entry in
	    <code class="filename">/etc/defaults/rc.conf</code>, copy the line
	    into <code class="filename">/etc/rc.conf</code> and change it
	    there.</p><p>For example, if to start <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>, the
	    included DNS server:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>echo 'named_enable="YES"' &gt;&gt; /etc/rc.conf</code></strong></pre><p>To start up local services, place shell scripts in the
	    <code class="filename">/usr/local/etc/rc.d</code> directory.  These
	    shell scripts should be set executable, the default file
	    mode is <code class="literal">555</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51445240"></a><a id="adding-users"></a><p><strong>10.2.</strong></p></td><td align="left" valign="top"><p>How do I add a user easily?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> command, or the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>
	    command for more complicated situations.</p><p>To remove the user, use the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> command or,
	    if necessary, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51450744"></a><a id="root-not-found-cron-errors"></a><p><strong>10.3.</strong></p></td><td align="left" valign="top"><p>Why do I keep getting messages like <span class="errorname">root:
	      not found</span> after editing
	    <code class="filename">/etc/crontab</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is normally caused by editing the system crontab.
	    This is not the correct way to do things as the system
	    crontab has a different format to the per-user crontabs.
	    The system
	    crontab has an extra field, specifying which user to run
	    the command as.  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> assumes this user is the
	    first word of the command to execute.  Since no such
	    command exists, this error message is displayed.</p><p>To delete the extra, incorrect crontab:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab -r</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51459704"></a><a id="su-wheel-group"></a><p><strong>10.4.</strong></p></td><td align="left" valign="top"><p>Why do I get the error, <span class="errorname">you are not in the
	      correct group to su root</span> when I try to
	    <code class="command">su</code> to <code class="systemitem">root</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is a security feature.  In order to
	    <code class="command">su</code> to
	    <code class="systemitem">root</code>, or any
	    other account with superuser privileges, the user account
	    must be a member of the
	    <code class="systemitem">wheel</code> group.
	    If this feature were not there, anybody with an
	    account on a system who also found out <code class="systemitem">root</code>'s password would be
	    able to gain superuser level access to the system.</p><p>To allow someone to <code class="command">su</code> to
	    <code class="systemitem">root</code>, put
	    them in the <code class="systemitem">wheel</code> group using
	    <code class="command">pw</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw groupmod wheel -m lisa</code></strong></pre><p>The above example will add user <code class="systemitem">lisa</code> to the group
	    <code class="systemitem">wheel</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51489912"></a><a id="rcconf-readonly"></a><p><strong>10.5.</strong></p></td><td align="left" valign="top"><p>I made a mistake in <code class="filename">rc.conf</code>, or
	    another startup file, and now I cannot edit it because the
	    file system is read-only.  What should I do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Restart the system using <strong class="userinput"><code>boot
	      -s</code></strong> at the loader prompt to enter single-user
	    mode.  When prompted for a shell pathname, press
	    <span class="keycap"><strong>Enter</strong></span> and run <code class="command">mount -urw
	      /</code> to re-mount the root file system in
	    read/write mode.  You may also need to run <code class="command">mount
	      -a -t ufs</code> to mount the file system where your
	    favorite editor is defined.  If that editor is on a
	    network file system, either configure the network manually
	    before mounting the network file systems, or use an editor
	    which resides on a local file system, such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ed</span>(1)</span></a>.</p><p>In order to use a full screen editor such as
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vi</span>(1)</span></a> or <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=emacs&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">emacs</span>(1)</span></a>, run
	    <code class="command">export TERM=xterm</code>
	    so that these editors can load the correct data from the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=termcap&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">termcap</span>(5)</span></a> database.</p><p>After performing these steps, edit
	    <code class="filename">/etc/rc.conf</code> to
	    fix the syntax error.  The error message displayed
	    immediately after the kernel boot messages should indicate
	    the number of the line in the file which is at
	    fault.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51498744"></a><a id="printer-setup"></a><p><strong>10.6.</strong></p></td><td align="left" valign="top"><p>Why am I having trouble setting up my printer?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>See the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/printing.html" target="_top">Handbook
	      entry on printing</a> for troubleshooting
	    tips.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51501304"></a><a id="keyboard-mappings"></a><p><strong>10.7.</strong></p></td><td align="left" valign="top"><p>How can I correct the keyboard mappings for my
	    system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Refer to the Handbook section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/using-localization.html" target="_top">using
	      localization</a>, specifically the section on <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/using-localization.html#setting-console" target="_top">console
	      setup</a>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51516664"></a><a id="user-quotas"></a><p><strong>10.8.</strong></p></td><td align="left" valign="top"><p>Why can I not get user quotas to work properly?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>It is possible that the kernel is not configured
		to use quotas.  In this case,
		add the following line to the kernel configuration
		file and recompile the kernel:</p><pre class="programlisting">options QUOTA</pre><p>Refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/quotas.html" target="_top">Handbook
		  entry on quotas</a> for full details.</p></li><li class="listitem"><p>Do not turn on quotas on
		<code class="filename">/</code>.</p></li><li class="listitem"><p>Put the quota file on the file system that the
		quotas are to be enforced on:</p><div class="informaltable"><table class="informaltable" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>File System</th><th>Quota file</th></tr></thead><tbody><tr><td><code class="filename">/usr</code></td><td><code class="filename">/usr/admin/quotas</code></td></tr><tr><td><code class="filename">/home</code></td><td><code class="filename">/home/admin/quotas</code></td></tr><tr><td>&#8230;</td><td>&#8230;</td></tr></tbody></table></div></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51533816"></a><a id="sysv-ipc"></a><p><strong>10.9.</strong></p></td><td align="left" valign="top"><p>Does FreeBSD support System V IPC primitives?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, FreeBSD supports System V-style IPC, including
	    shared memory, messages and semaphores, in the
	    <code class="filename">GENERIC</code> kernel.  With a custom
	    kernel, support may be loaded with the
	    <code class="filename">sysvshm.ko</code>,
	    <code class="filename">sysvsem.ko</code> and
	    <code class="filename">sysvmsg.ko</code> kernel modules, or
	    enabled in the custom kernel by adding the following lines
	    to the kernel configuration file:</p><pre class="programlisting">options    SYSVSHM          # enable shared memory
options    SYSVSEM          # enable for semaphores
options    SYSVMSG          # enable for messaging</pre><p>Recompile and install the kernel.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51538296"></a><a id="sendmail-alternative"></a><p><strong>10.10.</strong></p></td><td align="left" valign="top"><p>What other mail-server software can I use instead of
	    <span class="application">Sendmail</span>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <a class="link" href="http://www.sendmail.org/" target="_top"><span class="application">Sendmail</span></a>
	    server is the default mail-server software for FreeBSD, but
	    it can be replaced with another
	    MTA installed from the Ports Collection.  Available ports
	    include <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/mail/exim/pkg-descr">mail/exim</a>,
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/mail/postfix/pkg-descr">mail/postfix</a>, and
	    <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/mail/qmail/pkg-descr">mail/qmail</a>.  Search the mailing lists
	    for discussions regarding the advantages and disadvantages
	    of the available MTAs.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51542648"></a><a id="forgot-root-pw"></a><p><strong>10.11.</strong></p></td><td align="left" valign="top"><p>I have forgotten the <code class="systemitem">root</code> password!  What do I
	    do?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Do not panic!  Restart the system, type
	    <strong class="userinput"><code>boot -s</code></strong> at the
	    <code class="literal">Boot:</code> prompt to enter single-user mode.
	    At the question about the shell to use, hit
	    <span class="keycap"><strong>Enter</strong></span> which will display a
	    <code class="prompt">#</code> prompt.  Enter <code class="command">mount
	      -urw /</code> to remount the root file system
	    read/write, then run <code class="command">mount -a</code> to
	    remount all the file systems.  Run <code class="command">passwd
	      root</code> to change the <code class="systemitem">root</code> password then run
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=exit&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">exit</span>(1)</span></a> to continue booting.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If you are still prompted to give the <code class="systemitem">root</code> password when
	      entering the single-user mode, it means that the console
	      has been marked as <code class="literal">insecure</code> in
	      <code class="filename">/etc/ttys</code>.  In this case, it will
	      be required to boot from a FreeBSD installation disk,
	      choose the <span class="guimenuitem">Live CD</span> or
	      <span class="guimenuitem">Shell</span> at the beginning of the
	      install process and issue the commands mentioned above.
	      Mount the specific partition in this
	      case and then chroot to it.  For example, replace
	      <code class="command">mount -urw /</code> with
	      <code class="command">mount /dev/ada0p1 /mnt; chroot /mnt</code>
	      for a system on
	      <em class="replaceable"><code>ada0p1</code></em>.</p></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If the root partition cannot be mounted from
	      single-user mode, it is possible that the partitions are
	      encrypted and it is impossible to mount them without the
	      access keys.  For more information see the section
	      about encrypted disks in the FreeBSD <a class="link" href="../../../../doc/en_US.ISO8859-1/books/handbook/disks-encrypting.html" target="_top">Handbook</a>.</p></div></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51566712"></a><a id="CAD-reboot"></a><p><strong>10.12.</strong></p></td><td align="left" valign="top"><p>How do I keep <span class="keycap"><strong>Control</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>Delete</strong></span>
	    from rebooting the system?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=vt&amp;sektion=4&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">vt</span>(4)</span></a>, the default console
	    driver, this can be done by setting the following
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.vt.kbd_reboot=0</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51576440"></a><a id="dos-to-unix-txt"></a><p><strong>10.13.</strong></p></td><td align="left" valign="top"><p>How do I reformat DOS text files to <span class="trademark">UNIX</span>®
	    ones?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use this <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=perl&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">perl</span>(1)</span></a> command:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>perl -i.bak -npe 's/\r\n/\n/g' file(s)</code></strong></pre><p>where <em class="replaceable"><code>file(s)</code></em> is one or
	    more files to process.  The modification is done in-place,
	    with the original file stored with a
	    <code class="filename">.bak</code> extension.</p><p>Alternatively, use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tr&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tr</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>tr -d '\r' &lt; dos-text-file &gt; unix-file</code></strong></pre><p><em class="replaceable"><code>dos-text-file</code></em> is the file
	    containing DOS text while
	    <em class="replaceable"><code>unix-file</code></em> will contain the
	    converted output.  This can be quite a bit faster than
	    using <code class="command">perl</code>.</p><p>Yet another way to reformat DOS text files is to use
	    the <a xmlns="" class="package" href="https://www.freebsd.org/cgi/url.cgi?ports/converters/dosunix/pkg-descr">converters/dosunix</a> port from the
	    Ports Collection.  Consult its documentation about the
	    details.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51586168"></a><a id="reread-rc"></a><p><strong>10.14.</strong></p></td><td align="left" valign="top"><p>How do I re-read <code class="filename">/etc/rc.conf</code> and
	    re-start <code class="filename">/etc/rc</code> without a
	    reboot?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Go into single-user mode and then back to multi-user
	    mode:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>shutdown now</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>return</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>exit</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51595512"></a><a id="release-candidate"></a><p><strong>10.15.</strong></p></td><td align="left" valign="top"><p>I tried to update my system to the latest
	    <span class="emphasis"><em>-STABLE</em></span>, but got
	    <span class="emphasis"><em>-BETA<em class="replaceable"><code>x</code></em></em></span>,
	    <span class="emphasis"><em>-RC</em></span> or
	    <span class="emphasis"><em>-PRERELEASE</em></span>!  What is going
	    on?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: it is just a name.
	    <span class="emphasis"><em>RC</em></span> stands for <span class="quote">&#8220;<span class="quote">Release
	      Candidate</span>&#8221;</span>.  It signifies that a release is
	    imminent.  In FreeBSD, <span class="emphasis"><em>-PRERELEASE</em></span> is
	    typically synonymous with the code freeze before a
	    release.  (For some releases, the
	    <span class="emphasis"><em>-BETA</em></span> label was used in the same way
	    as <span class="emphasis"><em>-PRERELEASE</em></span>.)</p><p>Long answer: FreeBSD derives its releases from one of two
	    places.  Major, dot-zero, releases, such as 9.0-RELEASE
	    are branched from the head of the development stream,
	    commonly referred to as <a class="link" href="introduction.html#current" title="1.8.">-CURRENT</a>.  Minor releases, such
	    as 6.3-RELEASE or 5.2-RELEASE, have been snapshots of the
	    active <a class="link" href="introduction.html#stable" title="1.9.">-STABLE</a> branch.
	    Starting with 4.3-RELEASE, each release also now has its
	    own branch which can be tracked by people requiring an
	    extremely conservative rate of development (typically only
	    security advisories).</p><p>When a release is about to be made, the branch from
	    which it will be derived from has to undergo a certain
	    process.  Part of this process is a code freeze.  When a
	    code freeze is initiated, the name of the branch is
	    changed to reflect that it is about to become a release.
	    For example, if the branch used to be called 6.2-STABLE,
	    its name will be changed to 6.3-PRERELEASE to signify the
	    code freeze and signify that extra pre-release testing
	    should be happening.  Bug fixes can still be committed to
	    be part of the release.  When the source code is in shape
	    for the release the name will be changed to 6.3-RC to
	    signify that a release is about to be made from it.  Once
	    in the RC stage, only the most critical bugs found can be
	    fixed.  Once the release (6.3-RELEASE in this example) and
	    release branch have been made, the branch will be renamed
	    to 6.3-STABLE.</p><p>For more information on version numbers and the
	    various Subversion branches, refer to the <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/releng/article.html" target="_top">Release
	      Engineering</a> article.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51603960"></a><a id="kernel-chflag-failure"></a><p><strong>10.16.</strong></p></td><td align="left" valign="top"><p>I tried to install a new kernel, and the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a> failed.  How do I get around this?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: the security level is
	    greater than 0.  Reboot directly to single-user mode to
	    install the kernel.</p><p>Long answer: FreeBSD disallows changing system flags at
	    security levels greater than 0.  To check the current
	    security level:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>The security level cannot be lowered in multi-user
	    mode, so boot to single-user mode to install the kernel,
	    or change the security level in
	    <code class="filename">/etc/rc.conf</code> then reboot.  See the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page for details on
	    <code class="literal">securelevel</code>, and see
	    <code class="filename">/etc/defaults/rc.conf</code> and the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> manual page for more information on
	    <code class="filename">rc.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51619832"></a><a id="kernel-securelevel-time"></a><p><strong>10.17.</strong></p></td><td align="left" valign="top"><p>I cannot change the time on my system by more than one
	    second!  How do I get around this?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Short answer: the system is at a security level
	    greater than 1.  Reboot directly to single-user mode to
	    change the date.</p><p>Long answer: FreeBSD disallows changing the time by more
	    that one second at security levels greater than 1.  To
	    check the security level:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl kern.securelevel</code></strong></pre><p>The security level cannot be lowered in multi-user
	    mode.  Either boot to single-user mode to change the date
	    or change the security level in
	    <code class="filename">/etc/rc.conf</code> and reboot.  See the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page for details on
	    <code class="literal">securelevel</code>, and see
	    <code class="filename">/etc/defaults/rc.conf</code> and the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rc.conf</span>(5)</span></a> manual page for more information on
	    <code class="filename">rc.conf</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51626616"></a><a id="statd-mem-leak"></a><p><strong>10.18.</strong></p></td><td align="left" valign="top"><p>Why is <code class="command">rpc.statd</code> using 256 MB
	    of memory?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No, there is no memory leak, and it is not using
	    256 MB of memory.  For convenience,
	    <code class="command">rpc.statd</code> maps an obscene amount of
	    memory into its address space.  There is nothing terribly
	    wrong with this from a technical standpoint; it just
	    throws off things like <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a> and <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ps&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span></a>.</p><p><a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=rpc.statd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">rpc.statd</span>(8)</span></a> maps its status file (resident on
	    <code class="filename">/var</code>) into its address space; to save
	    worrying about remapping the status file later when it
	    needs to grow, it maps the status file with a generous
	    size.  This is very evident from the source code, where
	    one can see that the length argument to <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=mmap&amp;sektion=2&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">mmap</span>(2)</span></a> is
	    <code class="literal">0x10000000</code>, or one sixteenth of the
	    address space on an IA32, or exactly 256 MB.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51649912"></a><a id="unsetting-schg"></a><p><strong>10.19.</strong></p></td><td align="left" valign="top"><p>Why can I not unset the <code class="literal">schg</code> file
	    flag?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The system is running at securelevel greater than 0.
	    Lower the securelevel and try again.  For more
	    information, see <a class="link" href="security.html#securelevel" title="13.2.">the
	      <acronym class="acronym">FAQ</acronym> entry on securelevel</a> and
	    the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> manual page.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51654136"></a><a id="vnlru"></a><p><strong>10.20.</strong></p></td><td align="left" valign="top"><p>What is <code class="literal">vnlru</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">vnlru</code> flushes and frees vnodes when
	    the system hits the <code class="varname">kern.maxvnodes</code>
	    limit.  This kernel thread sits mostly idle, and only
	    activates when there is a huge amount of RAM and users are
	    accessing tens of thousands of tiny files.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51657208"></a><a id="top-memory-states"></a><p><strong>10.21.</strong></p></td><td align="left" valign="top"><p>What do the various memory states displayed by
	    <code class="command">top</code> mean?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">Active</code>: pages recently
		statistically used.</p></li><li class="listitem"><p><code class="literal">Inactive</code>: pages recently
		statistically unused.</p></li><li class="listitem"><p><code class="literal">Laundry</code>: pages recently
		statistically unused but known to be dirty, that is,
                whose contents needs to be paged out before they can
		be reused.</p></li><li class="listitem"><p><code class="literal">Free</code>: pages without data
		content, which can be immediately reused.</p></li><li class="listitem"><p><code class="literal">Wired</code>: pages that are fixed
		into memory, usually for kernel purposes, but also
		sometimes for special use in processes.</p></li></ul></div><p>Pages are most often written to disk (sort of a VM
	    sync) when they are in the laundry state, but active or
	    inactive pages can also be synced.  This depends upon the
	    CPU tracking of the modified bit being available, and in
	    certain situations there can be an advantage for a block
	    of VM pages to be synced, regardless of the queue they
	    belong to.  In most common cases, it is best to think of
	    the laundry queue as a queue of relatively unused
	    pages that might or might not be in the process of being
	    written to disk.  The inactive queue contains a mix of
	    clean and dirty pages; clean pages near the head of the
	    queue are reclaimed immediately to alleviate a free page
	    shortage, and dirty pages are moved to the laundry queue
	    for deferred processing.</p><p>There are some other flags (e.g., busy flag or busy
	    count) that might modify some of the described
	    rules.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51375224"></a><a id="free-memory-amount"></a><p><strong>10.22.</strong></p></td><td align="left" valign="top"><p>How much free memory is available?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are a couple of kinds of <span class="quote">&#8220;<span class="quote">free
	    memory</span>&#8221;</span>.  The most common is the amount of memory
	    immediately available without reclaiming memory already
	    in use.  That is the size of the free pages queue plus
	    some other reserved pages.  This amount is exported by the
	    <code class="literal">vm.stats.vm.v_free_count</code>
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>, shown, for instance, by <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=top&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">top</span>(1)</span></a>.
	    Another kind of <span class="quote">&#8220;<span class="quote">free memory</span>&#8221;</span> is
	    the total amount of virtual memory available to userland
	    processes, which depends on the sum of swap space and
	    usable memory.  Other kinds of <span class="quote">&#8220;<span class="quote">free memory</span>&#8221;</span>
	    descriptions are also possible, but it is relatively
	    useless to define these, but rather it is important to
	    make sure that the paging rate is kept low, and to avoid
	    running out of swap space.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51380600"></a><a id="var-empty"></a><p><strong>10.23.</strong></p></td><td align="left" valign="top"><p>What is <code class="filename">/var/empty</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="filename">/var/empty</code> is a directory that
	    the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> program uses when performing privilege
	    separation.  The <code class="filename">/var/empty</code>
	    directory is empty, owned by <code class="systemitem">root</code> and has the
	    <code class="literal">schg</code> flag set.  This directory should
	    not be deleted.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51356664"></a><a id="newsyslog-expectations"></a><p><strong>10.24.</strong></p></td><td align="left" valign="top"><p>I just changed
	    <code class="filename">/etc/newsyslog.conf</code>.  How can I check
	    if it does what I expect?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>To see what <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> will do, use the
	    following:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>newsyslog -nrvv</code></strong></pre></td></tr><tr class="question"><td align="left" valign="top"><a id="idp51360760"></a><a id="timezone"></a><p><strong>10.25.</strong></p></td><td align="left" valign="top"><p>My time is wrong, how can I change the
	    timezone?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=tzsetup&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">tzsetup</span>(8)</span></a>.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="all-about-zfs.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="x.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 9. ZFS </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 11. The X Window System and Virtual Consoles</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>