<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>Linux® emulation in FreeBSD</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="description" content="This masters thesis deals with updating the Linux emulation layer (the so called Linuxulator). The task was to update the layer to match the functionality of Linux 2.6. As a reference implementation, the Linux 2.6.16 kernel was chosen. The concept is loosely based on the NetBSD implementation. Most of the work was done in the summer of 2006 as a part of the Google Summer of Code students program. The focus was on bringing the NPTL (new POSIX thread library) support into the emulation layer, including TLS (thread local storage), futexes (fast user space mutexes), PID mangling, and some other minor things. Many small problems were identified and fixed in the process. My work was integrated into the main FreeBSD source repository and will be shipped in the upcoming 7.0R release. We, the emulation development team, are working on making the Linux 2.6 emulation the default emulation layer in FreeBSD." /><link rel="home" href="index.html" title="Linux® emulation in FreeBSD" /><link rel="next" href="inside.html" title="2. A look inside&#8230;" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="trademark">Linux</span>® emulation in FreeBSD</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="inside.html">Next</a></td></tr></table><hr /></div><div xml:lang="en" class="article" lang="en"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp46774648"></a><span class="trademark">Linux</span>® emulation in FreeBSD</h1></div><div><div xmlns="http://www.w3.org/1999/xhtml" class="author"><h3 class="author"><span class="firstname">Roman</span> <span class="surname">Divacky</span></h3><div class="affiliation"><div class="address"><p><br />
	  <code class="email">&lt;<a xmlns="" class="email" href="mailto:rdivacky@FreeBSD.org">rdivacky@FreeBSD.org</a>&gt;</code><br />
	</p></div></div></div></div><div>Revision: <a href="https://svnweb.freebsd.org/changeset/doc/570d4cfeba"><span class="svnref">570d4cfeba</span></a></div><div><a xmlns="http://www.w3.org/1999/xhtml" href="trademarks.html">Legal Notice</a></div><div>Last modified on 2019-12-07 16:24:22 +0000 by carlavilla.</div><div><div xmlns="http://www.w3.org/1999/xhtml" class="abstract"><div class="abstract-title">Abstract</div><p>This masters thesis deals with updating the <span class="trademark">Linux</span>®
	emulation layer (the so called
	<em class="firstterm">Linuxulator</em>).  The task was to update
	the layer to match the functionality of <span class="trademark">Linux</span>® 2.6. As a
	reference implementation, the <span class="trademark">Linux</span>® 2.6.16 kernel was
	chosen.  The concept is loosely based on the NetBSD
	implementation.  Most of the work was done in the summer of
	2006 as a part of the Google Summer of Code students program.
	The focus was on bringing the <em class="firstterm">NPTL</em> (new
	<span class="trademark">POSIX</span>® thread library) support into the emulation layer,
	including <em class="firstterm">TLS</em> (thread local storage),
	<em class="firstterm">futexes</em> (fast user space mutexes),
	<em class="firstterm">PID mangling</em>, and some other minor
	things.  Many small problems were identified and fixed in the
	process.  My work was integrated into the main FreeBSD source
	repository and will be shipped in the upcoming 7.0R release.
	We, the emulation development team, are working on making the
	<span class="trademark">Linux</span>® 2.6 emulation the default emulation layer in
	FreeBSD.</p></div></div></div><div class="docformatnavi">
      [
      
	  Split HTML
	
      /
      <a href="article.html">Single HTML</a>
      ]
    </div><hr /></div><div class="toc"><div class="toc-title">Table of Contents</div><dl class="toc"><dt><span class="sect1"><a href="index.html#intro">1. Introduction</a></span></dt><dt><span class="sect1"><a href="inside.html">2. A look inside&#8230;</a></span></dt><dt><span class="sect1"><a href="freebsd-emulation.html">3. Emulation</a></span></dt><dt><span class="sect1"><a href="md.html">4. <span class="trademark">Linux</span>® emulation layer -MD part</a></span></dt><dt><span class="sect1"><a href="mi.html">5. <span class="trademark">Linux</span>® emulation layer -MI part</a></span></dt><dt><span class="sect1"><a href="conclusion.html">6. Conclusion</a></span></dt><dt><span class="sect1"><a href="literatures.html">7. Literatures</a></span></dt></dl></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="intro"></a>1. Introduction</h2></div></div></div><p>In the last few years the open source <span class="trademark">UNIX</span>® based operating
      systems started to be widely deployed on server and client
      machines.  Among these operating systems I would like to point
      out two: FreeBSD, for its BSD heritage, time proven code base and
      many interesting features and <span class="trademark">Linux</span>® for its wide user base,
      enthusiastic open developer community and support from large
      companies.  FreeBSD tends to be used on server class machines
      serving heavy duty networking tasks with less usage on desktop
      class machines for ordinary users.  While <span class="trademark">Linux</span>® has the same
      usage on servers, but it is used much more by home based users.
      This leads to a situation where there are many binary only
      programs available for <span class="trademark">Linux</span>® that lack support for
      FreeBSD.</p><p>Naturally, a need for the ability to run <span class="trademark">Linux</span>® binaries on
      a FreeBSD system arises and this is what this thesis deals with:
      the emulation of the <span class="trademark">Linux</span>® kernel in the FreeBSD operating
      system.</p><p>During the Summer of 2006 Google Inc. sponsored a project
      which focused on extending the <span class="trademark">Linux</span>® emulation layer (the so
      called Linuxulator) in FreeBSD to include <span class="trademark">Linux</span>® 2.6 facilities.
      This thesis is written as a part of this project.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="inside.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> 2. A look inside&#8230;</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>