<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>6. Setup, Conventions, and Traditions</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Committer's Guide" /><link rel="up" href="index.html" title="Committer's Guide" /><link rel="prev" href="subversion-primer.html" title="5. Subversion Primer" /><link rel="next" href="pre-commit-review.html" title="7. Pre-Commit Review" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. Setup, Conventions, and Traditions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="subversion-primer.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pre-commit-review.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="conventions"></a>6. Setup, Conventions, and Traditions</h2></div></div></div><p>There are a number of things to do as a new developer.
      The first set of steps is specific to committers only.  These
      steps must be done by a mentor for those who are not
      committers.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="conventions-committers"></a>6.1. For New Committers</h3></div></div></div><p>Those who have been given commit rights to the FreeBSD
	repositories must follow these steps.</p><div class="itemizedlist"><a id="commit-notes"></a><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Get mentor approval before committing each of these
	    changes!</p></li><li class="listitem"><p>The <code class="filename">.ent</code> and
	    <code class="filename">.xml</code> files mentioned below exist in
	    the FreeBSD Documentation Project SVN repository at
	    <code class="literal">svn+ssh://repo.FreeBSD.org/doc/</code>.</p></li><li class="listitem"><p>New files that do not have the
	    <code class="literal">FreeBSD=%H</code>
	    <code class="command">svn:keywords</code> property will be rejected
	    when attempting to commit them to the repository.  Be sure
	    to read
	    <a class="xref" href="subversion-primer.html#svn-daily-use-adding-and-removing" title="5.3.7. Adding and Removing Files">Section 5.3.7, &#8220;Adding and Removing Files&#8221;</a>
	    regarding adding and removing files.  Verify that
	    <code class="filename">~/.subversion/config</code> contains the
	    necessary <span class="quote">&#8220;<span class="quote">auto-props</span>&#8221;</span> entries from
	    <code class="filename">auto-props.txt</code> mentioned
	    there.</p></li><li class="listitem"><p>All <code class="filename">src</code> commits go to
	    FreeBSD-CURRENT first before being merged to FreeBSD-STABLE.
	    The FreeBSD-STABLE branch must maintain
	    <acronym class="acronym">ABI</acronym> and <acronym class="acronym">API</acronym>
	    compatibility with earlier versions of that branch.  Do
	    not merge changes that break this compatibility.</p></li></ul></div><div class="procedure"><a id="commit-steps"></a><div class="procedure-title">Procedure 1. Steps for New Committers</div><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Add an Author Entity</strong></p><p><code class="filename">doc/head/share/xml/authors.ent</code>
	    &#8212; Add an author entity.  Later steps depend on this
	    entity, and missing this step will cause the
	    <code class="filename">doc/</code> build to fail.  This is a
	    relatively easy task, but remains a good first test of
	    version control skills.</p></li><li class="step"><p class="title"><strong>Update the List of Developers and
	    Contributors</strong></p><p><code class="filename">doc/head/en_US.ISO8859-1/articles/contributors/contrib.committers.xml</code>
	    &#8212;
	    Add an entry to the <span class="quote">&#8220;<span class="quote">Developers</span>&#8221;</span> section
	    of the <a class="link" href="../../../../doc/en_US.ISO8859-1/articles/contributors/staff-committers.html" target="_top">Contributors
	      List</a>.  Entries are sorted by last name.</p><p><code class="filename">doc/head/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</code>
	    &#8212; <span class="emphasis"><em>Remove</em></span> the entry from the
	    <span class="quote">&#8220;<span class="quote">Additional Contributors</span>&#8221;</span> section.  Entries
	    are sorted by first name.</p></li><li class="step"><p class="title"><strong>Add a News Item</strong></p><p><code class="filename">doc/head/share/xml/news.xml</code>
	    &#8212; Add an entry.  Look for the other entries that
	    announce new committers and follow the format.  Use the
	    date from the commit bit approval email from
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:core@FreeBSD.org">core@FreeBSD.org</a>&gt;</code>.</p></li><li class="step"><p class="title"><strong>Add a <acronym class="acronym">PGP</acronym> Key</strong></p><p><code class="filename">doc/head/share/pgpkeys/pgpkeys.ent</code>
	    and
	    <code class="filename">doc/head/share/pgpkeys/pgpkeys-developers.xml</code>
	    - Add your <acronym class="acronym">PGP</acronym> or
	    Gnu<acronym class="acronym">PG</acronym> key.  Those who do not yet have a
	    key should see <a class="xref" href="pgpkeys.html#pgpkeys-creating" title="2.1. Creating a Key">Section 2.1, &#8220;Creating a Key&#8221;</a>.</p><p>Dag-Erling Smørgrav <code class="email">&lt;<a xmlns="" class="email" href="mailto:des@FreeBSD.org">des@FreeBSD.org</a>&gt;</code> has written a shell script
	    (<code class="filename">doc/head/share/pgpkeys/addkey.sh</code>) to
	    make this easier.  See the <a class="link" href="http://svnweb.FreeBSD.org/doc/head/share/pgpkeys/README" target="_top">README</a>
	    file for more information.</p><p>Use
	    <code class="filename">doc/head/share/pgpkeys/checkkey.sh</code> to
	    verify that keys meet minimal best-practices
	    standards.</p><p>After adding and checking a key, add both updated
	    files to source control and then commit them.  Entries in
	    this file are sorted by last name.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">It is very important to have a current
	      <acronym class="acronym">PGP</acronym>/Gnu<acronym class="acronym">PG</acronym> key in
	      the repository.  The key may be required for positive
	      identification of a committer.  For example, the
	      FreeBSD Administrators <code class="email">&lt;<a xmlns="" class="email" href="mailto:admins@FreeBSD.org">admins@FreeBSD.org</a>&gt;</code> might need it for account recovery.  A
	      complete keyring of <code class="systemitem">FreeBSD.org</code> users is
	      available for download from <a class="link" href="../../../../doc/pgpkeyring.txt" target="_top">https://www.FreeBSD.org/doc/pgpkeyring.txt</a>.</p></div></li><li class="step"><p class="title"><strong>Update Mentor and Mentee Information</strong></p><p><code class="filename">base/head/share/misc/committers-<em class="replaceable"><code>repository</code></em>.dot</code>
	    &#8212; Add an entry to the current committers section,
	    where <em class="replaceable"><code>repository</code></em> is
	    <code class="literal">doc</code>, <code class="literal">ports</code>, or
	    <code class="literal">src</code>, depending on the commit privileges
	    granted.</p><p>Add an entry for each additional mentor/mentee
	    relationship in the bottom section.</p></li><li class="step"><p class="title"><strong>Generate a <span class="application">Kerberos</span>
	    Password</strong></p><p>See <a class="xref" href="kerberos-ldap.html" title="3. Kerberos and LDAP web Password for FreeBSD Cluster">Section 3, &#8220;Kerberos and LDAP web Password for FreeBSD Cluster&#8221;</a> to generate or
	    set a <span class="application">Kerberos</span> for use with
	    other FreeBSD services like the bug tracking database.</p></li><li class="step"><p class="title"><strong>Optional: Enable Wiki Account</strong></p><p><a class="link" href="https://wiki.freebsd.org" target="_top">FreeBSD
	      Wiki</a> Account &#8212; A wiki account allows
	    sharing projects and ideas.  Those who do not yet have an
	    account can follow instructions on the <a class="link" href="https://wiki.freebsd.org/AboutWiki" target="_top">AboutWiki
	    Page</a> to obtain one.  Contact
	    <code class="email">&lt;<a xmlns="" class="email" href="mailto:wiki-admin@FreeBSD.org">wiki-admin@FreeBSD.org</a>&gt;</code> if you need help
	    with your Wiki account.</p></li><li class="step"><p class="title"><strong>Optional: Update Wiki Information</strong></p><p>Wiki Information - After gaining access to the wiki,
	    some people add entries to the <a class="link" href="https://wiki.freebsd.org/HowWeGotHere" target="_top">How
	      We Got Here</a>, <a class="link" href="https://wiki.freebsd.org/IRC/Nicknames" target="_top">IRC
	      Nicks</a>, and <a class="link" href="https://wiki.freebsd.org/Community/Dogs" target="_top">
	      Dogs of FreeBSD</a> pages.</p></li><li class="step"><p class="title"><strong>Optional: Update Ports with Personal
	    Information</strong></p><p><code class="filename">ports/astro/xearth/files/freebsd.committers.markers</code>
	    and
	    <code class="filename">src/usr.bin/calendar/calendars/calendar.freebsd</code>
	    - Some people add entries for themselves to these files to
	    show where they are located or the date of their
	    birthday.</p></li><li class="step"><p class="title"><strong>Optional: Prevent Duplicate Mailings</strong></p><p>Subscribers to <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all" target="_top">svn-src-all</a>,
	    <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all" target="_top">svn-ports-all</a> or <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all" target="_top">svn-doc-all</a> might wish
	    to unsubscribe to avoid receiving duplicate copies of
	    commit messages and followups.</p></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="conventions-everyone"></a>6.2. For Everyone</h3></div></div></div><div class="procedure"><a id="conventions-everyone-steps"></a><ol class="procedure" type="1"><li class="step"><p>Introduce yourself to the other developers, otherwise
	    no one will have any idea who you are or what you are
	    working on.  The introduction need not be a comprehensive
	    biography, just write a paragraph or two about who you
	    are, what you plan to be working on as a developer in
	    FreeBSD, and who will be your mentor.  Email this to the
	    FreeBSD developers mailing list and you will be on your way!</p></li><li class="step"><p>Log into <code class="systemitem">freefall.FreeBSD.org</code>
	    and create a
	    <code class="filename">/var/forward/<em class="replaceable"><code>user</code></em></code>
	    (where <em class="replaceable"><code>user</code></em> is your username)
	    file containing the e-mail address where you want mail
	    addressed to
	    <em class="replaceable"><code>yourusername</code></em>@FreeBSD.org to be
	    forwarded.  This includes all of the commit messages as
	    well as any other mail addressed to the FreeBSD committer's mailing list and
	    the FreeBSD developers mailing list.  Really large mailboxes which have
	    taken up permanent residence on
	    <code class="systemitem">freefall</code> may get truncated
	    without warning if space needs to be freed, so forward it
	    or save it elsewhere.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If your e-mail system uses SPF with strict rules,
	      you should whitelist <code class="systemitem">mx2.FreeBSD.org</code> from
	      SPF checks.</p></div><p>Due to the severe load dealing with SPAM places on the
	    central mail servers that do the mailing list processing,
	    the front-end server does do some basic checks and will
	    drop some messages based on these checks.  At the moment
	    proper DNS information for the connecting host is the only
	    check in place but that may change.  Some people blame
	    these checks for bouncing valid email.  To have these
	    checks turned off for your email, create a file
	    named <code class="filename">~/.spam_lover</code>
	    on <code class="systemitem">freefall.FreeBSD.org</code>.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Those who are developers but not committers will
	  not be subscribed to the committers or developers mailing
	  lists.  The subscriptions are derived from the access
	  rights.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="smtp-setup"></a>6.2.1. SMTP Access Setup</h4></div></div></div><p>For those willing to send e-mail messages through the
	  FreeBSD.org infrastructure, follow the instructions
	  below:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Point your mail client at
	      <code class="literal"><code class="systemitem">smtp.FreeBSD.org</code>:587</code>.</p></li><li class="step"><p>Enable STARTTLS.</p></li><li class="step"><p>Ensure your <code class="literal">From:</code> address is set
	      to
	      <code class="literal"><em class="replaceable"><code>yourusername</code></em>@FreeBSD.org</code>.</p></li><li class="step"><p>For authentication, you can use your FreeBSD Kerberos
	      username and password (see <a class="xref" href="kerberos-ldap.html" title="3. Kerberos and LDAP web Password for FreeBSD Cluster">Section 3, &#8220;Kerberos and LDAP web Password for FreeBSD Cluster&#8221;</a>).  The
	      <code class="literal"><em class="replaceable"><code>yourusername</code></em>/mail</code>
	      principal is preferred, as it is only valid for
	      authenticating to mail resources.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Do not include <code class="literal">@FreeBSD.org</code>
		when entering in your username.</p></div></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Additional Notes: </h3><div xmlns="http://www.w3.org/1999/xhtml" class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Will only accept mail from
		<code class="literal"><em class="replaceable"><code>yourusername</code></em>@FreeBSD.org</code>.
		If you are authenticated as one user, you are not
		permitted to send mail from another.</p></li><li class="listitem"><p>A header will be appended with the SASL username:
		(<code class="literal">Authenticated sender:
		<em class="replaceable"><code>username</code></em></code>).</p></li><li class="listitem"><p>Host has various rate limits in place to cut down
		on brute force attempts.</p></li></ul></div></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="smtp-setup-local-mta"></a>6.2.1.1. Using a Local MTA to Forward Emails to the
	    FreeBSD.org SMTP Service</h5></div></div></div><p>It is also possible to use a local
	    <acronym class="acronym">MTA</acronym> to forward locally sent emails to
	    the FreeBSD.org SMTP servers.</p><div class="example"><a id="smtp-setup-local-postfix"></a><div class="example-title">Example 1. Using <span class="application">Postfix</span></div><div class="example-contents"><p>To tell a local Postfix instance that anything from
	      <code class="literal"><em class="replaceable"><code>yourusername</code></em>@FreeBSD.org</code>
	      should be forwarded to the FreeBSD.org servers, add this to
	      your <code class="filename">main.cf</code>:</p><pre class="programlisting">sender_dependent_relayhost_maps = hash:/usr/local/etc/postfix/relayhost_maps
smtp_sasl_auth_enable = yes
smtp_sasl_security_options = noanonymous
smtp_sasl_password_maps = hash:/usr/local/etc/postfix/sasl_passwd
smtp_use_tls = yes</pre><p>Create
	      <code class="filename">/usr/local/etc/postfix/relayhost_maps</code>
	      with the following content:</p><pre class="programlisting"><em class="replaceable"><code>yourusername</code></em>@FreeBSD.org  [smtp.freebsd.org]:587</pre><p>Create
	      <code class="filename">/usr/local/etc/postfix/sasl_passwd</code>
	      with the following content:</p><pre class="programlisting">[smtp.freebsd.org]:587          <em class="replaceable"><code>yourusername</code></em>:<em class="replaceable"><code>yourpassword</code></em></pre><p>If the email server is used by other people, you
	      may want to prevent them from sending e-mails from your
	      address.  To achieve this, add this to your
	      <code class="filename">main.cf</code>:</p><pre class="programlisting">smtpd_sender_login_maps = hash:/usr/local/etc/postfix/sender_login_maps
smtpd_sender_restrictions = reject_known_sender_login_mismatch</pre><p>Create
	      <code class="filename">/usr/local/etc/postfix/sender_login_maps</code>
	      with the following content:</p><pre class="programlisting"><em class="replaceable"><code>yourusername</code></em>@FreeBSD.org <em class="replaceable"><code>yourlocalusername</code></em></pre><p>Where <em class="replaceable"><code>yourlocalusername</code></em>
	      is the <acronym class="acronym">SASL</acronym> username used to connect
	      to the local instance of
	      <span class="application">Postfix</span>.</p></div></div><br class="example-break" /></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="mentors"></a>6.3. Mentors</h3></div></div></div><p>All new developers have a mentor assigned to them for
	the first few months.  A mentor is responsible for teaching
	the mentee the rules and conventions of the project and
	guiding their first steps in the developer community.  The
	mentor is also personally responsible for the mentee's actions
	during this initial period.</p><p>For committers: do not commit anything without first
	getting mentor approval.  Document that approval with an
	<code class="literal">Approved by:</code> line in the commit
	message.</p><p>When the mentor decides that a mentee has learned the
	ropes and is ready to commit on their own, the mentor
	announces it with a commit to
	<code class="filename">conf/mentors</code>.  This file is in the
	<code class="filename">svnadmin</code> branch of each
	repository:</p><div class="informaltable"><table class="informaltable" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="literal">src</code></td><td><code class="filename">base/svnadmin/conf/mentors</code></td></tr><tr><td><code class="literal">doc</code></td><td><code class="filename">doc/svnadmin/conf/mentors</code></td></tr><tr><td><code class="literal">ports</code></td><td><code class="filename">ports/svnadmin/conf/mentors</code></td></tr></tbody></table></div><p>New committers should aim to complete enough commits that
	their mentor is comfortable releasing them from mentorship
	within the first year.  If they are still under mentorship, the
	appropriate management body (core, doceng, or portmgr) should
	attempt to ensure that there are no barriers preventing
	completion.  If the committer is unable to satisfy their mentor
	of readiness by a year and a half their commit bit may be
	converted to project membership.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="subversion-primer.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pre-commit-review.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5. Subversion Primer </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 7. Pre-Commit Review</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>