<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2. Terms and Conventions</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Pluggable Authentication Modules" /><link rel="up" href="index.html" title="Pluggable Authentication Modules" /><link rel="prev" href="index.html" title="Pluggable Authentication Modules" /><link rel="next" href="pam-essentials.html" title="3. PAM Essentials" /><link rel="copyright" href="pam-legalnotice.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Terms and Conventions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="pam-essentials.html">Next</a></td></tr></table><hr /></div><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pam-terms"></a>2. Terms and Conventions</h2></div></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pam-definitions"></a>2.1. Definitions</h3></div></div></div><p>The terminology surrounding PAM is rather confused.
	Neither Samar and Lai's original paper nor the XSSO
	specification made any attempt at formally defining terms for
	the various actors and entities involved in PAM, and the terms
	that they do use (but do not define) are sometimes misleading
	and ambiguous.  The first attempt at establishing a consistent
	and unambiguous terminology was a whitepaper written by Andrew
	G. Morgan (author of Linux-PAM) in 1999.  While Morgan's
	choice of terminology was a huge leap forward, it is in this
	author's opinion by no means perfect.  What follows is an
	attempt, heavily inspired by Morgan, to define precise and
	unambiguous terms for all actors and entities involved in
	PAM.</p><div class="glosslist"><dl><dt><span class="glossterm">account</span></dt><dd class="glossdef"><p>The set of credentials the applicant is requesting
	      from the arbitrator.</p></dd><dt><span class="glossterm">applicant</span></dt><dd class="glossdef"><p>The user or entity requesting authentication.</p></dd><dt><span class="glossterm">arbitrator</span></dt><dd class="glossdef"><p>The user or entity who has the privileges necessary
	      to verify the applicant's credentials and the authority
	      to grant or deny the request.</p></dd><dt><span class="glossterm">chain</span></dt><dd class="glossdef"><p>A sequence of modules that will be invoked in
	      response to a PAM request.  The chain includes
	      information about the order in which to invoke the
	      modules, what arguments to pass to them, and how to
	      interpret the results.</p></dd><dt><span class="glossterm">client</span></dt><dd class="glossdef"><p>The application responsible for initiating an
	      authentication request on behalf of the applicant and
	      for obtaining the necessary authentication information
	      from him.</p></dd><dt><span class="glossterm">facility</span></dt><dd class="glossdef"><p>One of the four basic groups of functionality
	      provided by PAM: authentication, account management,
	      session management and authentication token
	      update.</p></dd><dt><span class="glossterm">module</span></dt><dd class="glossdef"><p>A collection of one or more related functions
	      implementing a particular authentication facility,
	      gathered into a single (normally dynamically loadable)
	      binary file and identified by a single name.</p></dd><dt><span class="glossterm">policy</span></dt><dd class="glossdef"><p>The complete set of configuration statements
	      describing how to handle PAM requests for a particular
	      service.  A policy normally consists of four chains, one
	      for each facility, though some services do not use all
	      four facilities.</p></dd><dt><span class="glossterm">server</span></dt><dd class="glossdef"><p>The application acting on behalf of the arbitrator
	      to converse with the client, retrieve authentication
	      information, verify the applicant's credentials and
	      grant or deny requests.</p></dd><dt><span class="glossterm">service</span></dt><dd class="glossdef"><p>A class of servers providing similar or related
	      functionality and requiring similar authentication.  PAM
	      policies are defined on a per-service basis, so all
	      servers that claim the same service name will be subject
	      to the same policy.</p></dd><dt><span class="glossterm">session</span></dt><dd class="glossdef"><p>The context within which service is rendered to the
	      applicant by the server.  One of PAM's four facilities,
	      session management, is concerned exclusively with
	      setting up and tearing down this context.</p></dd><dt><span class="glossterm">token</span></dt><dd class="glossdef"><p>A chunk of information associated with the account,
	      such as a password or passphrase, which the applicant
	      must provide to prove his identity.</p></dd><dt><span class="glossterm">transaction</span></dt><dd class="glossdef"><p>A sequence of requests from the same applicant to
	      the same instance of the same server, beginning with
	      authentication and session set-up and ending with
	      session tear-down.</p></dd></dl></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="pam-usage-examples"></a>2.2. Usage Examples</h3></div></div></div><p>This section aims to illustrate the meanings of some of
	the terms defined above by way of a handful of simple
	examples.</p><div class="section"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp46899960"></a>2.2.1. Client and Server Are One</h4></div></div></div><p>This simple example shows <code class="literal">alice</code>
	  <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>'ing to <code class="literal">root</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>whoami</code></strong>
alice
<code class="prompt">%</code> <strong class="userinput"><code>ls -l `which su`</code></strong>
-r-sr-xr-x  1 root  wheel  10744 Dec  6 19:06 /usr/bin/su
<code class="prompt">%</code> <strong class="userinput"><code>su -</code></strong>
Password: <strong class="userinput"><code>xi3kiune</code></strong>
<code class="prompt">#</code> whoami
root</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The applicant is <code class="literal">alice</code>.</p></li><li class="listitem"><p>The account is <code class="literal">root</code>.</p></li><li class="listitem"><p>The <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> process is both client and
	      server.</p></li><li class="listitem"><p>The authentication token is
	      <code class="literal">xi3kiune</code>.</p></li><li class="listitem"><p>The arbitrator is <code class="literal">root</code>, which is
	      why <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> is setuid <code class="literal">root</code>.</p></li></ul></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp46945144"></a>2.2.2. Client and Server Are Separate</h4></div></div></div><p>The example below shows <code class="literal">eve</code> try to
	  initiate an <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> connection to
	  <code class="literal">login.example.com</code>, ask to log in as
	  <code class="literal">bob</code>, and succeed.  Bob should have chosen
	  a better password!</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>whoami</code></strong>
eve
<code class="prompt">%</code> <strong class="userinput"><code>ssh bob@login.example.com</code></strong>
bob@login.example.com's password: <strong class="userinput"><code>god</code></strong>
Last login: Thu Oct 11 09:52:57 2001 from 192.168.0.1
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
	The Regents of the University of California.  All rights reserved.
FreeBSD 4.4-STABLE (LOGIN) #4: Tue Nov 27 18:10:34 PST 2001

Welcome to FreeBSD!
<code class="prompt">%</code></pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The applicant is <code class="literal">eve</code>.</p></li><li class="listitem"><p>The client is Eve's <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">ssh</span>(1)</span></a> process.</p></li><li class="listitem"><p>The server is the <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> process on
	      <code class="literal">login.example.com</code></p></li><li class="listitem"><p>The account is <code class="literal">bob</code>.</p></li><li class="listitem"><p>The authentication token is
	      <code class="literal">god</code>.</p></li><li class="listitem"><p>Although this is not shown in this example, the
	      arbitrator is <code class="literal">root</code>.</p></li></ul></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp46998520"></a>2.2.3. Sample Policy</h4></div></div></div><p>The following is FreeBSD's default policy for
	  <code class="literal">sshd</code>:</p><pre class="programlisting">sshd	auth		required	pam_nologin.so	no_warn
sshd	auth		required	pam_unix.so	no_warn try_first_pass
sshd	account		required	pam_login_access.so
sshd	account		required	pam_unix.so
sshd	session		required	pam_lastlog.so	no_fail
sshd	password	required	pam_permit.so</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>This policy applies to the <code class="literal">sshd</code>
	      service (which is not necessarily restricted to the
	      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">sshd</span>(8)</span></a> server.)</p></li><li class="listitem"><p><code class="literal">auth</code>, <code class="literal">account</code>,
	      <code class="literal">session</code> and
	      <code class="literal">password</code> are facilities.</p></li><li class="listitem"><p><code class="filename">pam_nologin.so</code>,
	      <code class="filename">pam_unix.so</code>,
	      <code class="filename">pam_login_access.so</code>,
	      <code class="filename">pam_lastlog.so</code> and
	      <code class="filename">pam_permit.so</code> are modules.  It is
	      clear from this example that
	      <code class="filename">pam_unix.so</code> provides at least two
	      facilities (authentication and account
	      management.)</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="pam-essentials.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Pluggable Authentication Modules </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. PAM Essentials</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>