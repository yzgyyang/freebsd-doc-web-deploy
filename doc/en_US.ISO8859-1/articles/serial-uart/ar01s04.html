<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4. Configuring the si driver</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Serial and UART Tutorial" /><link rel="up" href="index.html" title="Serial and UART Tutorial" /><link rel="prev" href="cy.html" title="3. Configuring the cy driver" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. Configuring the <code class="filename">si</code> driver</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="cy.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> </td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp48315384"></a>4. Configuring the <code class="filename">si</code> driver</h2></div></div></div><p><span class="emphasis"><em>Contributed by Nick Sayer <code class="email">&lt;<a xmlns="" class="email" href="mailto:nsayer@FreeBSD.org">nsayer@FreeBSD.org</a>&gt;</code>. 25 March
	1998.</em></span></p><p>The Specialix SI/XIO and SX multiport cards use the
	<code class="filename">si</code> driver. A single machine can have
	up to 4 host cards. The following host cards are
	supported:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ISA SI/XIO host card (2 versions)</p></li><li class="listitem"><p>EISA SI/XIO host card</p></li><li class="listitem"><p>PCI SI/XIO host card</p></li><li class="listitem"><p>ISA SX host card</p></li><li class="listitem"><p>PCI SX host card</p></li></ul></div><p>Although the SX and SI/XIO host cards look markedly
	different, their functionality are basically the same. The
	host cards do not use I/O locations, but instead require a 32K
	chunk of memory. The factory configuration for ISA cards
	places this at <code class="literal">0xd0000-0xd7fff</code>.  They also
	require an IRQ. PCI cards will, of course, auto-configure
	themselves.</p><p>You can attach up to 4 external modules to each host
	card. The external modules contain either 4 or 8 serial
	ports. They come in the following varieties:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>SI 4 or 8 port modules. Up to 57600 bps on each port
	      supported.</p></li><li class="listitem"><p>XIO 8 port modules. Up to 115200 bps on each port
	      supported. One type of XIO module has 7 serial and 1 parallel
	      port.</p></li><li class="listitem"><p>SXDC 8 port modules. Up to 921600 bps on each port
	      supported. Like XIO, a module is available with one parallel
	      port as well.</p></li></ul></div><p>To configure an ISA host card, add the following line to
	your kernel configuration file, changing the numbers as
	appropriate:</p><pre class="programlisting">device si0 at isa? iomem 0xd0000 irq 11</pre><p>Valid IRQ numbers are 9, 10, 11, 12 and 15 for SX ISA host
	cards and 11, 12 and 15 for SI/XIO ISA host cards.</p><p>To configure an EISA or PCI host card, use this line:</p><pre class="programlisting">device si0</pre><p>After adding the configuration entry, rebuild and
	install your new kernel.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The following step, is not necessary if you are using
          <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=devfs&amp;sektion=5&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">devfs</span>(5)</span></a> in FreeBSD 5.<em class="replaceable"><code>X</code></em>.</p></div><p>After rebooting with the new kernel, you need to make the
	device nodes in <code class="filename">/dev</code>.  The <code class="filename">MAKEDEV</code> script
	will take care of this for you.  Count how many total ports
	you have and type:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /dev</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>./MAKEDEV ttyA<em class="replaceable"><code>nn</code></em> cuaA<em class="replaceable"><code>nn</code></em></code></strong></pre><p>(where <em class="replaceable"><code>nn</code></em> is the number of
	ports)</p><p>If you want login prompts to appear on these ports, you
	will need to add lines like this to
	<code class="filename">/etc/ttys</code>:</p><pre class="programlisting">ttyA01  "/usr/libexec/getty std.9600"   vt100   on insecure</pre><p>Change the terminal type as appropriate. For modems,
	<strong class="userinput"><code>dialup</code></strong> or
	<strong class="userinput"><code>unknown</code></strong> is fine.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="cy.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top">3. Configuring the <code class="filename">cy</code> driver </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>