<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5. Using Type 1 Fonts with X11</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Fonts and FreeBSD" /><link rel="up" href="index.html" title="Fonts and FreeBSD" /><link rel="prev" href="virtual-console.html" title="4. Setting a Virtual Console to 80x60 Line Mode" /><link rel="next" href="type1-fonts-ghostscript.html" title="6. Using Type 1 Fonts with Ghostscript" /><link rel="copyright" href="trademarks.html" title="Legal Notice" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Using Type 1 Fonts with
      <span class="application">X11</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="virtual-console.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="type1-fonts-ghostscript.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="type1-fonts-x11"></a>5. Using Type 1 Fonts with
      <span class="application">X11</span></h2></div></div></div><p><span class="application">X11</span> can use either the
      <code class="filename">.pfa</code> or the
      <code class="filename">.pfb</code> format fonts.  The
      <span class="application">X11</span> fonts are located in various
      subdirectories under
      <code class="filename">/usr/X11R6/lib/X11/fonts</code>.  Each font file
      is cross referenced to its <span class="application">X11</span> name
      by the contents of <code class="filename">fonts.dir</code> in each
      directory.</p><p>There is already a directory named
      <code class="filename">Type1</code>.  The most straight forward way to
      add a new font is to put it into this directory.  A better way
      is to keep all new fonts in a separate directory and use a
      symbolic link to the additional font.  This allows one to more
      easily keep track of ones fonts without confusing them with the
      fonts that were originally provided.  For example:</p><div class="informalexample"><pre class="screen"><em class="lineannotation"><span class="lineannotation">Create a directory to contain the font files</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>mkdir -p /usr/local/share/fonts/type1</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>cd /usr/local/share/fonts/type1</code></strong>

<em class="lineannotation"><span class="lineannotation">Place the .pfa, .pfb and .afm files here</span></em>
<em class="lineannotation"><span class="lineannotation">One might want to keep readme files, and other documentation</span></em>
<em class="lineannotation"><span class="lineannotation">for the fonts here also</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cp /cdrom/fonts/atm/showboat/showboat.pfb .</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>cp /cdrom/fonts/atm/showboat/showboat.afm .</code></strong>

<em class="lineannotation"><span class="lineannotation">Maintain an index to cross reference the fonts</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>echo showboat - InfoMagic CICA, Dec 1994, /fonts/atm/showboat &gt;&gt;INDEX</code></strong></pre></div><p>Now, to use a new font with <span class="application">X11</span>,
      one must make the font file available and update the font name
      files.  The <span class="application">X11</span> font names look
      like:</p><div class="informalexample"><pre class="programlisting">-bitstream-charter-medium-r-normal-xxx-0-0-0-0-p-0-iso8859-1
     |        |      |    |   |     |  | | | | | |    \    \
     |        |      |    |   |     \  \ \ \ \ \ \     +----+- character set
     |        |      |    |   \      \  \ \ \ \ \ +- average width
     |        |      |    |    \      \  \ \ \ \ +- spacing
     |        |      |    \	\      \  \ \ \ +- vertical res.
     |        |      |     \	 \	\  \ \ +- horizontal res.
     |        |      |      \	  \	 \  \ +- points
     |        |      |       \     \	  \  +- pixels
     |        |      |        \     \	   \
  foundry  family  weight   slant  width  additional style</pre></div><p>A new name needs to be created for each new font.  If you
      have some information from the documentation that accompanied
      the font, then it could serve as the basis for creating the
      name.  If there is no information, then you can get some idea by
      using <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=strings&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">strings</span>(1)</span></a> on the font file.  For example:</p><div class="informalexample"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>strings showboat.pfb | more</code></strong>
%!FontType1-1.0: Showboat 001.001
%%CreationDate: 1/15/91 5:16:03 PM
%%VMusage: 1024 45747
% Generated by Fontographer 3.1
% Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.
FontDirectory/Showboat known{/Showboat findfont dup/UniqueID known{dup
/UniqueID get 4962377 eq exch/FontType get 1 eq and}{pop false}ifelse
{save true}{false}ifelse}{false}ifelse
12 dict begin
/FontInfo 9 dict dup begin
 /version (001.001) readonly def
 /FullName (Showboat) readonly def
 /FamilyName (Showboat) readonly def
 /Weight (Medium) readonly def
 /ItalicAngle 0 def
 /isFixedPitch false def
 /UnderlinePosition -106 def
 /UnderlineThickness 16 def
 /Notice (Showboat
 1991 by David Rakowski.  Alle Rechte Vorbehalten.) readonly def
end readonly def
/FontName /Showboat def
--stdin--</pre></div><p>Using this information, a possible name might be:</p><div class="informalexample"><pre class="screen">-type1-Showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1</pre></div><p>The components of our name are:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Foundry</span></dt><dd><p>Lets just name all the new fonts
	    <code class="literal">type1</code>.</p></dd><dt><span class="term">Family</span></dt><dd><p>The name of the font.</p></dd><dt><span class="term">Weight</span></dt><dd><p>Normal, bold, medium, semibold, etc.  From the
	    <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=strings&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">strings</span>(1)</span></a>
	    output above, it appears that this font has a weight of
	    <span class="emphasis"><em>medium</em></span>.</p></dd><dt><span class="term">Slant</span></dt><dd><p><span class="emphasis"><em>r</em></span>oman, <span class="emphasis"><em>i</em></span>talic, <span class="emphasis"><em>o</em></span>blique, etc.  Since the
	    <span class="emphasis"><em>ItalicAngle</em></span> is zero,
	    <span class="emphasis"><em>roman</em></span> will be used.</p></dd><dt><span class="term">Width</span></dt><dd><p>Normal, wide, condensed, extended, etc.  Until it can
	    be examined, the assumption will be
	    <span class="emphasis"><em>normal</em></span>.</p></dd><dt><span class="term">Additional style</span></dt><dd><p>Usually omitted, but this will indicate that the font
	    contains decorative capital letters.</p></dd><dt><span class="term">Spacing</span></dt><dd><p>proportional or monospaced.
	    <span class="emphasis"><em>Proportional</em></span> is used since
	    <span class="emphasis"><em>isFixedPitch</em></span> is false.</p></dd></dl></div><p>All of these names are arbitrary, but one should strive to
      be compatible with the existing conventions.  A font is
      referenced by name with possible wild cards by an
      <span class="application">X11</span> program, so the name chosen
      should make some sense.  One might begin by simply using

      </p><div class="informalexample"><pre class="screen">&#8230;-normal-r-normal-&#8230;-p-&#8230;</pre></div><p>

      as the name, and then use
      <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xfontsel&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xfontsel</span>(1)</span></a>
      to examine it and adjust the name based on the appearance of the
      font.</p><p>So, to complete our example:</p><div class="informalexample"><pre class="screen"><em class="lineannotation"><span class="lineannotation">Make the font accessible to X11</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cd /usr/X11R6/lib/X11/fonts/Type1</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>ln -s /usr/local/share/fonts/type1/showboat.pfb .</code></strong>

<em class="lineannotation"><span class="lineannotation">Edit fonts.dir and fonts.scale, adding the line describing the font
and incrementing the number of fonts which is found on the first line.</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>ex fonts.dir
:1p
25
:1c
26
.
:$a
showboat.pfb -type1-showboat-medium-r-normal-decorative-0-0-0-0-p-0-iso8859-1
.
:wq</code></strong>

<em class="lineannotation"><span class="lineannotation">fonts.scale seems to be identical to fonts.dir&#8230;</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>cp fonts.dir fonts.scale</code></strong>

<em class="lineannotation"><span class="lineannotation">Tell X11 that things have changed</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>xset fp rehash</code></strong>

<em class="lineannotation"><span class="lineannotation">Examine the new font</span></em>
<code class="prompt">%</code> <strong class="userinput"><code>xfontsel -pattern -type1-*</code></strong></pre></div><p>References: <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xfontsel&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xfontsel</span>(1)</span></a>, <a class="citerefentry" href="https://www.FreeBSD.org/cgi/man.cgi?query=xset&amp;sektion=1&amp;manpath=freebsd-release-ports"><span class="citerefentry"><span class="refentrytitle">xset</span>(1)</span></a>, <em class="citetitle">The X
	Windows System in a Nutshell</em>, <a class="link" href="http://www.ora.com/" target="_top">O'Reilly &amp;
	Associates</a>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="virtual-console.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="type1-fonts-ghostscript.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Setting a Virtual Console to 80x60 Line Mode </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6. Using Type 1 Fonts with Ghostscript</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="https://download.freebsd.org/ftp/doc/">https://download.freebsd.org/ftp/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="https://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>