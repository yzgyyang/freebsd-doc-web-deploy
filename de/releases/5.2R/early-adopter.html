<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Hinweise für die ersten Anwender von FreeBSD 5.2-RELEASE</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">Hinweise für die ersten Anwender von
FreeBSD 5.2-RELEASE</a></h1>

<div class="AUTHORGROUP"><a id="AEN4" name="AEN4"></a>
<h3 class="CORPAUTHOR">The FreeBSD Release Engineering Team</h3>
</div>

<p class="COPYRIGHT">Copyright &copy; 2002, 2003 The FreeBSD Release Engineering Team</p>

<p class="PUBDATE">$FreeBSD$<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD ist ein eingetragenes Warenzeichen von Wind River Systems, Inc. Dies soll sich
bald ändern.</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium und Xeon sind Warenzeichen
oder eingetragene Warenzeichen der Intel Corporation oder ihrer Gesellschaften in den
Vereinigten Staaten und in anderen Ländern.</p>

<p>Microsoft, FrontPage, MS-DOS, Outlook, Windows, Windows Media und Windows NT sind
entweder eingetragene Warenzeichen oder Warenzeichen der Microsoft Corporation in den
Vereinigten Staaten und/oder in anderen Ländern.</p>

<p>Sparc, Sparc64, SPARCEngine und UltraSPARC sind Warenzeichen von SPARC International,
Inc in den Vereinigten Staaten und in anderen Ländern. Produkte, die das
Warenzeichen SPARC tragen, basieren auf einer von Sun Microsystems, Inc. entwickelten
Architektur.</p>

<p>Viele Produktbezeichnungen von Herstellern und Verkäufern sind Warenzeichen.
Soweit dem FreeBSD Project das Warenzeichen bekannt ist, werden die in diesem Dokument
vorkommenden Bezeichnungen mit dem Symbol ``&trade;'' oder dem Symbol ``&reg;''
gekennzeichnet.</p>
</div>

<div>
<div class="ABSTRACT"><a id="AEN19" name="AEN19"></a>
<p>Dieser Artikel enthält Informationen über den Status von FreeBSD 5.2-RELEASE
für die Anwender, die bisher noch keine Erfahrung mit den 5.<var
class="REPLACEABLE">X</var> Versionen oder FreeBSD sammeln konnten. Er enthält
einige Hintergrundinformationen über die vor und während einer
Veröffentlichung ablaufende Prozesse, nennt die wichtigsten Neuerungen und die
Stellen, an denen die ersten Anwender Probleme haben könnten. Weiterhin gibt es
Informationen über die Pläne für weitere Veröffentlichungen im
Entwicklungszweig 4-STABLE und ein paar Hinweise für die Aktualisierung bestehender
Systeme.</p>
</div>
</div>

<hr />
</div>

<div class="SECT1">
<h2 class="SECT1"><a id="INTRO" name="INTRO">1. Einführung</a></h2>

<p>Nach über zwei Jahren steht mit FreeBSD 5.<var class="REPLACEABLE">X</var> wieder
eine komplett neue FreeBSD-Version zur Verfügung. Sie bietet nicht nur diverse neue
Möglichkeiten, auch und gerade ``unter der Haube'' hat sich einiges verbessert. Der
Nachteil dieser Neuerungen ist, daß große Teile des Systems neu und nicht
ausreichend getestet sind. Im Vergleich zu den existierenden 4.<var
class="REPLACEABLE">X</var> Versionen kann der Schritt zu den ersten 5.<var
class="REPLACEABLE">X</var> Versionen zu Verschlechterungen in den Bereichen
Stabilität, Leistung und teilweise auch Funktionalität führen.</p>

<p>Aus diesen Gründen warnen wir alle Anwender, ihre Systeme nicht von älteren
FreeBSD-Versionen auf 5.0 zu aktualisieren, wenn sie die &quot;Problemzonen&quot; nicht
kennen oder nicht bereit sind, die Einschränkungen in den neuesten Versionen in Kauf
zu nehmen. Gerade konservative Anwender sollten in der nahen Zukunft 4.<var
class="REPLACEABLE">X</var>-Versionen (wie 4.9-RELEASE) benutzen. Wir meinen, daß
diese Anwender erst zu 5.<var class="REPLACEABLE">X</var> wechseln sollten, nachdem der
Entwicklungszweig 5-STABLE existiert; dies wird wahrscheinlich nach der
Veröffentlichung von 5.3-RELEASE passieren.</p>

<p>Hier zeigt sich das ``Henne und Ei'' Problem bei der Veröffentlichung von FreeBSD
5.<var class="REPLACEABLE">X</var>. Alle am FreeBSD Project beteiligten Personen wollen
ein FreeBSD, das möglichst stabil und zuverlässig ist. Um dieses Ziel zu
erreichen, müssen die neue Version und speziell die neuen Komponenten von
möglichst vielen Anwendern getestet werden. Dummerweise gibt es bei realistischer
Betrachtung nur eine Möglichkeit, eine größere Anzahl an Anwender
für einen Test zu gewinnen: Die Veröffentlichung der zu testenden Version!</p>

<p>Dieser Artikel beschreibt einige der Probleme, die bei der Installation und Benutzung
von FreeBSD 5.2-RELEASE auftreten können. Zuerst wird beschrieben, wie eine neue
FreeBSD Version veröffentlicht wird. Dann werden die interessanteren Neuerungen in
FreeBSD 5.2-RELEASE und die Bereiche, in denen (gerade für unvorsichtige Anwender)
Probleme auftreten können, vorgestellt. Anwender, die erst einmal bei Systemen auf
Basis von 4-STABLE bleiben möchten, erhalten einen kurzen Ausblick auf die kurz- und
mittelfristigen Planungen für diesen Entwicklungszweig. Zuletzt wird besprochen, was
bei einer Aktualisierung eines existierenden 4.<var class="REPLACEABLE">X</var> Systems
auf 5.0 beachtet werden muß.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="RELEASE-OVERVIEW" name="RELEASE-OVERVIEW">2.
Veröffentlichung neuer FreeBSD-Versionen</a></h2>

<p>Das Prinzip der FreeBSD-Entwicklung ist die Verwendung mehrerer Entwicklungszweige
innerhalb eines ``CVS Repository''. Der Hauptzweig wird ``CURRENT'' genannt und innerhalb
des Repository mit dem symbolischen Namen <var class="LITERAL">HEAD</var> referenziert.
Neuerungen werden zunächst in diesen Zweig eingebracht. Das bedeutet zwar, daß
neue Möglichkeiten zunächst einmal nur in CURRENT zur Verfügung stehen, es
bedeutet allerdings auch, daß dieser Zweig von Zeit zu Zeit Kummer bereitet,
während die Neuerungen getestet und ihre Fehler entfernt werden.</p>

<p>Wenn eine neue FreeBSD-Version veröffentlicht wird, basiert diese in der Regel
auf einem der ``STABLE'' (stabil) genannten Entwicklungszweige. Neuerungen werden nur in
diese Entwicklungszweige übernommen, nachdem sie in CURRENT getestet wurden. Zur
Zeit gibt es nur einen aktiven STABLE Entwicklungszweig: ``4-STABLE''; dieser Zweig war
die Grundlage für alle 4.<var class="REPLACEABLE">X</var> Versionen. Dieser Zweig
wird innerhalb des CVS Repository durch den symbolischen Namen <var
class="LITERAL">RELENG_4</var> gekennzeichnet.</p>

<p>Die Basis für FreeBSD 5.0, 5.1 und 5.2 ist der Entwicklungszweig CURRENT. Die
erste dieser Versionen erschien nach über zwei Jahren Entwicklungszweig (die letzte
Veröffentlichung auf Basis von HEAD war FreeBSD 4.0, im März 2000).</p>

<p>Einige Zeit nach der Veröffentlichung von FreeBSD 5.0 wird im FreeBSD CVS
Repository der Zweig ``5-STABLE'' mit dem symbolischen Namen <var
class="LITERAL">RELENG_5</var> erzeugt werden. Die letzten beiden Entwicklungszweige
dieser Art (3-STABLE und 4-STABLE) wurden unmittelbar nach der Veröffentlichung der
jeweiligen ``Punkt Null'' Versionen (3.0 bzw. 4.0) erzeugt. Rückblickend müssen
wir feststellen, daß dadurch in beiden Fällen nicht genug Zeit war, um CURRENT
zu stabilisieren, bevor der neue Entwicklungszweig eingerichtet wurde. Dies führte
zu unnötiger Mehrarbeit, da Fehlerkorrekturen von einem Zweig in den anderen Zweig
übertragen werden mußten; außerdem kam es zu einigen Änderungen in
der Architektur, die nicht in den jeweils anderen Zweig übernommen werden
konnten.</p>

<p>Aus diesem Grund wird das Release Engineering Team den neuen 5-STABLE
Entwicklungszweig erst dann im CVS Repository einrichten, wenn eine solide Grundlage zur
Verfügung steht. Es ist sehr wahrscheinlich, daß vorher mehrere 5.<var
class="REPLACEABLE">X</var> Versionen erscheinen werden; zur Zeit rechnen wir damit,
daß 5-STABLE beim Erscheinen von 5.3-RELEASE erzeugt werden wird.</p>

<p>Weitere Informationen über den Ablauf bei der Veröffentlichung einer neuen
FreeBSD Version finden Sie auf den <a href="http://www.FreeBSD.org/releng/index.html"
target="_top">Release Engineering Web pages</a> und im Artikel <a
href="http://www.freebsd.org/doc/en_US.ISO8859-1/articles/releng/index.html"
target="_top">FreeBSD Release Engineering</a>. Informationen über den geplanten
Entwicklungszweig 5-STABLE finden Sie auf der <a
href="http://docs.freebsd.org/doc/5.2-RELEASE/usr/share/doc/en_US.ISO8859-1/articles/5-roadmap/index.html"
target="_top">``The Roadmap for 5-STABLE''</a>.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="NEW" name="NEW">3. Neuerungen</a></h2>

<p>Die Glanzpunkte von FreeBSD 5.<var class="REPLACEABLE">X</var> sind die vielen
Neuerungen. Diese Neuerungen und die neue Funktionalität basieren zum
größten Teil auf massiven Änderungen der Systemarchitektur, die nicht in
den Entwicklungszweig 4-STABLE eingepflegt wurden. Viele in sich abgeschlossene
Änderungen wie Treiber für neue Geräte oder neue Benutzerprogramme wurden
dagegen schon nach 4-STABLE übernommen. Die folgende Liste enthält eine kurze
Übersicht über die wichtigsten Neuerungen in FreeBSD 5.0:</p>

<ul>
<li>
<p>SMPng: Die ``nächste Generation'' der Unterstützung für Systeme mit
mehreren Prozessoren (noch nicht abgeschlossen). Die Arbeit konzentriert sich zur Zeit
darauf, Locks fuer möglichst kleine Bereiche der diversen Subsysteme des Kernels zu
implementieren, damit möglichst viele Vorgänge (Threads) gleichzeitig im Kernel
ablaufen können.</p>
</li>

<li>
<p>KSE: Die ``Kernel Scheduled Entities'' erlauben es einem Prozess, mehrere Threads auf
Kernel-Ebene zu nutzen, analog zur Aktivierung via Scheduler. Die Bibliotheken <tt
class="FILENAME">libkse</tt> und <tt class="FILENAME">libthr</tt> erlauben auch normalen
Programmen mit mehreren Threads, diese Erweiterung über die <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pthread&sektion=3&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pthread</span>(3)</span></a> API
zu nutzen.</p>
</li>

<li>
<p>Neue Plattformen: Zusätzlich zu i386, pc98 und Alpha werden jetzt auch sparc64,
ia64 und amd64 Systeme unterstützt.</p>
</li>

<li>
<p>GCC: Der Compiler und die dazugehörigen Werkzeuge basieren jetzt auf GCC 3.3 und
nicht mehr auf GCC 2.95.<var class="REPLACEABLE">X</var>.</p>
</li>

<li>
<p>MAC: Unterstützung für erweiterbare ``Mandatory Access Control''
Regelwerke.</p>
</li>

<li>
<p>GEOM: Ein flexibles Gerüst zur Manipulation von Daten beim Transfer von und zu
Festplatten. Auf dieser Basis wurde GBDE entwickelt, ein experimentelles Modul zur
Verschlüsselung des Festplatteninhaltes.</p>
</li>

<li>
<p>FFS: Das Dateisystem unterstützt jetzt Hintergrund-<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fsck</span>(8)</span></a> (um das
System nach einem Absturz schneller verfügbar zu machen) sowie
``Schnappschüsse''.</p>
</li>

<li>
<p>UFS2: Dieses neue Dateisystem unterstützt größere Dateien und
zusätzliche Dateiberechtigungen. <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a> erzeugt
jetzt standardmäßig UFS2 Dateisysteme und auf allen Plattformen außer
PC98 gilt dies auch für Dateisysteme, die mit <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
erzeugt werden.</p>
</li>

<li>
<p>Cardbus: Cardbus wird jetzt unterstützt.</p>
</li>

<li>
<p>Bluetooth: Bluetooth-Geräte werden jetzt unterstützt.</p>
</li>
</ul>

<p>Eine ausführlichere Übersicht über die Neuerungen finden Sie in den
``Release Notes'' für die verschiedenen FreeBSD 5.<var class="REPLACEABLE">X</var>
Versionen.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="DRAWBACKS" name="DRAWBACKS">4. Nachteile für frühe
Anwender</a></h2>

<p>Ein Nachteil der Neuerungen in FreeBSD 5.<var class="REPLACEABLE">X</var> ist,
daß es in einigen Bereichen auf Grund der noch nicht abgeschlossenen Entwicklung zu
Problemen oder zu unerwarteten Effekten kommen kann. Einige (aber nicht alle) der
Problemzonen sind in der folgenden Liste zusammengefaßt:</p>

<ul>
<li>
<p>Die Arbeit an diversen Neuerungen ist noch nicht abgeschlossen, dazu gehören
unter anderem SMPng und KSE. Diese Erweiterungen sind zwar für Test- und
Experimentalzwecke ausreichend stabil, aber unter Umständen nicht stabil genug
für den Produktionsbetrieb.</p>
</li>

<li>
<p>Durch die Änderungen in den Datenstrukturen des Kernels und der Schnittstellen
für Anwendungen und Programmierer (ABI/API), müssen Treiber anderer Hersteller
angepaßt werden, damit sie korrekt mit FreeBSD 5.0 zusammenarbeiten. Es ist nicht
ausgeschlossen, daß es bis zum Erscheinen des Entwicklungszweiges 5-STABLE weitere
kleinere Änderungen am ABI/API geben wird, speziell auf den neueren Architekturen.
In einigen (hoffentlich seltenen) Fällen können sich auch für den Anwender
sichtbare Strukturen ändern, was es notwendig machen kann, Anwendungen neu zu
kompilieren und/oder Ports und Packages neu zu installieren.</p>
</li>

<li>
<p>Einige Teile des FreeBSD Basissystems wurden in die Ports Collection verschoben. Dazu
gehören insbesondere <b class="APPLICATION">Perl</b>, <b
class="APPLICATION">UUCP</b> und die meisten (nicht alle) Spiele. Diese Programme werden
zwar weiterhin entwickelt und unterstützt, es kann aber verwirren, daß sie
nicht mehr Teil des Basissystems sind.</p>
</li>

<li>
<p>Einige Teile des FreeBSD-Basissystems wurden nicht mehr gepflegt, weil es nicht
genügend Anwender und/oder Entwickler gab. Diese Teile mußten entfernt werden,
dazu zählen unter anderem die Erzeugung von Programmen im Format a.out;, die
XNS-Netzwerkprotokolle und der Treiber für den X-10 Controller.</p>
</li>

<li>
<p>Viele Ports und Packages, die mit FreeBSD 4-STABLE noch korrekt liefen, können
mit FreeBSD 5.<var class="REPLACEABLE">X</var> nicht genutzt oder nicht kompiliert
werden. Der Grund ist in der Regel der neue Compiler oder die Aufräumarbeiten in den
Header-Dateien. In einigen Fällen liegt es aber auch an den Änderungen im
Kernel oder bei den unterstützten Geräten.</p>
</li>

<li>
<p>Viele der Neuerungen in FreeBSD 5.<var class="REPLACEABLE">X</var> wurden bisher nur
auf relativ wenigen Systemen getestet. Viele dieser Neuerungen (wie SMPng) haben
Auswirkungen auf große Bereiche des Kernels, und es ist schwierig, ihre
Auswirkungen auf die Stabilität und Geschwindigkeit des Systems
abzuschätzen.</p>
</li>

<li>
<p>Die Neuerungen in FreeBSD 5.<var class="REPLACEABLE">X</var> enthalten noch Routinen
zur Unterstützung bei der Fehlersuche und Diagnose. Dadurch kann es dazu kommen,
daß ein System mit FreeBSD 5.<var class="REPLACEABLE">X</var> langsamer ist als mit
4-STABLE.</p>
</li>

<li>
<p>Neuerungen werden erst in den Entwicklungszweig 4-STABLE übernommen, nachdem sie
eine Zeit lang in -CURRENT ``gereift'' sind. Bei FreeBSD 5.<var
class="REPLACEABLE">X</var> fehlt dieser stabilisierende Effekt eines -STABLE
Entwicklungszweiges. Der Entwicklungszweig 5-STABLE wird wahrscheinlich erst einige Zeit
nach der Veröffentlichung von 5.3-RELEASE eingerichtet werden.</p>
</li>

<li>
<p>Die Dokumentation (wie z.B. das FreeBSD <a
href="http://www.FreeBSD.org/doc/de_DE.ISO8859-1/books/handbook/index.html"
target="_top">Handbuch</a> und der <a
href="http://www.FreeBSD.org/doc/de_DE.ISO8859-1/books/faq/index.html"
target="_top">FAQ</a>) ist teilweise noch nicht auf dem Stand von FreeBSD 5.<var
class="REPLACEABLE">X</var>.</p>
</li>
</ul>

<p>Da einige dieser Probleme auch negative Auswirkungen auf die Stabilität des
Systems haben, rät das Release Engineering Team konservativen Anwendern und Firmen,
Versionen aus dem Entwicklungszweig 4-STABLE zu verwenden, bis die 5.<var
class="REPLACEABLE">X</var> Versionen zuverlässiger geworden sind. Wir sind zwar der
Meinung, daß viele der Stabilitätsprobleme der ersten Versionen behoben
wurden, allerdings wird noch an einigen Geschwindigkeitsprobleme gearbeitet. Wir weisen
auch darauf hin, daß ein guter Systemadministrator neue Versionen erst auf
Testsystemen ausprobiert, bevor er sie auf seinen Produktionssystemen oder anderen
wichtigen Maschinen installiert.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="PLANS-STABLE" name="PLANS-STABLE">5. Die Zukunft des
Entwicklungszweiges 4-STABLE</a></h2>

<p>Die Veröffentlichung der ersten 5.<var class="REPLACEABLE">X</var> bedeutet
nicht, daß die Unterstützung für die 4.<var class="REPLACEABLE">X</var>
Versionen eingestellt wird. FreeBSD 4.8 erschien im April 2003, zwei Monate nach der
Veröffentlichung von FreeBSD 5.0, gefolgt von FreeBSD 4.9 im Oktober 2003. Ob es
weitere Versionen auf der Basis des Entwicklungszweiges 4-STABLE geben wird, hängt
von mehreren Faktoren ab, der wichtigste davon ist die Existenz und Stabilität des
Entwicklungszweiges 5-STABLE. Wenn CURRENT nicht stabil genug ist, um einen
Entwicklungszweig 5-STABLE zu rechtfertigen, werden weitere Versionen auf Basis des
Entwicklungszweiges 4-STABLE möglich und notwendig sein. Bis zum Erscheinen der
offiziell letzten Version auf Basis von 4-STABLE bleibt es den Entwicklern
überlassen, ob sie Neuerungen aus <var class="LITERAL">HEAD</var> in 4-STABLE
einpflegen (im Rahmen der schon bestehenden Regelungen).</p>

<p>Bis zu einem gewissen Grad werden das Release Engineering Team und die Entwickler auch
die Wünsche der Benutzer nach weiteren Versionen auf Basis von 4-STABLE beachten.
Allerdings nur, so weit dies im Rahmen der beschränkten Ressourcen möglich ist.
Unserer Erfahrung nach tendiert die FreeBSD Gemeinschaft (sowohl Anwender als auch
Entwickler) dazu, Erweiterungen in die 5.<var class="REPLACEABLE">X</var> Versionen
einzubringen, weil es zu schwierig ist, neue Funktionalitäten in 4.<var
class="REPLACEABLE">X</var> einzubauen und dort zu pflegen.</p>

<p>Neue Versionen auf Basis des Entwicklungszweiges 4-STABLE werden vom Security Officer
Team <code class="EMAIL">&lt;<a
href="mailto:security-officer@FreeBSD.org">security-officer@FreeBSD.org</a>&gt;</code>
im üblichen Rahmen unterstützt werden, genauere Informationen dazu finden Sie
auf der <a href="http://www.FreeBSD.org/security/index.html" target="_top">Security
page</a> auf der FreeBSD Webseite. In der Regel werden die letzten beiden Versionen jedes
Entwicklungszweiges durch die Veröffentlichung von Sicherheitshinweisen und Patches
unterstützt; dem Team ist es allerdings freigestellt, diese Unterstützung auf
weitere Versionen oder spezielle Probleme auszudehnen.</p>

<p>Das Release Engineering Team hat zur Zeit keine konkreten Pläne für weitere
Veröffentlichungen auf Basis des Entwicklungszweiges 4-STABLE. Falls es sie geben
sollte, werden sie keine größeren Änderungen enthalten. Sie werden
wahrscheinlich eine Versionsnummer der Form 4.9.<var class="REPLACEABLE">X</var> tragen,
um anzuzeigen, daß es im Vergleich zu 4.9-RELEASE keine größeren
funktionalen Änderungen gibt. Die Schwerpunkte werden in den Bereichen Sicherheit,
Korrektur von Fehlern und Treiber-Verbesserungen liegen (speziell, wenn bereits
existierende Treiber einfach um die Unterstützung für neue Geräte zu
erweitern sind). Größere Änderungen wird es in diesen Versionen nicht
geben, das gilt besonders für Änderungen, die auf die in 5.<var
class="REPLACEABLE">X</var> neu eingeführte Infrastruktur angewiesen sind.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="UPGRADE" name="UPGRADE">6. Hinweise für die Aktualisierung
von FreeBSD 4.<var class="REPLACEABLE">X</var></a></h2>

<p>Dieses Kapitel enthält Hinweise für Anwender, die ihr bestehendes FreeBSD
4.<var class="REPLACEABLE">X</var> System auf FreeBSD 5.<var class="REPLACEABLE">X</var>
aktualisieren wollen. Wie bei jeder Aktualisierung ist es auf jeden Fall notwendig,
vorher die Release Notes und die Errata der neuen Version zu lesen; bei Aktualisierung
über den Quellcode ist <tt class="FILENAME">src/UPDATING</tt>
Pflichtlektüre.</p>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="AEN166" name="AEN166">6.1. Aktualisierung ohne
Quellcode</a></h3>

<p>Der einfachste Ansatz ist immer noch ``Sicherheitskopien erstellen, Platte
formatieren, neues System installieren, Daten wieder einspielen''. Dadurch werden alle
Probleme mit veralteten und nicht kompatiblen Programmen und Konfigurationsdateien
umgangen. Die neuen Dateisysteme können maximalen Nutzen aus den diversen Neuerungen
(speziell UFS2) ziehen.</p>

<p>Zum gegenwärtigen Zeitpunkt hat noch niemand ausführlich getestet, ob und
wie gut die ``Upgrade''-Option in <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
bei einem Update von 4.0 zu 5.0 funktioniert. Wir raten daher dringend von der Verwendung
dieser Funktion ab. Eines der Hauptprobleme ist, daß bei dieser Variante diverse
Dateien nicht gelöscht werden, die zwar von 4.<var class="REPLACEABLE">X</var>
genutzt wurden, aber in 5.<var class="REPLACEABLE">X</var> nicht mehr vorhanden sind.
Diese Altlasten können zu Problemen führen. Dazu gehören unter anderem
veraltete C++-Headerdateien, in die Ports Collection verschobene Programme und shared
libraries, die verschoben wurden, um dynamisch gebundene Programme auf dem
Root-Dateisystem möglich zu machen.</p>

<p>Auf <span class="TRADEMARK">i386</span>&trade; und pc98 Systemen kann die
Konfiguration von ISA Geräten beim Systemstart mit dem Werkzeug UserConfig
eingestellt werden, dies gilt auch beim Start von einem Installations-Medium. Dieses
Programm wurde in FreeBSD 5.<var class="REPLACEABLE">X</var>.0 durch <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=device.hints&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">device.hints</span>(5)</span></a>
ersetzt; dieses stellt zwar die gleiche Funktionalität bereit, ist aber von der
Bedienung her völlig verschieden.</p>

<p>Bei einer Installation von Diskette kann es notwendig werden, die neue
Treiber-Diskette zu benutzen. Das <tt class="FILENAME">drivers.flp</tt> Diskettenimage
sollte im allgemeinen überall dort verfügbar sein, wo auch schon die bekannten
<tt class="FILENAME">kern.flp</tt> und <tt class="FILENAME">mfsroot.flp</tt>
verfügbar sind.</p>

<p>Bei einer Installation von CD-ROM auf einem <span class="TRADEMARK">i386</span>-System
wird jetzt ein neues Startprogramm mit dem Namen ``no-emulation boot loader'' genutzt.
Dadurch ist es unter anderem möglich, auf der CD den Standardkernel (<var
class="LITERAL">GENERIC</var>) statt des auf den Disketten verwendeten Mini-Kernels zu
nutzen. Jedes System, das von den Installations-CDs für <span
class="TRADEMARK">Microsoft</span>&reg; <span
class="TRADEMARK">Windows&nbsp;NT</span>&reg; 4.0 booten kann, sollte auch mit den
FreeBSD 5.<var class="REPLACEABLE">X</var> CD-ROMs zurechtkommen.</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="AEN194" name="AEN194">6.2. Aktualisierung mit Quellcode</a></h3>

<p>Es ist auf jeden Fall erforderlich, vor der Aktualisierung <tt
class="FILENAME">src/UPDATING</tt> zu lesen. Der Abschnitt ``To upgrade from 4.x-stable
to current'' enthält eine Schritt-für-Schritt Anleitung, der Sie unbedingt
folgen müssen, die Nutzung der üblichen ``Abkürzungen'' ist nicht
möglich.</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="AEN200" name="AEN200">6.3. Allgemeine Hinweise</a></h3>

<p><b class="APPLICATION">Perl</b> wurde aus dem Basissystem entfernt und sollte entweder
als Package oder über die Ports Collection installiert werden. Die bisher
übliche Praxis, Perl als Teil des Basissystems zu behandeln und mit ihm zusammen zu
kompilieren, führte zu diversen Problemen, die eine Aktualisierung von Perl
erschwerten. Die im Standardsystem vorhandenen Programme, die Perl benötigten,
wurden entweder in einer anderen Sprache neu geschrieben (wenn sie noch benötigt
wurden) oder ersatzlos entfernt (wenn sie überflüssig waren). Da <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
das Perl Package bei den meisten Distributionen automatisch mit installiert, sollte diese
Änderung kaum Auswirkungen auf die Anwender haben.</p>

<p>Einige Scripte verlassen sich darauf, daß der Perl-Interpreter als <tt
class="FILENAME">/usr/bin/perl</tt> verfügbar ist. Der Perl Port enthält das
Programm <tt class="FILENAME">use.perl</tt>, mit dem ein passender Satz symbolischer
Links für diese Scripte erzeugt werden kann. Nach dem Aufruf von <tt
class="COMMAND">use.perl port</tt> sollte alles wie erwartet funktionieren.</p>

<p>Es ist zwar möglich, für 4.<var class="REPLACEABLE">X</var> geschriebene
Programme unter 5.<var class="REPLACEABLE">X</var> zu nutzen, allerdings muß dazu
die Distribution <tt class="FILENAME">compat4x</tt> installiert sein. Es mag zwar in
einigen Fällen möglich sein, alte Ports zu benutzen, allerdings sind einige
Fälle bekannt, in denen es definitiv nicht möglich ist. Zum Beispiel
müssen die Ports <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/devel/gnomevfs2/pkg-descr"><tt
class="FILENAME">devel/gnomevfs2</tt></a>, <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/mail/postfix/pkg-descr"><tt
class="FILENAME">mail/postfix</tt></a> und <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/security/cfs/pkg-descr"><tt
class="FILENAME">security/cfs</tt></a> neu übersetzt werden, da sich die Struktur
<var class="LITERAL">statfs</var> geändert hat.</p>

<p>Bei der Aktualisierung eines bestehenden Systems auf Basis von 4-STABLE, ist es
unbedingt notwendig, die alten Dateien in <tt class="FILENAME">/usr/include</tt> zu
löschen. Im allgemeinen ist es ausreichend, dieses Verzeichnis vor der Installation
bzw. vor dem <tt class="MAKETARGET">installworld</tt> zu entfernen. Wird das Verzeichnis
nicht entfernt, kann es zu Problemen kommen (speziell mit C++-Programmen), da der
Compiler dann einen Mix aus alten und neuen Headerdateien verwendet.</p>

<p>Es gibt kein <tt class="FILENAME">MAKEDEV</tt> mehr, weil es nicht mehr benötigt
wird. FreeBSD 5.<var class="REPLACEABLE">X</var> benutzt ein spezielles Dateisystem
für Geräte, das die entsprechenden Device Nodes bei Bedarf automatisch erzeugt.
Weitere Informationen finden Sie in <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">devfs</span>(5)</span></a>.</p>

<p>Alle mit <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a>
erzeugten Dateisysteme werden standardmäßig im Format UFS2 angelegt. Diese
gilt auf allen Plattformen außer PC98 auch für Dateisysteme, die mit <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
erzeugt werden. Da FreeBSD 4.<var class="REPLACEABLE">X</var> nur UFS1 lesen kann,
müssen alle Dateisysteme, die sowohl mit 4.<var class="REPLACEABLE">X</var> als auch
mit 5.<var class="REPLACEABLE">X</var> nutzbar sein sollen, im Format UFS1 erzeugt
werden. Dieser Fall tritt typischerweise auf Systemen auf, auf denen 4.<var
class="REPLACEABLE">X</var> und 5.<var class="REPLACEABLE">X</var> installiert und
abwechselnd betrieben werden. In <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a> steht
dazu die Option <var class="OPTION">-O1</var> zur Verfügung, auch <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
enthält eine entsprechende Option. Bitte beachten Sie, daß es kein
Konvertierungsprogramm zur Umwandlung von UFS1 nach UFS2 (oder umgekehrt) gibt, nur die
Variante Backup, Formatieren, Restore.</p>
</div>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="SUMMARY" name="SUMMARY">7. Zusammenfassung</a></h2>

<p>FreeBSD 5.2-RELEASE enthält zwar viele interessante Neuerungen, aber es ist noch
nicht für alle Anwender geeignet. Aus diesem Grund haben wir in diesem Dokument
Informationen über die Abläufe bei der Veröffentlichung einer neuen
Version, die interessantesten Neuerungen in den 5.<var class="REPLACEABLE">X</var>
Versionen und wahrscheinliche Probleme gegeben. Weiterhin enthielt er einen Ausblick auf
die Zukunft des Entwicklungszweiges 4-STABLE und Informationen für Anwender, die
schon jetzt umsteigen wollen.</p>
</div>
</div>

<hr />
<p align="center"><small>Diese Datei und andere Dokumente zu dieser Version sind bei <a
href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>verfuegbar.</small></p>

<p align="center"><small>Wenn Sie Fragen zu FreeBSD haben, lesen Sie erst die <a
href="http://www.FreeBSD.org/docs.html">Dokumentation,</a> bevor Sie sich an &lt;<a
href="mailto:de-bsd-questions@de.FreeBSD.org">de-bsd-questions@de.FreeBSD.org</a>&gt;
wenden.</small></p>

<p align="center"><small>Wenn Sie Fragen zu dieser Dokumentation haben, wenden Sie sich
an &lt;<a
href="mailto:de-bsd-translators@de.FreeBSD.org">de-bsd-translators@de.FreeBSD.org</a>&gt;.</small></p>

<br />
<br />
</body>
</html>

