<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:db="http://docbook.org/ns/docbook">
  <head>
    <title>FreeBSD GNOME Project: GNOME 2.32 Upgrading FAQ</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" media="screen,print" href="../../layout/css/fixed.css?20130112" type="text/css" />
    <script type="text/javascript" src="../../layout/js/google.js"></script>
  </head>
  <body>
    <div id="containerwrap">
      <div id="container">
        <span class="txtoffscreen"><a href="#content" title="Skip site navigation" accesskey="1">Skip site navigation</a> (1)
  <a href="#contentwrap" title="Skip section navigation" accesskey="2">Skip section navigation</a> (2)
</span>
        <div id="headercontainer">
          <div id="header">
            <h2 class="blockhide">Header And Logo</h2>
            <div id="headerlogoleft">
              <a href="../.." title="FreeBSD">
                <img src="../../layout/images/logo-red.png" width="457" height="75" alt="FreeBSD" />
              </a>
            </div>
            <div id="headerlogoright">
              <div class="frontdonateroundbox">
                <div class="frontdonatetop">
                  <div>
                    <b style="display: none;">.</b>
                  </div>
                </div>
                <div class="frontdonatecontent">
                  <a href="https://www.FreeBSDFoundation.org/donate/">Donate to FreeBSD</a>
                </div>
                <div class="frontdonatebot">
                  <div>
                    <b style="display: none;">.</b>
                  </div>
                </div>
              </div>
              <h2 class="blockhide">Peripheral Links</h2>
              <div id="searchnav">
                <ul id="searchnavlist"></ul>
              </div>
              <div id="search">
                <form method="get" id="search" action="https://duckduckgo.com/">
                  <h2 class="blockhide">
                    <label for="words">Search</label>
                  </h2>
                  <input type="hidden" name="sites" value="www.FreeBSD.org,docs.FreeBSD.org,lists.FreeBSD.org,wiki.FreeBSD.org,forums.FreeBSD.org" />
                  <input type="hidden" name="ka" value="v" />
                  <input type="hidden" name="kt" value="v" />
                  <input type="hidden" name="kh" value="1" />
                  <input type="hidden" name="kj" value="r2" />
                  <input id="words" name="q" type="text" size="20" maxlength="255" onfocus="if( this.value==this.defaultValue ) this.value='';" value="Search" />
                  <span> </span>
                  <input id="submit" name="submit" type="submit" value="Search" />
                </form>
              </div>
            </div>
          </div>
          <h2 class="blockhide">Site Navigation</h2>
          <div id="menu">
            <ul class="first">
              <li>
                <a href="../../">Home</a>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../about.html">About</a>
                <ul>
                  <li>
                    <a href="../../projects/newbies.html">Introduction</a>
                  </li>
                  <li>
                    <a href="../../features.html">Features</a>
                  </li>
                  <li>
                    <a href="../../advocacy/">Advocacy</a>
                  </li>
                  <li>
                    <a href="../../marketing/">Marketing</a>
                  </li>
                  <li>
                    <a href="../../privacy.html">Privacy Policy</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../where.html">Get FreeBSD</a>
                <ul>
                  <li>
                    <a href="../../releases/">Release Information</a>
                  </li>
                  <li>
                    <a href="../../releng/">Release Engineering</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../docs.html">Documentation</a>
                <ul>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/faq/">FAQ</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/handbook/">Handbook</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/porters-handbook">Porter's Handbook</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/developers-handbook">Developer's Handbook</a>
                  </li>
                  <li>
                    <a href="//www.FreeBSD.org/cgi/man.cgi">Manual Pages</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/fdp-primer">Documentation Project Primer</a>
                  </li>
                  <li>
                    <a href="../../docs/books.html">All Books and Articles</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../community.html">Community</a>
                <ul>
                  <li>
                    <a href="../../community/mailinglists.html">Mailing Lists</a>
                  </li>
                  <li>
                    <a href="https://forums.FreeBSD.org">Forums</a>
                  </li>
                  <li>
                    <a href="../../usergroups.html">User Groups</a>
                  </li>
                  <li>
                    <a href="../../events/events.html">Events</a>
                  </li>
                  <li>
                    <a href="http://freebsdjournal.com">FreeBSD Journal</a>
                  </li>
                  <li>
                    <a href="http://serverfault.com/questions/tagged/freebsd">Q&amp;A (external)</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../projects/index.html">Developers</a>
                <ul>
                  <li>
                    <a href="https://wiki.FreeBSD.org/IdeasPage">Project Ideas</a>
                  </li>
                  <li>
                    <a href="https://svnweb.FreeBSD.org">Subversion Repository</a>
                  </li>
                  <li>
                    <a href="https://github.com/freebsd">Git Mirror</a>
                  </li>
                  <li>
                    <a href="https://reviews.FreeBSD.org">Code Review (Phabricator)</a>
                  </li>
                  <li>
                    <a href="https://wiki.FreeBSD.org">Wiki</a>
                  </li>
                  <li>
                    <a href="https://ci.FreeBSD.org">Continuous Integration Service</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../support.html">Support</a>
                <ul>
                  <li>
                    <a href="../../commercial/commercial.html">Vendors</a>
                  </li>
                  <li>
                    <a href="../../security/">Security Information</a>
                  </li>
                  <li>
                    <a href="https://bugs.FreeBSD.org/search/">Bug Reports</a>
                  </li>
                  <li>
                    <a href="https://www.FreeBSD.org/support.html">Submitting Bug Reports</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="https://www.freebsdfoundation.org/">Foundation</a>
                <ul>
                  <li>
                    <a href="https://www.freebsdfoundation.org/donate/">Monetary Donations</a>
                  </li>
                  <li>
                    <a href="../../donations/index.html#systems">Hardware Donations</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        <div id="content">
          <div id="sidewrap">
            <div id="sidenav">
              <h2 class="blockhide">Section Navigation</h2>
              <ul>
                <li>
                  <a href="../../gnome/index.html">GNOME</a>
                  <ul>
                    <li>
                      <a href="../../gnome/docs/faq2.html#q1">Installation Instructions</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/faq232.html#q2">Upgrade Instructions</a>
                    </li>
                    <li>
                      <a href="../../gnome/../ports/gnome.html">Available Applications</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/volunteer.html">How to Help</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/bugging.html">Reporting a Bug</a>
                    </li>
                    <li>
                      <a href="../../gnome/screenshots.html">Screenshots</a>
                    </li>
                    <li>
                      <a href="../../gnome/contact.html">Contact Us</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a href="../../gnome/index.html">Documentation</a>
                  <ul>
                    <li>
                      <a href="../../gnome/docs/faq2.html">FAQ</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/halfaq.html">HAL FAQ</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/faq232.html">2.30 to 2.32 Upgrade FAQ</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/develfaq.html">Development Branch FAQ</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/porting.html">Creating Ports</a>
                    </li>
                    <li>
                      <a href="../../gnome/docs/faq232.html#q4">Known Issues</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
          <div id="contentwrap"><h1>FreeBSD GNOME Project: GNOME 2.32 Upgrading FAQ</h1>

  <h2>Contents</h2>
    <ol>
    <li> <a href="#q1" shape="rect">What is new in GNOME 2.32?</a></li>
    <li> <a href="#q2" shape="rect">How do I upgrade to GNOME 2.32?</a></li>
    <li> <a href="#q3" shape="rect">The upgrade failed; what do I do?</a></li>
    <li> <a href="#q4" shape="rect">List of known GNOME 2.32 problems and their solutions</a></li>
    <li> <a href="#q5" shape="rect">I have found a bug; whom should I alert?</a></li>
    <li> <a href="#q6" shape="rect">I want the fame and glory of the FreeBSD GNOME team!  What
      can I do to participate?</a></li>
    </ol>

  <h2>Full Text</h2>
    <ol>

      <li style="padding-bottom: 0.5em"><a name="q1" shape="rect" id="q1"></a>
      <p><b>What is new in GNOME 2.32?</b></p>

      <p>Although the canonical summary of new features can be found at
        <a href="http://library.gnome.org/misc/release-notes/2.32/" shape="rect">http://library.gnome.org/misc/release-notes/2.32/</a>,
	some of the most exciting new features of GNOME 2.32 are:</p>

      <ul>
        <li>A new updated hal port has been included which provides
	  Fuse support (e.g. for ntfs-3g mounts).</li>
	<li>A new IM client, empathy, has been added to the
	  Desktop.</li>
	<li>A time-tracking applet, Hamster, has been added to the
	  Desktop.</li>
	<li>Sound theme support has been added.</li>
      </ul>

      </li>


      <li style="padding-bottom: 0.5em"><a name="q2" shape="rect" id="q2"></a>
      <p><b>How do I upgrade to GNOME 2.32?</b></p>

      <p>The answer is relatively simple:</p>

      <ol>
	<li>
	  <p>To build GNOME 2.32, you need to obtain the latest
	    ports tree skeleton.  This is most easily accomplished with
	    <tt>portsnap(8)</tt> or <a href="https://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/cvsup.html" shape="rect">CVSup</a>.  Simply obtain the latest ports tree, and you are
	    ready to go.  Then do the following:</p>
	  <pre xml:space="preserve">
# pkgdb -Ff
(Answer "yes" to unregister gail while keeping gtk20.)
(Answer "yes" to unregister fast-user-switch-applet while keeping
gdm.)

# pkg_deinstall -fO gtkmm-2.12\*
# portupgrade -aOW
# portupgrade -f gnome-session
	  </pre>

	    <p><b>NOTE:</b> it is recommended to run <b>portupgrade
	    -a</b> to make sure you get all the necessary ports.</p>

	  <p>If you are a <tt>portmaster(8)</tt> user, make sure you have
	    least 1.9 version. Then do the following:</p>

	  <pre xml:space="preserve">
# pkg_delete -f gtkmm-2.12\*
# portmaster -a
# portmaster gnome-session
	  </pre></li>

	</ol>
	</li>


      <li style="padding-bottom: 0.5em"><a name="q3" shape="rect" id="q3"></a>
      <p><b>The upgrade failed; what do I do?</b></p>

      <p>Unfortunately, this is not only possible, it is highly probable.  There are many possible
        valid GNOME configurations, and even more invalid starting points.  If the script fails,
	follow the instructions in the error message to let the FreeBSD GNOME team know about the
	failure.</p>

      <p>The majority of build failures will be dependency-related issues.  One simple way to resolve
        the problem is to remove the offending port, re-run <tt>portupgrade</tt> or <tt>portmaster</tt>, and then
	reinstall the port when the upgrade process is complete.</p>
      </li>


      <li style="padding-bottom: 0.5em"><a name="q4" shape="rect" id="q4"></a>
      <p><b>List of GNOME 2.32 problems and their solutions</b></p>

      <p>Although GNOME 2.32 is certainly the best release to date (of course), there are
	    a couple regressions that slipped in, both in the GNOME code and in its implementation
		within FreeBSD.  Some of the more visible issues are:</p>

      <ul>
        <li><b>HAL</b> does not work with the new usb2 stack in
	  -CURRENT.  If you try to use hal with usb2, the hald daemon
	  will take up 100% of the CPU.  Work is underway to fix
	  this.</li>

	<li>Session management is broken in GNOME 2.32.  See
	  <a href="http://np237.livejournal.com/22014.html" shape="rect">
	  http://np237.livejournal.com/22014.html</a> for more details.  A
	  good workaround can be found at
	  <a href="http://blogs.sun.com/mattman/entry/gnome_2_24_session_save1" shape="rect">
	  http://blogs.sun.com/mattman/entry/gnome_2_24_session_save1</a>.</li>

        <li><b>HAL</b> can not unmount and reset the da[0-9] devices
	  associated with USB disks when you manually detach them from
	  the system.  Manually removing a USB umass device while it
	  is mounted can result in a panic.  This is a known bug in FreeBSD.
	  See <a href="https://www.freebsd.org/cgi/query-pr.cgi?pr=kern/103258" shape="rect">kern/103258</a> and <a href="https://www.freebsd.org/cgi/query-pr.cgi?pr=kern/89102" shape="rect">kern/89102</a> for more details.</li>
      </ul>
      </li>


      <li style="padding-bottom: 0.5em"><a name="q5" shape="rect" id="q5"></a>
      <p><b>I have found a bug; whom should I alert?</b></p>

      <p>Please read the FreeBSD GNOME Project's
        <a href="https://www.FreeBSD.org/gnome/docs/bugging.html" shape="rect">documentation on reporting bugs</a>.
      </p>
      </li>


      <li style="padding-bottom: 0.5em"><a name="q6" shape="rect" id="q6"></a>
      <p><b>I want the fame and glory of being part of the FreeBSD GNOME team!
	    What can I do to participate?</b></p>

      <p>Please read our list of <a href="https://www.FreeBSD.org/gnome/docs/volunteer.html" shape="rect">ways
        to get involved</a>!
      </p>
      </li>
    </ol>

</div>
          <br class="clearboth" />
        </div>
        <div id="footer">
          <span><a href="../../search/index-site.html">Site Map</a> |
  <a href="../../copyright/">Legal Notices</a> | © 1995&#8211;2018 The FreeBSD Project.
  All rights reserved.</span>
          <br />
        </div>
      </div>
    </div>
  </body>
</html>
